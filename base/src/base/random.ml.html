<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Source: random.ml (base.src.base)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.css"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/></head><body class="odoc-src"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">Base</a> &#x00BB; <a href="../index.html">Sources</a> &#x00BB; base &#x00BB; random.ml</nav><header class="odoc-preamble"><h1>Source file <code><span>random.ml</span></code></h1></header><div class="odoc-tocs"><nav class="odoc-toc odoc-global-toc"><ul><li><a href="../../index.html">Base</a><ul><li>Library <code>base</code><ul><li><a href="../../base/Base/index.html">Base</a></li></ul></li><li>Library <code>base.base_internalhash_types</code><ul><li><a href="../../base.base_internalhash_types/Base_internalhash_types/index.html">Base_internalhash_types</a></li></ul></li><li>Library <code>base.caml</code><ul><li><a href="../../base.caml/Caml/index.html">Caml</a></li></ul></li><li>Library <code>base.md5</code><ul><li><a href="../../base.md5/Md5_lib/index.html">Md5_lib</a></li></ul></li><li>Library <code>base.shadow_stdlib</code><ul><li><a href="../../base.shadow_stdlib/Shadow_stdlib/index.html">Shadow_stdlib</a></li></ul></li><li><a href="../index.html">Sources</a><ul><li>base<ul><li><a href="applicative.ml.html">applicative.ml</a></li><li><a href="applicative_intf.ml.html">applicative_intf.ml</a></li><li><a href="array.ml.html">array.ml</a></li><li><a href="array0.ml.html">array0.ml</a></li><li><a href="array_permute.ml.html">array_permute.ml</a></li><li><a href="avltree.ml.html">avltree.ml</a></li><li><a href="backtrace.ml.html">backtrace.ml</a></li><li><a href="base.ml.html">base.ml</a></li><li><a href="base__.ml.html">base__.ml</a></li><li><a href="binary_search.ml.html">binary_search.ml</a></li><li><a href="binary_searchable.ml.html">binary_searchable.ml</a></li><li><a href="binary_searchable_intf.ml.html">binary_searchable_intf.ml</a></li><li><a href="blit.ml.html">blit.ml</a></li><li><a href="blit_intf.ml.html">blit_intf.ml</a></li><li><a href="bool.ml.html">bool.ml</a></li><li><a href="bool0.ml.html">bool0.ml</a></li><li><a href="buffer.ml.html">buffer.ml</a></li><li><a href="buffer_intf.ml.html">buffer_intf.ml</a></li><li><a href="bytes.ml.html">bytes.ml</a></li><li><a href="bytes0.ml.html">bytes0.ml</a></li><li><a href="bytes_tr.ml.html">bytes_tr.ml</a></li><li><a href="char.ml.html">char.ml</a></li><li><a href="char0.ml.html">char0.ml</a></li><li><a href="comparable.ml.html">comparable.ml</a></li><li><a href="comparable_intf.ml.html">comparable_intf.ml</a></li><li><a href="comparator.ml.html">comparator.ml</a></li><li><a href="comparisons.ml.html">comparisons.ml</a></li><li><a href="container.ml.html">container.ml</a></li><li><a href="container_intf.ml.html">container_intf.ml</a></li><li><a href="either.ml.html">either.ml</a></li><li><a href="either0.ml.html">either0.ml</a></li><li><a href="either_intf.ml.html">either_intf.ml</a></li><li><a href="equal.ml.html">equal.ml</a></li><li><a href="error.ml.html">error.ml</a></li><li><a href="exn.ml.html">exn.ml</a></li><li><a href="field.ml.html">field.ml</a></li><li><a href="fieldslib.ml.html">fieldslib.ml</a></li><li><a href="float.ml.html">float.ml</a></li><li><a href="float0.ml.html">float0.ml</a></li><li><a href="floatable.ml.html">floatable.ml</a></li><li><a href="fn.ml.html">fn.ml</a></li><li><a href="formatter.ml.html">formatter.ml</a></li><li><a href="globalize.ml.html">globalize.ml</a></li><li><a href="hash.ml.html">hash.ml</a></li><li><a href="hash_intf.ml.html">hash_intf.ml</a></li><li><a href="hash_set.ml.html">hash_set.ml</a></li><li><a href="hash_set_intf.ml.html">hash_set_intf.ml</a></li><li><a href="hashable.ml.html">hashable.ml</a></li><li><a href="hashable_intf.ml.html">hashable_intf.ml</a></li><li><a href="hasher.ml.html">hasher.ml</a></li><li><a href="hashtbl.ml.html">hashtbl.ml</a></li><li><a href="hashtbl_intf.ml.html">hashtbl_intf.ml</a></li><li><a href="hex_lexer.ml.html">hex_lexer.ml</a></li><li><a href="identifiable.ml.html">identifiable.ml</a></li><li><a href="identifiable_intf.ml.html">identifiable_intf.ml</a></li><li><a href="import.ml.html">import.ml</a></li><li><a href="import0.ml.html">import0.ml</a></li><li><a href="indexed_container.ml.html">indexed_container.ml</a></li><li><a href="indexed_container_intf.ml.html">indexed_container_intf.ml</a></li><li><a href="info.ml.html">info.ml</a></li><li><a href="info_intf.ml.html">info_intf.ml</a></li><li><a href="int.ml.html">int.ml</a></li><li><a href="int0.ml.html">int0.ml</a></li><li><a href="int32.ml.html">int32.ml</a></li><li><a href="int63.ml.html">int63.ml</a></li><li><a href="int63_emul.ml.html">int63_emul.ml</a></li><li><a href="int64.ml.html">int64.ml</a></li><li><a href="int_conversions.ml.html">int_conversions.ml</a></li><li><a href="int_intf.ml.html">int_intf.ml</a></li><li><a href="int_math.ml.html">int_math.ml</a></li><li><a href="intable.ml.html">intable.ml</a></li><li><a href="invariant.ml.html">invariant.ml</a></li><li><a href="invariant_intf.ml.html">invariant_intf.ml</a></li><li><a href="lazy.ml.html">lazy.ml</a></li><li><a href="linked_queue.ml.html">linked_queue.ml</a></li><li><a href="linked_queue0.ml.html">linked_queue0.ml</a></li><li><a href="list.ml.html">list.ml</a></li><li><a href="list0.ml.html">list0.ml</a></li><li><a href="list1.ml.html">list1.ml</a></li><li><a href="map.ml.html">map.ml</a></li><li><a href="map_intf.ml.html">map_intf.ml</a></li><li><a href="maybe_bound.ml.html">maybe_bound.ml</a></li><li><a href="monad.ml.html">monad.ml</a></li><li><a href="monad_intf.ml.html">monad_intf.ml</a></li><li><a href="nativeint.ml.html">nativeint.ml</a></li><li><a href="nothing.ml.html">nothing.ml</a></li><li><a href="obj_array.ml.html">obj_array.ml</a></li><li><a href="obj_local.ml.html">obj_local.ml</a></li><li><a href="option.ml.html">option.ml</a></li><li><a href="option_array.ml.html">option_array.ml</a></li><li><a href="or_error.ml.html">or_error.ml</a></li><li><a href="ordered_collection_common.ml.html">ordered_collection_common.ml</a></li><li><a href="ordered_collection_common0.ml.html">ordered_collection_common0.ml</a></li><li><a href="ordering.ml.html">ordering.ml</a></li><li><a href="poly0.ml.html">poly0.ml</a></li><li><a href="popcount.ml.html">popcount.ml</a></li><li><a href="pow_overflow_bounds.ml.html">pow_overflow_bounds.ml</a></li><li><a href="ppx_compare_lib.ml.html">ppx_compare_lib.ml</a></li><li><a href="ppx_enumerate_lib.ml.html">ppx_enumerate_lib.ml</a></li><li><a href="ppx_hash_lib.ml.html">ppx_hash_lib.ml</a></li><li><a href="pretty_printer.ml.html">pretty_printer.ml</a></li><li><a href="printf.ml.html">printf.ml</a></li><li><a href="queue.ml.html">queue.ml</a></li><li><a href="queue_intf.ml.html">queue_intf.ml</a></li><li><a href="#" class="current_unit">random.ml</a></li><li><a href="random_repr.ml.html">random_repr.ml</a></li><li><a href="ref.ml.html">ref.ml</a></li><li><a href="result.ml.html">result.ml</a></li><li><a href="sequence.ml.html">sequence.ml</a></li><li><a href="set.ml.html">set.ml</a></li><li><a href="set_intf.ml.html">set_intf.ml</a></li><li><a href="sexp.ml.html">sexp.ml</a></li><li><a href="sexp_with_comparable.ml.html">sexp_with_comparable.ml</a></li><li><a href="sexpable.ml.html">sexpable.ml</a></li><li><a href="sign.ml.html">sign.ml</a></li><li><a href="sign0.ml.html">sign0.ml</a></li><li><a href="sign_or_nan.ml.html">sign_or_nan.ml</a></li><li><a href="source_code_position.ml.html">source_code_position.ml</a></li><li><a href="source_code_position0.ml.html">source_code_position0.ml</a></li><li><a href="stack.ml.html">stack.ml</a></li><li><a href="stack_intf.ml.html">stack_intf.ml</a></li><li><a href="staged.ml.html">staged.ml</a></li><li><a href="string.ml.html">string.ml</a></li><li><a href="string0.ml.html">string0.ml</a></li><li><a href="stringable.ml.html">stringable.ml</a></li><li><a href="sys.ml.html">sys.ml</a></li><li><a href="sys0.ml.html">sys0.ml</a></li><li><a href="t.ml.html">t.ml</a></li><li><a href="type_equal.ml.html">type_equal.ml</a></li><li><a href="uchar.ml.html">uchar.ml</a></li><li><a href="uchar0.ml.html">uchar0.ml</a></li><li><a href="uniform_array.ml.html">uniform_array.ml</a></li><li><a href="unit.ml.html">unit.ml</a></li><li><a href="variant.ml.html">variant.ml</a></li><li><a href="variantslib.ml.html">variantslib.ml</a></li><li><a href="with_return.ml.html">with_return.ml</a></li><li><a href="word_size.ml.html">word_size.ml</a></li></ul></li><li>base.base_internalhash_types<ul><li><a href="../base.base_internalhash_types/base_internalhash_types.ml.html">base_internalhash_types.ml</a></li></ul></li><li>base.caml<ul><li><a href="../base.caml/caml.ml.html">caml.ml</a></li></ul></li><li>base.md5<ul><li><a href="../base.md5/md5_lib.ml.html">md5_lib.ml</a></li></ul></li><li>base.shadow_stdlib<ul><li><a href="../base.shadow_stdlib/shadow_stdlib.ml.html">shadow_stdlib.ml</a></li></ul></li></ul></li></ul></li></ul></nav></div><pre class="source_container"><code class="source_line_column"><a id="L1" class="source_line" href="#L1">1</a>
<a id="L2" class="source_line" href="#L2">2</a>
<a id="L3" class="source_line" href="#L3">3</a>
<a id="L4" class="source_line" href="#L4">4</a>
<a id="L5" class="source_line" href="#L5">5</a>
<a id="L6" class="source_line" href="#L6">6</a>
<a id="L7" class="source_line" href="#L7">7</a>
<a id="L8" class="source_line" href="#L8">8</a>
<a id="L9" class="source_line" href="#L9">9</a>
<a id="L10" class="source_line" href="#L10">10</a>
<a id="L11" class="source_line" href="#L11">11</a>
<a id="L12" class="source_line" href="#L12">12</a>
<a id="L13" class="source_line" href="#L13">13</a>
<a id="L14" class="source_line" href="#L14">14</a>
<a id="L15" class="source_line" href="#L15">15</a>
<a id="L16" class="source_line" href="#L16">16</a>
<a id="L17" class="source_line" href="#L17">17</a>
<a id="L18" class="source_line" href="#L18">18</a>
<a id="L19" class="source_line" href="#L19">19</a>
<a id="L20" class="source_line" href="#L20">20</a>
<a id="L21" class="source_line" href="#L21">21</a>
<a id="L22" class="source_line" href="#L22">22</a>
<a id="L23" class="source_line" href="#L23">23</a>
<a id="L24" class="source_line" href="#L24">24</a>
<a id="L25" class="source_line" href="#L25">25</a>
<a id="L26" class="source_line" href="#L26">26</a>
<a id="L27" class="source_line" href="#L27">27</a>
<a id="L28" class="source_line" href="#L28">28</a>
<a id="L29" class="source_line" href="#L29">29</a>
<a id="L30" class="source_line" href="#L30">30</a>
<a id="L31" class="source_line" href="#L31">31</a>
<a id="L32" class="source_line" href="#L32">32</a>
<a id="L33" class="source_line" href="#L33">33</a>
<a id="L34" class="source_line" href="#L34">34</a>
<a id="L35" class="source_line" href="#L35">35</a>
<a id="L36" class="source_line" href="#L36">36</a>
<a id="L37" class="source_line" href="#L37">37</a>
<a id="L38" class="source_line" href="#L38">38</a>
<a id="L39" class="source_line" href="#L39">39</a>
<a id="L40" class="source_line" href="#L40">40</a>
<a id="L41" class="source_line" href="#L41">41</a>
<a id="L42" class="source_line" href="#L42">42</a>
<a id="L43" class="source_line" href="#L43">43</a>
<a id="L44" class="source_line" href="#L44">44</a>
<a id="L45" class="source_line" href="#L45">45</a>
<a id="L46" class="source_line" href="#L46">46</a>
<a id="L47" class="source_line" href="#L47">47</a>
<a id="L48" class="source_line" href="#L48">48</a>
<a id="L49" class="source_line" href="#L49">49</a>
<a id="L50" class="source_line" href="#L50">50</a>
<a id="L51" class="source_line" href="#L51">51</a>
<a id="L52" class="source_line" href="#L52">52</a>
<a id="L53" class="source_line" href="#L53">53</a>
<a id="L54" class="source_line" href="#L54">54</a>
<a id="L55" class="source_line" href="#L55">55</a>
<a id="L56" class="source_line" href="#L56">56</a>
<a id="L57" class="source_line" href="#L57">57</a>
<a id="L58" class="source_line" href="#L58">58</a>
<a id="L59" class="source_line" href="#L59">59</a>
<a id="L60" class="source_line" href="#L60">60</a>
<a id="L61" class="source_line" href="#L61">61</a>
<a id="L62" class="source_line" href="#L62">62</a>
<a id="L63" class="source_line" href="#L63">63</a>
<a id="L64" class="source_line" href="#L64">64</a>
<a id="L65" class="source_line" href="#L65">65</a>
<a id="L66" class="source_line" href="#L66">66</a>
<a id="L67" class="source_line" href="#L67">67</a>
<a id="L68" class="source_line" href="#L68">68</a>
<a id="L69" class="source_line" href="#L69">69</a>
<a id="L70" class="source_line" href="#L70">70</a>
<a id="L71" class="source_line" href="#L71">71</a>
<a id="L72" class="source_line" href="#L72">72</a>
<a id="L73" class="source_line" href="#L73">73</a>
<a id="L74" class="source_line" href="#L74">74</a>
<a id="L75" class="source_line" href="#L75">75</a>
<a id="L76" class="source_line" href="#L76">76</a>
<a id="L77" class="source_line" href="#L77">77</a>
<a id="L78" class="source_line" href="#L78">78</a>
<a id="L79" class="source_line" href="#L79">79</a>
<a id="L80" class="source_line" href="#L80">80</a>
<a id="L81" class="source_line" href="#L81">81</a>
<a id="L82" class="source_line" href="#L82">82</a>
<a id="L83" class="source_line" href="#L83">83</a>
<a id="L84" class="source_line" href="#L84">84</a>
<a id="L85" class="source_line" href="#L85">85</a>
<a id="L86" class="source_line" href="#L86">86</a>
<a id="L87" class="source_line" href="#L87">87</a>
<a id="L88" class="source_line" href="#L88">88</a>
<a id="L89" class="source_line" href="#L89">89</a>
<a id="L90" class="source_line" href="#L90">90</a>
<a id="L91" class="source_line" href="#L91">91</a>
<a id="L92" class="source_line" href="#L92">92</a>
<a id="L93" class="source_line" href="#L93">93</a>
<a id="L94" class="source_line" href="#L94">94</a>
<a id="L95" class="source_line" href="#L95">95</a>
<a id="L96" class="source_line" href="#L96">96</a>
<a id="L97" class="source_line" href="#L97">97</a>
<a id="L98" class="source_line" href="#L98">98</a>
<a id="L99" class="source_line" href="#L99">99</a>
<a id="L100" class="source_line" href="#L100">100</a>
<a id="L101" class="source_line" href="#L101">101</a>
<a id="L102" class="source_line" href="#L102">102</a>
<a id="L103" class="source_line" href="#L103">103</a>
<a id="L104" class="source_line" href="#L104">104</a>
<a id="L105" class="source_line" href="#L105">105</a>
<a id="L106" class="source_line" href="#L106">106</a>
<a id="L107" class="source_line" href="#L107">107</a>
<a id="L108" class="source_line" href="#L108">108</a>
<a id="L109" class="source_line" href="#L109">109</a>
<a id="L110" class="source_line" href="#L110">110</a>
<a id="L111" class="source_line" href="#L111">111</a>
<a id="L112" class="source_line" href="#L112">112</a>
<a id="L113" class="source_line" href="#L113">113</a>
<a id="L114" class="source_line" href="#L114">114</a>
<a id="L115" class="source_line" href="#L115">115</a>
<a id="L116" class="source_line" href="#L116">116</a>
<a id="L117" class="source_line" href="#L117">117</a>
<a id="L118" class="source_line" href="#L118">118</a>
<a id="L119" class="source_line" href="#L119">119</a>
<a id="L120" class="source_line" href="#L120">120</a>
<a id="L121" class="source_line" href="#L121">121</a>
<a id="L122" class="source_line" href="#L122">122</a>
<a id="L123" class="source_line" href="#L123">123</a>
<a id="L124" class="source_line" href="#L124">124</a>
<a id="L125" class="source_line" href="#L125">125</a>
<a id="L126" class="source_line" href="#L126">126</a>
<a id="L127" class="source_line" href="#L127">127</a>
<a id="L128" class="source_line" href="#L128">128</a>
<a id="L129" class="source_line" href="#L129">129</a>
<a id="L130" class="source_line" href="#L130">130</a>
<a id="L131" class="source_line" href="#L131">131</a>
<a id="L132" class="source_line" href="#L132">132</a>
<a id="L133" class="source_line" href="#L133">133</a>
<a id="L134" class="source_line" href="#L134">134</a>
<a id="L135" class="source_line" href="#L135">135</a>
<a id="L136" class="source_line" href="#L136">136</a>
<a id="L137" class="source_line" href="#L137">137</a>
<a id="L138" class="source_line" href="#L138">138</a>
<a id="L139" class="source_line" href="#L139">139</a>
<a id="L140" class="source_line" href="#L140">140</a>
<a id="L141" class="source_line" href="#L141">141</a>
<a id="L142" class="source_line" href="#L142">142</a>
<a id="L143" class="source_line" href="#L143">143</a>
<a id="L144" class="source_line" href="#L144">144</a>
<a id="L145" class="source_line" href="#L145">145</a>
<a id="L146" class="source_line" href="#L146">146</a>
<a id="L147" class="source_line" href="#L147">147</a>
<a id="L148" class="source_line" href="#L148">148</a>
<a id="L149" class="source_line" href="#L149">149</a>
<a id="L150" class="source_line" href="#L150">150</a>
<a id="L151" class="source_line" href="#L151">151</a>
<a id="L152" class="source_line" href="#L152">152</a>
<a id="L153" class="source_line" href="#L153">153</a>
<a id="L154" class="source_line" href="#L154">154</a>
<a id="L155" class="source_line" href="#L155">155</a>
<a id="L156" class="source_line" href="#L156">156</a>
<a id="L157" class="source_line" href="#L157">157</a>
<a id="L158" class="source_line" href="#L158">158</a>
<a id="L159" class="source_line" href="#L159">159</a>
<a id="L160" class="source_line" href="#L160">160</a>
<a id="L161" class="source_line" href="#L161">161</a>
<a id="L162" class="source_line" href="#L162">162</a>
<a id="L163" class="source_line" href="#L163">163</a>
<a id="L164" class="source_line" href="#L164">164</a>
<a id="L165" class="source_line" href="#L165">165</a>
<a id="L166" class="source_line" href="#L166">166</a>
<a id="L167" class="source_line" href="#L167">167</a>
<a id="L168" class="source_line" href="#L168">168</a>
<a id="L169" class="source_line" href="#L169">169</a>
<a id="L170" class="source_line" href="#L170">170</a>
<a id="L171" class="source_line" href="#L171">171</a>
<a id="L172" class="source_line" href="#L172">172</a>
<a id="L173" class="source_line" href="#L173">173</a>
<a id="L174" class="source_line" href="#L174">174</a>
<a id="L175" class="source_line" href="#L175">175</a>
<a id="L176" class="source_line" href="#L176">176</a>
<a id="L177" class="source_line" href="#L177">177</a>
<a id="L178" class="source_line" href="#L178">178</a>
<a id="L179" class="source_line" href="#L179">179</a>
<a id="L180" class="source_line" href="#L180">180</a>
<a id="L181" class="source_line" href="#L181">181</a>
<a id="L182" class="source_line" href="#L182">182</a>
<a id="L183" class="source_line" href="#L183">183</a>
<a id="L184" class="source_line" href="#L184">184</a>
<a id="L185" class="source_line" href="#L185">185</a>
<a id="L186" class="source_line" href="#L186">186</a>
<a id="L187" class="source_line" href="#L187">187</a>
<a id="L188" class="source_line" href="#L188">188</a>
<a id="L189" class="source_line" href="#L189">189</a>
<a id="L190" class="source_line" href="#L190">190</a>
<a id="L191" class="source_line" href="#L191">191</a>
<a id="L192" class="source_line" href="#L192">192</a>
<a id="L193" class="source_line" href="#L193">193</a>
<a id="L194" class="source_line" href="#L194">194</a>
<a id="L195" class="source_line" href="#L195">195</a>
<a id="L196" class="source_line" href="#L196">196</a>
<a id="L197" class="source_line" href="#L197">197</a>
<a id="L198" class="source_line" href="#L198">198</a>
<a id="L199" class="source_line" href="#L199">199</a>
<a id="L200" class="source_line" href="#L200">200</a>
<a id="L201" class="source_line" href="#L201">201</a>
<a id="L202" class="source_line" href="#L202">202</a>
<a id="L203" class="source_line" href="#L203">203</a>
<a id="L204" class="source_line" href="#L204">204</a>
<a id="L205" class="source_line" href="#L205">205</a>
<a id="L206" class="source_line" href="#L206">206</a>
<a id="L207" class="source_line" href="#L207">207</a>
<a id="L208" class="source_line" href="#L208">208</a>
<a id="L209" class="source_line" href="#L209">209</a>
<a id="L210" class="source_line" href="#L210">210</a>
<a id="L211" class="source_line" href="#L211">211</a>
<a id="L212" class="source_line" href="#L212">212</a>
<a id="L213" class="source_line" href="#L213">213</a>
<a id="L214" class="source_line" href="#L214">214</a>
<a id="L215" class="source_line" href="#L215">215</a>
<a id="L216" class="source_line" href="#L216">216</a>
<a id="L217" class="source_line" href="#L217">217</a>
<a id="L218" class="source_line" href="#L218">218</a>
<a id="L219" class="source_line" href="#L219">219</a>
<a id="L220" class="source_line" href="#L220">220</a>
<a id="L221" class="source_line" href="#L221">221</a>
<a id="L222" class="source_line" href="#L222">222</a>
<a id="L223" class="source_line" href="#L223">223</a>
<a id="L224" class="source_line" href="#L224">224</a>
<a id="L225" class="source_line" href="#L225">225</a>
<a id="L226" class="source_line" href="#L226">226</a>
<a id="L227" class="source_line" href="#L227">227</a>
<a id="L228" class="source_line" href="#L228">228</a>
<a id="L229" class="source_line" href="#L229">229</a>
<a id="L230" class="source_line" href="#L230">230</a>
<a id="L231" class="source_line" href="#L231">231</a>
<a id="L232" class="source_line" href="#L232">232</a>
<a id="L233" class="source_line" href="#L233">233</a>
<a id="L234" class="source_line" href="#L234">234</a>
<a id="L235" class="source_line" href="#L235">235</a>
<a id="L236" class="source_line" href="#L236">236</a>
<a id="L237" class="source_line" href="#L237">237</a>
<a id="L238" class="source_line" href="#L238">238</a>
<a id="L239" class="source_line" href="#L239">239</a>
<a id="L240" class="source_line" href="#L240">240</a>
<a id="L241" class="source_line" href="#L241">241</a>
<a id="L242" class="source_line" href="#L242">242</a>
<a id="L243" class="source_line" href="#L243">243</a>
<a id="L244" class="source_line" href="#L244">244</a>
<a id="L245" class="source_line" href="#L245">245</a>
<a id="L246" class="source_line" href="#L246">246</a>
<a id="L247" class="source_line" href="#L247">247</a>
<a id="L248" class="source_line" href="#L248">248</a>
<a id="L249" class="source_line" href="#L249">249</a>
<a id="L250" class="source_line" href="#L250">250</a>
<a id="L251" class="source_line" href="#L251">251</a>
<a id="L252" class="source_line" href="#L252">252</a>
<a id="L253" class="source_line" href="#L253">253</a>
<a id="L254" class="source_line" href="#L254">254</a>
</code><code class="source_code"><span><span class="OPEN">open</span><span class="BANG">!</span> <a href="import.ml.html"><span class="UIDENT">Import</span></a><span class="EOL">
</span><span id="module-Int"><span class="MODULE">module</span> <span class="UIDENT">Int</span> <span class="EQUAL">=</span> <a href="int0.ml.html"><span class="UIDENT">Int0</span></a></span><span class="EOL">
</span><span id="module-Char"><span class="MODULE">module</span> <span class="UIDENT">Char</span> <span class="EQUAL">=</span> <a href="char0.ml.html"><span class="UIDENT">Char0</span></a></span><span class="EOL">
</span><span class="EOL">
</span><span class="COMMENT">(* Unfortunately, because the standard library does not expose
   [Stdlib.Random.State.default], we have to construct our own.  We then build the
   [Stdlib.Random.int], [Stdlib.Random.bool] functions and friends using that default state in
   exactly the same way as the standard library.

   One other trickiness is that we need access to the unexposed [Stdlib.Random.State.assign]
   function, which accesses the unexposed state representation.  So, we copy the
   [State.repr] type definition and [assign] function to here from the standard library,
   and use [Obj.magic] to get access to the underlying implementation. *)</span><span class="EOL">
</span><span class="EOL">
</span><span class="COMMENT">(* Regression tests ought to be deterministic because that way anyone who breaks the test
   knows that it's their code that broke the test.  If tests are nondeterministic, a test
   failure may instead happen because the test runner got unlucky and uncovered an
   existing bug in the code supposedly being &quot;protected&quot; by the test in question. *)</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-forbid_nondeterminism_in_tests"><span class="LIDENT">forbid_nondeterminism_in_tests</span></span> <span class="TILDE">~</span><span id="local_allow_in_tests_1"><span class="LIDENT">allow_in_tests</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="IF">if</span> <a href="import0.ml.html#val-am_testing"><span class="LIDENT">am_testing</span></a><span class="EOL">
</span>  <span class="THEN">then</span> <span class="LPAREN">(</span><span class="EOL">
</span>    <span class="MATCH">match</span> <a href="#local_allow_in_tests_1"><span class="LIDENT">allow_in_tests</span></a> <span class="WITH">with</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="TRUE">true</span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UIDENT">None</span> <span class="BAR">|</span> <span class="UIDENT">Some</span> <span class="FALSE">false</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <a href="import0.ml.html#val-failwith"><span class="failwith">failwith</span></a><span class="EOL">
</span>        <span class="STRING">&quot;initializing Random with a nondeterministic seed is forbidden in inline tests&quot;</span><span class="RPAREN">)</span><span class="EOL">
</span><span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span><span id="val-{random_seed}1/shadowed/(base-src-base-random.ml)"><span class="EXTERNAL">external</span> <span class="LIDENT">random_seed</span> <span class="COLON">:</span> <span class="LIDENT">unit</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">int</span> <span class="LIDENT">array</span> <span class="EQUAL">=</span> <span class="STRING">&quot;caml_sys_random_seed&quot;</span></span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-random_seed"><span class="LIDENT">random_seed</span></span> <span class="QUESTION">?</span><span id="local_allow_in_tests_2"><span class="LIDENT">allow_in_tests</span></span> <span class="LPAREN">(</span><span class="RPAREN">)</span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LIDENT">forbid_nondeterminism_in_tests</span> <span class="TILDE">~</span><a href="#local_allow_in_tests_2"><span class="LIDENT">allow_in_tests</span></a><span class="SEMI">;</span><span class="EOL">
</span>  <span class="LIDENT">random_seed</span> <span class="LPAREN">(</span><span class="RPAREN">)</span><span class="EOL">
</span><span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span><span id="module-State"><span class="MODULE">module</span> <span class="UIDENT">State</span> <span class="EQUAL">=</span> <span class="STRUCT">struct</span><span class="EOL">
</span>  <span class="COMMENT">(* We allow laziness only for the definition of [default], below, which may lazily call
     [make_self_init]. For all other purposes, we create and use [t] eagerly. *)</span><span class="EOL">
</span>  <span id="module-State.type-t"><span class="TYPE">type</span> <span class="LIDENT">t</span> <span class="EQUAL">=</span> <a href="lazy.ml.html#type-t"><a href="../../../ocaml-base-compiler/src/stdlib/random.ml.html#module-State.type-t"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Random</span><span class="DOT">.</span><span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">t</span></a> <span class="UIDENT">Lazy</span><span class="DOT">.</span><span class="LIDENT">t</span></a></span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-bits"><span class="LIDENT">bits</span></span> <span id="local_t_3"><span class="LIDENT">t</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/random.ml.html#module-State.val-bits"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Random</span><span class="DOT">.</span><span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">bits</span></a> <span class="LPAREN">(</span><a href="lazy.ml.html#val-force"><span class="UIDENT">Lazy</span><span class="DOT">.</span><span class="LIDENT">force</span></a> <a href="#local_t_3"><span class="LIDENT">t</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-bool"><span class="LIDENT">bool</span></span> <span id="local_t_4"><span class="LIDENT">t</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/random.ml.html#module-State.val-bool"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Random</span><span class="DOT">.</span><span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">bool</span></a> <span class="LPAREN">(</span><a href="lazy.ml.html#val-force"><span class="UIDENT">Lazy</span><span class="DOT">.</span><span class="LIDENT">force</span></a> <a href="#local_t_4"><span class="LIDENT">t</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-{int}2/shadowed/(base-src-base-random.ml)"><span class="LIDENT">int</span></span> <span id="local_t_5"><span class="LIDENT">t</span></span> <span id="local_x_6"><span class="LIDENT">x</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/random.ml.html#module-State.val-int"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Random</span><span class="DOT">.</span><span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">int</span></a> <span class="LPAREN">(</span><a href="lazy.ml.html#val-force"><span class="UIDENT">Lazy</span><span class="DOT">.</span><span class="LIDENT">force</span></a> <a href="#local_t_5"><span class="LIDENT">t</span></a><span class="RPAREN">)</span> <a href="#local_x_6"><span class="LIDENT">x</span></a><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-int32"><span class="LIDENT">int32</span></span> <span id="local_t_7"><span class="LIDENT">t</span></span> <span id="local_x_8"><span class="LIDENT">x</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/random.ml.html#module-State.val-int32"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Random</span><span class="DOT">.</span><span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">int32</span></a> <span class="LPAREN">(</span><a href="lazy.ml.html#val-force"><span class="UIDENT">Lazy</span><span class="DOT">.</span><span class="LIDENT">force</span></a> <a href="#local_t_7"><span class="LIDENT">t</span></a><span class="RPAREN">)</span> <a href="#local_x_8"><span class="LIDENT">x</span></a><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-int64"><span class="LIDENT">int64</span></span> <span id="local_t_9"><span class="LIDENT">t</span></span> <span id="local_x_10"><span class="LIDENT">x</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/random.ml.html#module-State.val-int64"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Random</span><span class="DOT">.</span><span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">int64</span></a> <span class="LPAREN">(</span><a href="lazy.ml.html#val-force"><span class="UIDENT">Lazy</span><span class="DOT">.</span><span class="LIDENT">force</span></a> <a href="#local_t_9"><span class="LIDENT">t</span></a><span class="RPAREN">)</span> <a href="#local_x_10"><span class="LIDENT">x</span></a><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-nativeint"><span class="LIDENT">nativeint</span></span> <span id="local_t_11"><span class="LIDENT">t</span></span> <span id="local_x_12"><span class="LIDENT">x</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/random.ml.html#module-State.val-nativeint"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Random</span><span class="DOT">.</span><span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">nativeint</span></a> <span class="LPAREN">(</span><a href="lazy.ml.html#val-force"><span class="UIDENT">Lazy</span><span class="DOT">.</span><span class="LIDENT">force</span></a> <a href="#local_t_11"><span class="LIDENT">t</span></a><span class="RPAREN">)</span> <a href="#local_x_12"><span class="LIDENT">x</span></a><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-make"><span class="LIDENT">make</span></span> <span id="local_seed_13"><span class="LIDENT">seed</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/lazy.ml.html#val-from_val"><span class="UIDENT">Lazy</span><span class="DOT">.</span><span class="LIDENT">from_val</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/random.ml.html#module-State.val-make"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Random</span><span class="DOT">.</span><span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">make</span></a> <a href="#local_seed_13"><span class="LIDENT">seed</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-copy"><span class="LIDENT">copy</span></span> <span id="local_t_14"><span class="LIDENT">t</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/lazy.ml.html#val-from_val"><span class="UIDENT">Lazy</span><span class="DOT">.</span><span class="LIDENT">from_val</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/random.ml.html#module-State.val-copy"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Random</span><span class="DOT">.</span><span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">copy</span></a> <span class="LPAREN">(</span><a href="lazy.ml.html#val-force"><span class="UIDENT">Lazy</span><span class="DOT">.</span><span class="LIDENT">force</span></a> <a href="#local_t_14"><span class="LIDENT">t</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-char"><span class="LIDENT">char</span></span> <span id="local_t_15"><span class="LIDENT">t</span></span> <span class="EQUAL">=</span> <span class="LIDENT">int</span> <a href="#local_t_15"><span class="LIDENT">t</span></a> <span class="INT">256</span> <span class="INFIXOP0">|&gt;</span> <span class="UIDENT">Char</span><span class="DOT">.</span><span class="LIDENT">unsafe_of_int</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-ascii"><span class="LIDENT">ascii</span></span> <span id="local_t_16"><span class="LIDENT">t</span></span> <span class="EQUAL">=</span> <span class="LIDENT">int</span> <a href="#local_t_16"><span class="LIDENT">t</span></a> <span class="INT">128</span> <span class="INFIXOP0">|&gt;</span> <span class="UIDENT">Char</span><span class="DOT">.</span><span class="LIDENT">unsafe_of_int</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-make_self_init"><span class="LIDENT">make_self_init</span></span> <span class="QUESTION">?</span><span id="local_allow_in_tests_17"><span class="LIDENT">allow_in_tests</span></span> <span class="LPAREN">(</span><span class="RPAREN">)</span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LIDENT">forbid_nondeterminism_in_tests</span> <span class="TILDE">~</span><a href="#local_allow_in_tests_17"><span class="LIDENT">allow_in_tests</span></a><span class="SEMI">;</span><span class="EOL">
</span>    <a href="../../../ocaml-base-compiler/src/stdlib/lazy.ml.html#val-from_val"><span class="UIDENT">Lazy</span><span class="DOT">.</span><span class="LIDENT">from_val</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/random.ml.html#module-State.val-make_self_init"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Random</span><span class="DOT">.</span><span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">make_self_init</span></a> <span class="LPAREN">(</span><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-assign"><span class="LIDENT">assign</span></span> <span class="EQUAL">=</span> <a href="random_repr.ml.html#val-assign"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">assign</span></a><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-full_init"><span class="LIDENT">full_init</span></span> <span id="local_t_18"><span class="LIDENT">t</span></span> <span id="local_seed_19"><span class="LIDENT">seed</span></span> <span class="EQUAL">=</span> <span class="LIDENT">assign</span> <a href="#local_t_18"><span class="LIDENT">t</span></a> <span class="LPAREN">(</span><span class="LIDENT">make</span> <a href="#local_seed_19"><span class="LIDENT">seed</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-default"><span class="LIDENT">default</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="IF">if</span> <a href="import0.ml.html#val-am_testing"><span class="LIDENT">am_testing</span></a><span class="EOL">
</span>    <span class="THEN">then</span> <span class="LPAREN">(</span><span class="EOL">
</span>      <span class="COMMENT">(* We define Base's default random state as a copy of OCaml's default random state.
         This means that programs that use Base.Random will see the same sequence of
         random bits as if they had used Stdlib.Random. However, because [get_state] returns
         a copy, Base.Random and OCaml.Random are not using the same state. If a program
         used both, each of them would go through the same sequence of random bits. To
         avoid that, we reset OCaml's random state to a different seed, giving it a
         different sequence. *)</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_t_20"><span class="LIDENT">t</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/random.ml.html#val-get_state"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Random</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LPAREN">(</span><span class="RPAREN">)</span> <span class="IN">in</span><span class="EOL">
</span>      <a href="../../../ocaml-base-compiler/src/stdlib/random.ml.html#val-init"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Random</span><span class="DOT">.</span><span class="LIDENT">init</span></a> <span class="INT">137</span><span class="SEMI">;</span><span class="EOL">
</span>      <a href="../../../ocaml-base-compiler/src/stdlib/lazy.ml.html#val-from_val"><span class="UIDENT">Lazy</span><span class="DOT">.</span><span class="LIDENT">from_val</span></a> <a href="#local_t_20"><span class="LIDENT">t</span></a><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="ELSE">else</span><span class="EOL">
</span>      <span class="LAZY">lazy</span><span class="EOL">
</span>        <span class="COMMENT">(* Outside of tests, we initialize random state nondeterministically and lazily.
           We force the random initialization to be lazy so that we do not pay any cost
           for it in programs that do not use randomness. *)</span><span class="EOL">
</span>        <span class="LPAREN">(</span><a href="lazy.ml.html#val-force"><span class="UIDENT">Lazy</span><span class="DOT">.</span><span class="LIDENT">force</span></a> <span class="LPAREN">(</span><span class="LIDENT">make_self_init</span> <span class="LPAREN">(</span><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-int_on_64bits"><span class="LIDENT">int_on_64bits</span></span> <span id="local_t_21"><span class="LIDENT">t</span></span> <span id="local_bound_22"><span class="LIDENT">bound</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="IF">if</span> <a href="#local_bound_22"><span class="LIDENT">bound</span></a> <a href="import0.ml.html#module-Int_replace_polymorphic_compare.val-(&lt;=)"><span class="INFIXOP0">&lt;=</span></a> <span class="INT">0x3FFFFFFF</span> <span class="COMMENT">(* (1 lsl 30) - 1 *)</span><span class="EOL">
</span>    <span class="THEN">then</span> <span class="LIDENT">int</span> <a href="#local_t_21"><span class="LIDENT">t</span></a> <a href="#local_bound_22"><span class="LIDENT">bound</span></a><span class="EOL">
</span>    <span class="ELSE">else</span> <a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-to_int"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Int64</span><span class="DOT">.</span><span class="LIDENT">to_int</span></a> <span class="LPAREN">(</span><span class="LIDENT">int64</span> <a href="#local_t_21"><span class="LIDENT">t</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-of_int"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Int64</span><span class="DOT">.</span><span class="LIDENT">of_int</span></a> <a href="#local_bound_22"><span class="LIDENT">bound</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-int_on_32bits"><span class="LIDENT">int_on_32bits</span></span> <span id="local_t_23"><span class="LIDENT">t</span></span> <span id="local_bound_24"><span class="LIDENT">bound</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="COMMENT">(* Not always true with the JavaScript backend. *)</span><span class="EOL">
</span>    <span class="IF">if</span> <a href="#local_bound_24"><span class="LIDENT">bound</span></a> <a href="import0.ml.html#module-Int_replace_polymorphic_compare.val-(&lt;=)"><span class="INFIXOP0">&lt;=</span></a> <span class="INT">0x3FFFFFFF</span> <span class="COMMENT">(* (1 lsl 30) - 1 *)</span><span class="EOL">
</span>    <span class="THEN">then</span> <span class="LIDENT">int</span> <a href="#local_t_23"><span class="LIDENT">t</span></a> <a href="#local_bound_24"><span class="LIDENT">bound</span></a><span class="EOL">
</span>    <span class="ELSE">else</span> <a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html#val-to_int"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Int32</span><span class="DOT">.</span><span class="LIDENT">to_int</span></a> <span class="LPAREN">(</span><span class="LIDENT">int32</span> <a href="#local_t_23"><span class="LIDENT">t</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html#val-of_int"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Int32</span><span class="DOT">.</span><span class="LIDENT">of_int</span></a> <a href="#local_bound_24"><span class="LIDENT">bound</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-int"><span class="LIDENT">int</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="MATCH">match</span> <a href="word_size.ml.html#val-word_size"><span class="UIDENT">Word_size</span><span class="DOT">.</span><span class="LIDENT">word_size</span></a> <span class="WITH">with</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UIDENT">W64</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">int_on_64bits</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UIDENT">W32</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">int_on_32bits</span><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-full_range_int64"><span class="LIDENT">full_range_int64</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="OPEN">open</span> <a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Int64</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_bits_25"><span class="LIDENT">bits</span></span> <span id="local_state_26"><span class="LIDENT">state</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-of_int"><span class="LIDENT">of_int</span></a> <span class="LPAREN">(</span><span class="LIDENT">bits</span> <a href="#local_state_26"><span class="LIDENT">state</span></a><span class="RPAREN">)</span> <span class="IN">in</span><span class="EOL">
</span>    <span class="FUN">fun</span> <span id="local_state_27"><span class="LIDENT">state</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-logxor"><span class="LIDENT">logxor</span></a><span class="EOL">
</span>        <span class="LPAREN">(</span><a href="#local_bits_25"><span class="LIDENT">bits</span></a> <a href="#local_state_27"><span class="LIDENT">state</span></a><span class="RPAREN">)</span><span class="EOL">
</span>        <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-logxor"><span class="LIDENT">logxor</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-shift_left"><span class="LIDENT">shift_left</span></a> <span class="LPAREN">(</span><a href="#local_bits_25"><span class="LIDENT">bits</span></a> <a href="#local_state_27"><span class="LIDENT">state</span></a><span class="RPAREN">)</span> <span class="INT">30</span><span class="RPAREN">)</span> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-shift_left"><span class="LIDENT">shift_left</span></a> <span class="LPAREN">(</span><a href="#local_bits_25"><span class="LIDENT">bits</span></a> <a href="#local_state_27"><span class="LIDENT">state</span></a><span class="RPAREN">)</span> <span class="INT">60</span><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-full_range_int32"><span class="LIDENT">full_range_int32</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="OPEN">open</span> <a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Int32</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_bits_28"><span class="LIDENT">bits</span></span> <span id="local_state_29"><span class="LIDENT">state</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html#val-of_int"><span class="LIDENT">of_int</span></a> <span class="LPAREN">(</span><span class="LIDENT">bits</span> <a href="#local_state_29"><span class="LIDENT">state</span></a><span class="RPAREN">)</span> <span class="IN">in</span><span class="EOL">
</span>    <span class="FUN">fun</span> <span id="local_state_30"><span class="LIDENT">state</span></span> <span class="MINUSGREATER">-&gt;</span> <a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html#val-logxor"><span class="LIDENT">logxor</span></a> <span class="LPAREN">(</span><a href="#local_bits_28"><span class="LIDENT">bits</span></a> <a href="#local_state_30"><span class="LIDENT">state</span></a><span class="RPAREN">)</span> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html#val-shift_left"><span class="LIDENT">shift_left</span></a> <span class="LPAREN">(</span><a href="#local_bits_28"><span class="LIDENT">bits</span></a> <a href="#local_state_30"><span class="LIDENT">state</span></a><span class="RPAREN">)</span> <span class="INT">30</span><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-full_range_int_on_64bits"><span class="LIDENT">full_range_int_on_64bits</span></span> <span id="local_state_31"><span class="LIDENT">state</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-to_int"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Int64</span><span class="DOT">.</span><span class="LIDENT">to_int</span></a> <span class="LPAREN">(</span><span class="LIDENT">full_range_int64</span> <a href="#local_state_31"><span class="LIDENT">state</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-full_range_int_on_32bits"><span class="LIDENT">full_range_int_on_32bits</span></span> <span id="local_state_32"><span class="LIDENT">state</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html#val-to_int"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Int32</span><span class="DOT">.</span><span class="LIDENT">to_int</span></a> <span class="LPAREN">(</span><span class="LIDENT">full_range_int32</span> <a href="#local_state_32"><span class="LIDENT">state</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-full_range_int"><span class="LIDENT">full_range_int</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="MATCH">match</span> <a href="word_size.ml.html#val-word_size"><span class="UIDENT">Word_size</span><span class="DOT">.</span><span class="LIDENT">word_size</span></a> <span class="WITH">with</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UIDENT">W64</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">full_range_int_on_64bits</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UIDENT">W32</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">full_range_int_on_32bits</span><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-full_range_nativeint_on_64bits"><span class="LIDENT">full_range_nativeint_on_64bits</span></span> <span id="local_state_33"><span class="LIDENT">state</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-to_nativeint"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Int64</span><span class="DOT">.</span><span class="LIDENT">to_nativeint</span></a> <span class="LPAREN">(</span><span class="LIDENT">full_range_int64</span> <a href="#local_state_33"><span class="LIDENT">state</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-full_range_nativeint_on_32bits"><span class="LIDENT">full_range_nativeint_on_32bits</span></span> <span id="local_state_34"><span class="LIDENT">state</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <a href="../../../ocaml-base-compiler/src/stdlib/nativeint.ml.html#val-of_int32"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Nativeint</span><span class="DOT">.</span><span class="LIDENT">of_int32</span></a> <span class="LPAREN">(</span><span class="LIDENT">full_range_int32</span> <a href="#local_state_34"><span class="LIDENT">state</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-full_range_nativeint"><span class="LIDENT">full_range_nativeint</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="MATCH">match</span> <a href="word_size.ml.html#val-word_size"><span class="UIDENT">Word_size</span><span class="DOT">.</span><span class="LIDENT">word_size</span></a> <span class="WITH">with</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UIDENT">W64</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">full_range_nativeint_on_64bits</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UIDENT">W32</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">full_range_nativeint_on_32bits</span><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-raise_crossed_bounds"><span class="LIDENT">raise_crossed_bounds</span></span> <span id="local_name_35"><span class="LIDENT">name</span></span> <span id="local_lower_bound_36"><span class="LIDENT">lower_bound</span></span> <span id="local_upper_bound_37"><span class="LIDENT">upper_bound</span></span> <span id="local_string_of_bound_38"><span class="LIDENT">string_of_bound</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <a href="printf.ml.html#val-failwithf"><span class="UIDENT">Printf</span><span class="DOT">.</span><span class="LIDENT">failwithf</span></a><span class="EOL">
</span>      <span class="STRING">&quot;Random.%s: crossed bounds [%s &gt; %s]&quot;</span><span class="EOL">
</span>      <a href="#local_name_35"><span class="LIDENT">name</span></a><span class="EOL">
</span>      <span class="LPAREN">(</span><a href="#local_string_of_bound_38"><span class="LIDENT">string_of_bound</span></a> <a href="#local_lower_bound_36"><span class="LIDENT">lower_bound</span></a><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="LPAREN">(</span><a href="#local_string_of_bound_38"><span class="LIDENT">string_of_bound</span></a> <a href="#local_upper_bound_37"><span class="LIDENT">upper_bound</span></a><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="LPAREN">(</span><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="LBRACKETATAT">[@@</span><span class="LIDENT">cold</span><span class="RBRACKET">]</span> <span class="LBRACKETATAT">[@@</span><span class="LIDENT">inline</span> <span class="LIDENT">never</span><span class="RBRACKET">]</span> <span class="LBRACKETATAT">[@@</span><span class="LIDENT">local</span> <span class="LIDENT">never</span><span class="RBRACKET">]</span> <span class="LBRACKETATAT">[@@</span><span class="LIDENT">specialise</span> <span class="LIDENT">never</span><span class="RBRACKET">]</span><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-int_incl"><span class="LIDENT">int_incl</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="REC">rec</span> <span id="local_in_range_39"><span class="LIDENT">in_range</span></span> <span id="local_state_40"><span class="LIDENT">state</span></span> <span id="local_lo_41"><span class="LIDENT">lo</span></span> <span id="local_hi_42"><span class="LIDENT">hi</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_int_43"><span class="LIDENT">int</span></span> <span class="EQUAL">=</span> <span class="LIDENT">full_range_int</span> <a href="#local_state_40"><span class="LIDENT">state</span></a> <span class="IN">in</span><span class="EOL">
</span>      <span class="IF">if</span> <a href="#local_int_43"><span class="LIDENT">int</span></a> <a href="import0.ml.html#module-Int_replace_polymorphic_compare.val-(&gt;=)"><span class="INFIXOP0">&gt;=</span></a> <a href="#local_lo_41"><span class="LIDENT">lo</span></a> <a href="import0.ml.html#val-(&amp;&amp;)"><span class="AMPERAMPER">&amp;&amp;</span></a> <a href="#local_int_43"><span class="LIDENT">int</span></a> <a href="import0.ml.html#module-Int_replace_polymorphic_compare.val-(&lt;=)"><span class="INFIXOP0">&lt;=</span></a> <a href="#local_hi_42"><span class="LIDENT">hi</span></a> <span class="THEN">then</span> <a href="#local_int_43"><span class="LIDENT">int</span></a> <span class="ELSE">else</span> <a href="#local_in_range_39"><span class="LIDENT">in_range</span></a> <a href="#local_state_40"><span class="LIDENT">state</span></a> <a href="#local_lo_41"><span class="LIDENT">lo</span></a> <a href="#local_hi_42"><span class="LIDENT">hi</span></a><span class="EOL">
</span>    <span class="IN">in</span><span class="EOL">
</span>    <span class="FUN">fun</span> <span id="local_state_44"><span class="LIDENT">state</span></span> <span id="local_lo_45"><span class="LIDENT">lo</span></span> <span id="local_hi_46"><span class="LIDENT">hi</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <span class="IF">if</span> <a href="#local_lo_45"><span class="LIDENT">lo</span></a> <a href="import0.ml.html#module-Int_replace_polymorphic_compare.val-(&gt;)"><span class="GREATER">&gt;</span></a> <a href="#local_hi_46"><span class="LIDENT">hi</span></a> <span class="THEN">then</span> <span class="LIDENT">raise_crossed_bounds</span> <span class="STRING">&quot;int&quot;</span> <a href="#local_lo_45"><span class="LIDENT">lo</span></a> <a href="#local_hi_46"><span class="LIDENT">hi</span></a> <span class="UIDENT">Int</span><span class="DOT">.</span><span class="LIDENT">to_string</span><span class="SEMI">;</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_diff_47"><span class="LIDENT">diff</span></span> <span class="EQUAL">=</span> <a href="#local_hi_46"><span class="LIDENT">hi</span></a> <a href="import0.ml.html#val-(-)"><span class="MINUS">-</span></a> <a href="#local_lo_45"><span class="LIDENT">lo</span></a> <span class="IN">in</span><span class="EOL">
</span>      <span class="IF">if</span> <a href="#local_diff_47"><span class="LIDENT">diff</span></a> <a href="../../../sexplib0/src/sexplib0/sexp_conv.ml.html#val-(=)"><span class="EQUAL">=</span></a> <span class="UIDENT">Int</span><span class="DOT">.</span><span class="LIDENT">max_value</span><span class="EOL">
</span>      <span class="THEN">then</span> <a href="#local_lo_45"><span class="LIDENT">lo</span></a> <a href="import0.ml.html#val-(+)"><span class="PLUS">+</span></a> <span class="LPAREN">(</span><span class="LIDENT">full_range_int</span> <a href="#local_state_44"><span class="LIDENT">state</span></a> <a href="import0.ml.html#val-(land)"><span class="INFIXOP3">land</span></a> <span class="UIDENT">Int</span><span class="DOT">.</span><span class="LIDENT">max_value</span><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="ELSE">else</span> <span class="IF">if</span> <a href="#local_diff_47"><span class="LIDENT">diff</span></a> <a href="import0.ml.html#module-Int_replace_polymorphic_compare.val-(&gt;=)"><span class="INFIXOP0">&gt;=</span></a> <span class="INT">0</span><span class="EOL">
</span>      <span class="THEN">then</span> <a href="#local_lo_45"><span class="LIDENT">lo</span></a> <a href="import0.ml.html#val-(+)"><span class="PLUS">+</span></a> <span class="LIDENT">int</span> <a href="#local_state_44"><span class="LIDENT">state</span></a> <span class="LPAREN">(</span><span class="UIDENT">Int</span><span class="DOT">.</span><span class="LIDENT">succ</span> <a href="#local_diff_47"><span class="LIDENT">diff</span></a><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="ELSE">else</span> <a href="#local_in_range_39"><span class="LIDENT">in_range</span></a> <a href="#local_state_44"><span class="LIDENT">state</span></a> <a href="#local_lo_45"><span class="LIDENT">lo</span></a> <a href="#local_hi_46"><span class="LIDENT">hi</span></a><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-int32_incl"><span class="LIDENT">int32_incl</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="OPEN">open</span> <a href="import0.ml.html#module-Int32_replace_polymorphic_compare"><span class="UIDENT">Int32_replace_polymorphic_compare</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="REC">rec</span> <span id="local_in_range_48"><span class="LIDENT">in_range</span></span> <span id="local_state_49"><span class="LIDENT">state</span></span> <span id="local_lo_50"><span class="LIDENT">lo</span></span> <span id="local_hi_51"><span class="LIDENT">hi</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_int_52"><span class="LIDENT">int</span></span> <span class="EQUAL">=</span> <span class="LIDENT">full_range_int32</span> <a href="#local_state_49"><span class="LIDENT">state</span></a> <span class="IN">in</span><span class="EOL">
</span>      <span class="IF">if</span> <a href="#local_int_52"><span class="LIDENT">int</span></a> <a href="import0.ml.html#module-Int32_replace_polymorphic_compare.val-(&gt;=)"><span class="INFIXOP0">&gt;=</span></a> <a href="#local_lo_50"><span class="LIDENT">lo</span></a> <a href="import0.ml.html#val-(&amp;&amp;)"><span class="AMPERAMPER">&amp;&amp;</span></a> <a href="#local_int_52"><span class="LIDENT">int</span></a> <a href="import0.ml.html#module-Int32_replace_polymorphic_compare.val-(&lt;=)"><span class="INFIXOP0">&lt;=</span></a> <a href="#local_hi_51"><span class="LIDENT">hi</span></a> <span class="THEN">then</span> <a href="#local_int_52"><span class="LIDENT">int</span></a> <span class="ELSE">else</span> <a href="#local_in_range_48"><span class="LIDENT">in_range</span></a> <a href="#local_state_49"><span class="LIDENT">state</span></a> <a href="#local_lo_50"><span class="LIDENT">lo</span></a> <a href="#local_hi_51"><span class="LIDENT">hi</span></a><span class="EOL">
</span>    <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="OPEN">open</span> <a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Int32</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="FUN">fun</span> <span id="local_state_53"><span class="LIDENT">state</span></span> <span id="local_lo_54"><span class="LIDENT">lo</span></span> <span id="local_hi_55"><span class="LIDENT">hi</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <span class="IF">if</span> <a href="#local_lo_54"><span class="LIDENT">lo</span></a> <a href="import0.ml.html#module-Int32_replace_polymorphic_compare.val-(&gt;)"><span class="GREATER">&gt;</span></a> <a href="#local_hi_55"><span class="LIDENT">hi</span></a> <span class="THEN">then</span> <span class="LIDENT">raise_crossed_bounds</span> <span class="STRING">&quot;int32&quot;</span> <a href="#local_lo_54"><span class="LIDENT">lo</span></a> <a href="#local_hi_55"><span class="LIDENT">hi</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html#val-to_string"><span class="LIDENT">to_string</span></a><span class="SEMI">;</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_diff_56"><span class="LIDENT">diff</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html#val-sub"><span class="LIDENT">sub</span></a> <a href="#local_hi_55"><span class="LIDENT">hi</span></a> <a href="#local_lo_54"><span class="LIDENT">lo</span></a> <span class="IN">in</span><span class="EOL">
</span>      <span class="IF">if</span> <a href="#local_diff_56"><span class="LIDENT">diff</span></a> <a href="import0.ml.html#module-Int32_replace_polymorphic_compare.val-(=)"><span class="EQUAL">=</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html#val-max_int"><span class="LIDENT">max_int</span></a><span class="EOL">
</span>      <span class="THEN">then</span> <a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html#val-add"><span class="LIDENT">add</span></a> <a href="#local_lo_54"><span class="LIDENT">lo</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html#val-logand"><span class="LIDENT">logand</span></a> <span class="LPAREN">(</span><span class="LIDENT">full_range_int32</span> <a href="#local_state_53"><span class="LIDENT">state</span></a><span class="RPAREN">)</span> <a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html#val-max_int"><span class="LIDENT">max_int</span></a><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="ELSE">else</span> <span class="IF">if</span> <a href="#local_diff_56"><span class="LIDENT">diff</span></a> <a href="import0.ml.html#module-Int32_replace_polymorphic_compare.val-(&gt;=)"><span class="INFIXOP0">&gt;=</span></a> <span class="INT">0l</span><span class="EOL">
</span>      <span class="THEN">then</span> <a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html#val-add"><span class="LIDENT">add</span></a> <a href="#local_lo_54"><span class="LIDENT">lo</span></a> <span class="LPAREN">(</span><span class="LIDENT">int32</span> <a href="#local_state_53"><span class="LIDENT">state</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/int32.ml.html#val-succ"><span class="LIDENT">succ</span></a> <a href="#local_diff_56"><span class="LIDENT">diff</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="ELSE">else</span> <a href="#local_in_range_48"><span class="LIDENT">in_range</span></a> <a href="#local_state_53"><span class="LIDENT">state</span></a> <a href="#local_lo_54"><span class="LIDENT">lo</span></a> <a href="#local_hi_55"><span class="LIDENT">hi</span></a><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-nativeint_incl"><span class="LIDENT">nativeint_incl</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="OPEN">open</span> <a href="import0.ml.html#module-Nativeint_replace_polymorphic_compare"><span class="UIDENT">Nativeint_replace_polymorphic_compare</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="REC">rec</span> <span id="local_in_range_57"><span class="LIDENT">in_range</span></span> <span id="local_state_58"><span class="LIDENT">state</span></span> <span id="local_lo_59"><span class="LIDENT">lo</span></span> <span id="local_hi_60"><span class="LIDENT">hi</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_int_61"><span class="LIDENT">int</span></span> <span class="EQUAL">=</span> <span class="LIDENT">full_range_nativeint</span> <a href="#local_state_58"><span class="LIDENT">state</span></a> <span class="IN">in</span><span class="EOL">
</span>      <span class="IF">if</span> <a href="#local_int_61"><span class="LIDENT">int</span></a> <a href="import0.ml.html#module-Nativeint_replace_polymorphic_compare.val-(&gt;=)"><span class="INFIXOP0">&gt;=</span></a> <a href="#local_lo_59"><span class="LIDENT">lo</span></a> <a href="import0.ml.html#val-(&amp;&amp;)"><span class="AMPERAMPER">&amp;&amp;</span></a> <a href="#local_int_61"><span class="LIDENT">int</span></a> <a href="import0.ml.html#module-Nativeint_replace_polymorphic_compare.val-(&lt;=)"><span class="INFIXOP0">&lt;=</span></a> <a href="#local_hi_60"><span class="LIDENT">hi</span></a> <span class="THEN">then</span> <a href="#local_int_61"><span class="LIDENT">int</span></a> <span class="ELSE">else</span> <a href="#local_in_range_57"><span class="LIDENT">in_range</span></a> <a href="#local_state_58"><span class="LIDENT">state</span></a> <a href="#local_lo_59"><span class="LIDENT">lo</span></a> <a href="#local_hi_60"><span class="LIDENT">hi</span></a><span class="EOL">
</span>    <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="OPEN">open</span> <a href="../../../ocaml-base-compiler/src/stdlib/nativeint.ml.html"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Nativeint</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="FUN">fun</span> <span id="local_state_62"><span class="LIDENT">state</span></span> <span id="local_lo_63"><span class="LIDENT">lo</span></span> <span id="local_hi_64"><span class="LIDENT">hi</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <span class="IF">if</span> <a href="#local_lo_63"><span class="LIDENT">lo</span></a> <a href="import0.ml.html#module-Nativeint_replace_polymorphic_compare.val-(&gt;)"><span class="GREATER">&gt;</span></a> <a href="#local_hi_64"><span class="LIDENT">hi</span></a> <span class="THEN">then</span> <span class="LIDENT">raise_crossed_bounds</span> <span class="STRING">&quot;nativeint&quot;</span> <a href="#local_lo_63"><span class="LIDENT">lo</span></a> <a href="#local_hi_64"><span class="LIDENT">hi</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/nativeint.ml.html#val-to_string"><span class="LIDENT">to_string</span></a><span class="SEMI">;</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_diff_65"><span class="LIDENT">diff</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/nativeint.ml.html#val-sub"><span class="LIDENT">sub</span></a> <a href="#local_hi_64"><span class="LIDENT">hi</span></a> <a href="#local_lo_63"><span class="LIDENT">lo</span></a> <span class="IN">in</span><span class="EOL">
</span>      <span class="IF">if</span> <a href="#local_diff_65"><span class="LIDENT">diff</span></a> <a href="import0.ml.html#module-Nativeint_replace_polymorphic_compare.val-(=)"><span class="EQUAL">=</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/nativeint.ml.html#val-max_int"><span class="LIDENT">max_int</span></a><span class="EOL">
</span>      <span class="THEN">then</span> <a href="../../../ocaml-base-compiler/src/stdlib/nativeint.ml.html#val-add"><span class="LIDENT">add</span></a> <a href="#local_lo_63"><span class="LIDENT">lo</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/nativeint.ml.html#val-logand"><span class="LIDENT">logand</span></a> <span class="LPAREN">(</span><span class="LIDENT">full_range_nativeint</span> <a href="#local_state_62"><span class="LIDENT">state</span></a><span class="RPAREN">)</span> <a href="../../../ocaml-base-compiler/src/stdlib/nativeint.ml.html#val-max_int"><span class="LIDENT">max_int</span></a><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="ELSE">else</span> <span class="IF">if</span> <a href="#local_diff_65"><span class="LIDENT">diff</span></a> <a href="import0.ml.html#module-Nativeint_replace_polymorphic_compare.val-(&gt;=)"><span class="INFIXOP0">&gt;=</span></a> <span class="INT">0n</span><span class="EOL">
</span>      <span class="THEN">then</span> <a href="../../../ocaml-base-compiler/src/stdlib/nativeint.ml.html#val-add"><span class="LIDENT">add</span></a> <a href="#local_lo_63"><span class="LIDENT">lo</span></a> <span class="LPAREN">(</span><span class="LIDENT">nativeint</span> <a href="#local_state_62"><span class="LIDENT">state</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/nativeint.ml.html#val-succ"><span class="LIDENT">succ</span></a> <a href="#local_diff_65"><span class="LIDENT">diff</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="ELSE">else</span> <a href="#local_in_range_57"><span class="LIDENT">in_range</span></a> <a href="#local_state_62"><span class="LIDENT">state</span></a> <a href="#local_lo_63"><span class="LIDENT">lo</span></a> <a href="#local_hi_64"><span class="LIDENT">hi</span></a><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-int64_incl"><span class="LIDENT">int64_incl</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="OPEN">open</span> <a href="import0.ml.html#module-Int64_replace_polymorphic_compare"><span class="UIDENT">Int64_replace_polymorphic_compare</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="REC">rec</span> <span id="local_in_range_66"><span class="LIDENT">in_range</span></span> <span id="local_state_67"><span class="LIDENT">state</span></span> <span id="local_lo_68"><span class="LIDENT">lo</span></span> <span id="local_hi_69"><span class="LIDENT">hi</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_int_70"><span class="LIDENT">int</span></span> <span class="EQUAL">=</span> <span class="LIDENT">full_range_int64</span> <a href="#local_state_67"><span class="LIDENT">state</span></a> <span class="IN">in</span><span class="EOL">
</span>      <span class="IF">if</span> <a href="#local_int_70"><span class="LIDENT">int</span></a> <a href="import0.ml.html#module-Int64_replace_polymorphic_compare.val-(&gt;=)"><span class="INFIXOP0">&gt;=</span></a> <a href="#local_lo_68"><span class="LIDENT">lo</span></a> <a href="import0.ml.html#val-(&amp;&amp;)"><span class="AMPERAMPER">&amp;&amp;</span></a> <a href="#local_int_70"><span class="LIDENT">int</span></a> <a href="import0.ml.html#module-Int64_replace_polymorphic_compare.val-(&lt;=)"><span class="INFIXOP0">&lt;=</span></a> <a href="#local_hi_69"><span class="LIDENT">hi</span></a> <span class="THEN">then</span> <a href="#local_int_70"><span class="LIDENT">int</span></a> <span class="ELSE">else</span> <a href="#local_in_range_66"><span class="LIDENT">in_range</span></a> <a href="#local_state_67"><span class="LIDENT">state</span></a> <a href="#local_lo_68"><span class="LIDENT">lo</span></a> <a href="#local_hi_69"><span class="LIDENT">hi</span></a><span class="EOL">
</span>    <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="OPEN">open</span> <a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="UIDENT">Int64</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="FUN">fun</span> <span id="local_state_71"><span class="LIDENT">state</span></span> <span id="local_lo_72"><span class="LIDENT">lo</span></span> <span id="local_hi_73"><span class="LIDENT">hi</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>      <span class="IF">if</span> <a href="#local_lo_72"><span class="LIDENT">lo</span></a> <a href="import0.ml.html#module-Int64_replace_polymorphic_compare.val-(&gt;)"><span class="GREATER">&gt;</span></a> <a href="#local_hi_73"><span class="LIDENT">hi</span></a> <span class="THEN">then</span> <span class="LIDENT">raise_crossed_bounds</span> <span class="STRING">&quot;int64&quot;</span> <a href="#local_lo_72"><span class="LIDENT">lo</span></a> <a href="#local_hi_73"><span class="LIDENT">hi</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-to_string"><span class="LIDENT">to_string</span></a><span class="SEMI">;</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_diff_74"><span class="LIDENT">diff</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-sub"><span class="LIDENT">sub</span></a> <a href="#local_hi_73"><span class="LIDENT">hi</span></a> <a href="#local_lo_72"><span class="LIDENT">lo</span></a> <span class="IN">in</span><span class="EOL">
</span>      <span class="IF">if</span> <a href="#local_diff_74"><span class="LIDENT">diff</span></a> <a href="import0.ml.html#module-Int64_replace_polymorphic_compare.val-(=)"><span class="EQUAL">=</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-max_int"><span class="LIDENT">max_int</span></a><span class="EOL">
</span>      <span class="THEN">then</span> <a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-add"><span class="LIDENT">add</span></a> <a href="#local_lo_72"><span class="LIDENT">lo</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-logand"><span class="LIDENT">logand</span></a> <span class="LPAREN">(</span><span class="LIDENT">full_range_int64</span> <a href="#local_state_71"><span class="LIDENT">state</span></a><span class="RPAREN">)</span> <a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-max_int"><span class="LIDENT">max_int</span></a><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="ELSE">else</span> <span class="IF">if</span> <a href="#local_diff_74"><span class="LIDENT">diff</span></a> <a href="import0.ml.html#module-Int64_replace_polymorphic_compare.val-(&gt;=)"><span class="INFIXOP0">&gt;=</span></a> <span class="INT">0L</span><span class="EOL">
</span>      <span class="THEN">then</span> <a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-add"><span class="LIDENT">add</span></a> <a href="#local_lo_72"><span class="LIDENT">lo</span></a> <span class="LPAREN">(</span><span class="LIDENT">int64</span> <a href="#local_state_71"><span class="LIDENT">state</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/int64.ml.html#val-succ"><span class="LIDENT">succ</span></a> <a href="#local_diff_74"><span class="LIDENT">diff</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="ELSE">else</span> <a href="#local_in_range_66"><span class="LIDENT">in_range</span></a> <a href="#local_state_71"><span class="LIDENT">state</span></a> <a href="#local_lo_72"><span class="LIDENT">lo</span></a> <a href="#local_hi_73"><span class="LIDENT">hi</span></a><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="COMMENT">(* Return a uniformly random float in [0, 1). *)</span><span class="EOL">
</span>  <span class="LET">let</span> <span class="REC">rec</span> <span id="module-State.val-rawfloat"><span class="LIDENT">rawfloat</span></span> <span id="local_state_75"><span class="LIDENT">state</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="OPEN">open</span> <a href="import0.ml.html#module-Float_replace_polymorphic_compare"><span class="UIDENT">Float_replace_polymorphic_compare</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_scale_76"><span class="LIDENT">scale</span></span> <span class="EQUAL">=</span> <span class="FLOAT">0x1p-30</span> <span class="IN">in</span><span class="EOL">
</span>    <span class="COMMENT">(* 2^-30 *)</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_r1_77"><span class="LIDENT">r1</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-float_of_int"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="LIDENT">float_of_int</span></a> <span class="LPAREN">(</span><span class="LIDENT">bits</span> <a href="#local_state_75"><span class="LIDENT">state</span></a><span class="RPAREN">)</span> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_r2_78"><span class="LIDENT">r2</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-float_of_int"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="LIDENT">float_of_int</span></a> <span class="LPAREN">(</span><span class="LIDENT">bits</span> <a href="#local_state_75"><span class="LIDENT">state</span></a><span class="RPAREN">)</span> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_result_79"><span class="LIDENT">result</span></span> <span class="EQUAL">=</span> <span class="LPAREN">(</span><span class="LPAREN">(</span><a href="#local_r1_77"><span class="LIDENT">r1</span></a> <a href="import0.ml.html#val-(*.)"><span class="INFIXOP3">*.</span></a> <a href="#local_scale_76"><span class="LIDENT">scale</span></a><span class="RPAREN">)</span> <a href="import0.ml.html#val-(+.)"><span class="PLUSDOT">+.</span></a> <a href="#local_r2_78"><span class="LIDENT">r2</span></a><span class="RPAREN">)</span> <a href="import0.ml.html#val-(*.)"><span class="INFIXOP3">*.</span></a> <a href="#local_scale_76"><span class="LIDENT">scale</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="COMMENT">(* With very small probability, result can round up to 1.0, so in that case, we just
       try again. *)</span><span class="EOL">
</span>    <span class="IF">if</span> <a href="#local_result_79"><span class="LIDENT">result</span></a> <a href="import0.ml.html#module-Float_replace_polymorphic_compare.val-(&lt;)"><span class="LESS">&lt;</span></a> <span class="FLOAT">1.0</span> <span class="THEN">then</span> <a href="#local_result_79"><span class="LIDENT">result</span></a> <span class="ELSE">else</span> <span class="LIDENT">rawfloat</span> <a href="#local_state_75"><span class="LIDENT">state</span></a><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-float"><span class="LIDENT">float</span></span> <span id="local_state_80"><span class="LIDENT">state</span></span> <span id="local_hi_81"><span class="LIDENT">hi</span></span> <span class="EQUAL">=</span> <span class="LIDENT">rawfloat</span> <a href="#local_state_80"><span class="LIDENT">state</span></a> <a href="import0.ml.html#val-(*.)"><span class="INFIXOP3">*.</span></a> <a href="#local_hi_81"><span class="LIDENT">hi</span></a><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-State.val-float_range"><span class="LIDENT">float_range</span></span> <span id="local_state_82"><span class="LIDENT">state</span></span> <span id="local_lo_83"><span class="LIDENT">lo</span></span> <span id="local_hi_84"><span class="LIDENT">hi</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="OPEN">open</span> <a href="import0.ml.html#module-Float_replace_polymorphic_compare"><span class="UIDENT">Float_replace_polymorphic_compare</span></a> <span class="IN">in</span><span class="EOL">
</span>    <span class="IF">if</span> <a href="#local_lo_83"><span class="LIDENT">lo</span></a> <a href="import0.ml.html#module-Float_replace_polymorphic_compare.val-(&gt;)"><span class="GREATER">&gt;</span></a> <a href="#local_hi_84"><span class="LIDENT">hi</span></a> <span class="THEN">then</span> <span class="LIDENT">raise_crossed_bounds</span> <span class="STRING">&quot;float&quot;</span> <a href="#local_lo_83"><span class="LIDENT">lo</span></a> <a href="#local_hi_84"><span class="LIDENT">hi</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-string_of_float"><span class="UIDENT">Stdlib</span><span class="DOT">.</span><span class="LIDENT">string_of_float</span></a><span class="SEMI">;</span><span class="EOL">
</span>    <a href="#local_lo_83"><span class="LIDENT">lo</span></a> <a href="import0.ml.html#val-(+.)"><span class="PLUSDOT">+.</span></a> <span class="LIDENT">float</span> <a href="#local_state_82"><span class="LIDENT">state</span></a> <span class="LPAREN">(</span><a href="#local_hi_84"><span class="LIDENT">hi</span></a> <a href="import0.ml.html#val-(-.)"><span class="MINUSDOT">-.</span></a> <a href="#local_lo_83"><span class="LIDENT">lo</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="SEMISEMI">;;</span><span class="EOL">
</span><span class="END">end</span></span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-default"><span class="LIDENT">default</span></span> <span class="EQUAL">=</span> <a href="random_repr.ml.html#val-make_default"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">make_default</span></a> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">default</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-bits"><span class="LIDENT">bits</span></span> <span class="LPAREN">(</span><span class="RPAREN">)</span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">bits</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-int"><span class="LIDENT">int</span></span> <span id="local_x_85"><span class="LIDENT">x</span></span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">int</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span> <a href="#local_x_85"><span class="LIDENT">x</span></a><span class="EOL">
</span><span class="LET">let</span> <span id="val-int32"><span class="LIDENT">int32</span></span> <span id="local_x_86"><span class="LIDENT">x</span></span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">int32</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span> <a href="#local_x_86"><span class="LIDENT">x</span></a><span class="EOL">
</span><span class="LET">let</span> <span id="val-nativeint"><span class="LIDENT">nativeint</span></span> <span id="local_x_87"><span class="LIDENT">x</span></span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">nativeint</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span> <a href="#local_x_87"><span class="LIDENT">x</span></a><span class="EOL">
</span><span class="LET">let</span> <span id="val-int64"><span class="LIDENT">int64</span></span> <span id="local_x_88"><span class="LIDENT">x</span></span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">int64</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span> <a href="#local_x_88"><span class="LIDENT">x</span></a><span class="EOL">
</span><span class="LET">let</span> <span id="val-float"><span class="LIDENT">float</span></span> <span id="local_x_89"><span class="LIDENT">x</span></span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">float</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span> <a href="#local_x_89"><span class="LIDENT">x</span></a><span class="EOL">
</span><span class="LET">let</span> <span id="val-int_incl"><span class="LIDENT">int_incl</span></span> <span id="local_x_90"><span class="LIDENT">x</span></span> <span id="local_y_91"><span class="LIDENT">y</span></span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">int_incl</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span> <a href="#local_x_90"><span class="LIDENT">x</span></a> <a href="#local_y_91"><span class="LIDENT">y</span></a><span class="EOL">
</span><span class="LET">let</span> <span id="val-int32_incl"><span class="LIDENT">int32_incl</span></span> <span id="local_x_92"><span class="LIDENT">x</span></span> <span id="local_y_93"><span class="LIDENT">y</span></span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">int32_incl</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span> <a href="#local_x_92"><span class="LIDENT">x</span></a> <a href="#local_y_93"><span class="LIDENT">y</span></a><span class="EOL">
</span><span class="LET">let</span> <span id="val-nativeint_incl"><span class="LIDENT">nativeint_incl</span></span> <span id="local_x_94"><span class="LIDENT">x</span></span> <span id="local_y_95"><span class="LIDENT">y</span></span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">nativeint_incl</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span> <a href="#local_x_94"><span class="LIDENT">x</span></a> <a href="#local_y_95"><span class="LIDENT">y</span></a><span class="EOL">
</span><span class="LET">let</span> <span id="val-int64_incl"><span class="LIDENT">int64_incl</span></span> <span id="local_x_96"><span class="LIDENT">x</span></span> <span id="local_y_97"><span class="LIDENT">y</span></span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">int64_incl</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span> <a href="#local_x_96"><span class="LIDENT">x</span></a> <a href="#local_y_97"><span class="LIDENT">y</span></a><span class="EOL">
</span><span class="LET">let</span> <span id="val-float_range"><span class="LIDENT">float_range</span></span> <span id="local_x_98"><span class="LIDENT">x</span></span> <span id="local_y_99"><span class="LIDENT">y</span></span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">float_range</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span> <a href="#local_x_98"><span class="LIDENT">x</span></a> <a href="#local_y_99"><span class="LIDENT">y</span></a><span class="EOL">
</span><span class="LET">let</span> <span id="val-bool"><span class="LIDENT">bool</span></span> <span class="LPAREN">(</span><span class="RPAREN">)</span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">bool</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-char"><span class="LIDENT">char</span></span> <span class="LPAREN">(</span><span class="RPAREN">)</span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">char</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-ascii"><span class="LIDENT">ascii</span></span> <span class="LPAREN">(</span><span class="RPAREN">)</span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">ascii</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-full_init"><span class="LIDENT">full_init</span></span> <span id="local_seed_100"><span class="LIDENT">seed</span></span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">full_init</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span> <a href="#local_seed_100"><span class="LIDENT">seed</span></a><span class="EOL">
</span><span class="LET">let</span> <span id="val-init"><span class="LIDENT">init</span></span> <span id="local_seed_101"><span class="LIDENT">seed</span></span> <span class="EQUAL">=</span> <span class="LIDENT">full_init</span> <span class="LBRACKETBAR">[|</span> <a href="#local_seed_101"><span class="LIDENT">seed</span></a> <span class="BARRBRACKET">|]</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-self_init"><span class="LIDENT">self_init</span></span> <span class="QUESTION">?</span><span id="local_allow_in_tests_102"><span class="LIDENT">allow_in_tests</span></span> <span class="LPAREN">(</span><span class="RPAREN">)</span> <span class="EQUAL">=</span> <span class="LIDENT">full_init</span> <span class="LPAREN">(</span><span class="LIDENT">random_seed</span> <span class="QUESTION">?</span><a href="#local_allow_in_tests_102"><span class="LIDENT">allow_in_tests</span></a> <span class="LPAREN">(</span><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-set_state"><span class="LIDENT">set_state</span></span> <span id="local_s_103"><span class="LIDENT">s</span></span> <span class="EQUAL">=</span> <span class="UIDENT">State</span><span class="DOT">.</span><span class="LIDENT">assign</span> <span class="LPAREN">(</span><a href="random_repr.ml.html#val-get_state"><span class="UIDENT">Random_repr</span><span class="DOT">.</span><span class="LIDENT">get_state</span></a> <span class="LIDENT">default</span><span class="RPAREN">)</span> <a href="#local_s_103"><span class="LIDENT">s</span></a><span class="EOL">
</span></span></code></pre></body></html>
