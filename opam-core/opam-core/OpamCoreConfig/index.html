<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>OpamCoreConfig (opam-core.opam-core.OpamCoreConfig)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.css"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../../../';
let search_urls = ['../../sherlodoc_db.js','../../../sherlodoc.js'];
</script><script src="../../../odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="../../index.html">Up</a> ‚Äì <a href="../../../index.html">üè†</a> &#x00BB; <a href="../../index.html">opam-core</a> &#x00BB; Library <code>opam-core</code> &#x00BB; OpamCoreConfig</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="üîé Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1>Module <code><span>OpamCoreConfig</span></code><a href="../../src/opam-core/opamCoreConfig.ml.html" class="source_link">Source</a></h1><p>Configuration options for the core lib (record, global reference and setter)</p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-global-toc"><ul><li><a href="../../index.html">opam-core</a><ul><li>Library <code>opam-core</code><ul><li><a href="../OpamACL/index.html">OpamACL</a></li><li><a href="../OpamCached/index.html">OpamCached</a></li><li><a href="../OpamCompat/index.html">OpamCompat</a></li><li><a href="../OpamConsole/index.html">OpamConsole</a></li><li><a href="#" class="current_unit">OpamCoreConfig</a><ul><li><a href="E/index.html">E</a></li></ul></li><li><a href="../OpamCoreConfigDeveloper/index.html">OpamCoreConfigDeveloper</a></li><li><a href="../OpamDirTrack/index.html">OpamDirTrack</a></li><li><a href="../OpamFilename/index.html">OpamFilename</a></li><li><a href="../OpamHash/index.html">OpamHash</a></li><li><a href="../OpamJson/index.html">OpamJson</a></li><li><a href="../OpamParallel/index.html">OpamParallel</a></li><li><a href="../OpamProcess/index.html">OpamProcess</a></li><li><a href="../OpamSHA/index.html">OpamSHA</a></li><li><a href="../OpamSWHID/index.html">OpamSWHID</a></li><li><a href="../OpamStd/index.html">OpamStd</a></li><li><a href="../OpamStubs/index.html">OpamStubs</a></li><li><a href="../OpamStubsTypes/index.html">OpamStubsTypes</a></li><li><a href="../OpamSystem/index.html">OpamSystem</a></li><li><a href="../OpamUrl/index.html">OpamUrl</a></li><li><a href="../OpamVersion/index.html">OpamVersion</a></li><li><a href="../OpamVersionCompare/index.html">OpamVersionCompare</a></li><li><a href="../OpamVersionInfo/index.html">OpamVersionInfo</a></li></ul></li><li><a href="../../src/index.html">Sources</a></li></ul></li></ul></nav></div><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-E"><a href="#module-E" class="anchor"></a><a href="../../src/opam-core/opamCoreConfig.ml.html#module-E" class="source_link">Source</a><code><span><span class="keyword">module</span> <a href="E/index.html">E</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><a href="../../src/opam-core/opamCoreConfig.ml.html#type-t" class="source_link">Source</a><code><span><span class="keyword">type</span> t</span><span> = <span class="keyword">private</span> </span><span>{</span></code><ol><li id="type-t.debug_level" class="def record field anchored"><a href="#type-t.debug_level" class="anchor"></a><code><span>debug_level : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Controls debug messages, 0 to disable</p><span class="comment-delim">*)</span></div></li><li id="type-t.debug_sections" class="def record field anchored"><a href="#type-t.debug_sections" class="anchor"></a><code><span>debug_sections : <a href="../OpamStd/Config/index.html#type-sections">OpamStd.Config.sections</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Controls which sections display debugging messages. If empty, all messages are displayed.</p><span class="comment-delim">*)</span></div></li><li id="type-t.verbose_level" class="def record field anchored"><a href="#type-t.verbose_level" class="anchor"></a><code><span>verbose_level : <a href="../OpamStd/Config/index.html#type-level">OpamStd.Config.level</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Controls printing of external commands and output, 0 to disable, more means print more low-level commands</p><span class="comment-delim">*)</span></div></li><li id="type-t.color" class="def record field anchored"><a href="#type-t.color" class="anchor"></a><code><span>color : <a href="../OpamStd/Config/index.html#type-when_">OpamStd.Config.when_</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Console ANSI color control</p><span class="comment-delim">*)</span></div></li><li id="type-t.utf8" class="def record field anchored"><a href="#type-t.utf8" class="anchor"></a><code><span>utf8 : <a href="../OpamStd/Config/index.html#type-when_ext">OpamStd.Config.when_ext</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Controls usage of UTF8 in OPAM-generated messages. Extended adds camel emojis</p><span class="comment-delim">*)</span></div></li><li id="type-t.disp_status_line" class="def record field anchored"><a href="#type-t.disp_status_line" class="anchor"></a><code><span>disp_status_line : <a href="../OpamStd/Config/index.html#type-when_">OpamStd.Config.when_</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Controls on-line display of parallel commands being run, using ANSI escapes</p><span class="comment-delim">*)</span></div></li><li id="type-t.confirm_level" class="def record field anchored"><a href="#type-t.confirm_level" class="anchor"></a><code><span>confirm_level : <span>[ <a href="../OpamStd/Config/index.html#type-answer">OpamStd.Config.answer</a> <span>| `undefined</span> ]</span>;</span></code></li><li id="type-t.yes" class="def record field anchored"><a href="#type-t.yes" class="anchor"></a><code><span>yes : <span>bool option</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Affects interactive questions in OpamConsole: used to compute the automatic ansering level</p><span class="comment-delim">*)</span></div></li><li id="type-t.safe_mode" class="def record field anchored"><a href="#type-t.safe_mode" class="anchor"></a><code><span>safe_mode : bool;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Fail on writes or delays, don't ask questions (for quick queries, e.g. for shell completion)</p><span class="comment-delim">*)</span></div></li><li id="type-t.log_dir" class="def record field anchored"><a href="#type-t.log_dir" class="anchor"></a><code><span>log_dir : string;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Where to store log and temporary files (output from commands...)</p><span class="comment-delim">*)</span></div></li><li id="type-t.keep_log_dir" class="def record field anchored"><a href="#type-t.keep_log_dir" class="anchor"></a><code><span>keep_log_dir : bool;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Whether to cleanup temporary and log files on exit</p><span class="comment-delim">*)</span></div></li><li id="type-t.errlog_length" class="def record field anchored"><a href="#type-t.errlog_length" class="anchor"></a><code><span>errlog_length : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The number of log lines displayed on process error. 0 for all</p><span class="comment-delim">*)</span></div></li><li id="type-t.merged_output" class="def record field anchored"><a href="#type-t.merged_output" class="anchor"></a><code><span>merged_output : bool;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>If set, stderr of commands is merged into their stdout</p><span class="comment-delim">*)</span></div></li><li id="type-t.precise_tracking" class="def record field anchored"><a href="#type-t.precise_tracking" class="anchor"></a><code><span>precise_tracking : bool;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>If set, will take full md5 of all files when checking diffs (to track installations), rather than rely on just file size and mtime</p><span class="comment-delim">*)</span></div></li><li id="type-t.cygbin" class="def record field anchored"><a href="#type-t.cygbin" class="anchor"></a><code><span>cygbin : <span>string option</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Windows specific: the path of binary directory (bin/) of currently used Cygwin install: internal or external Cygwin, or MSYS2.</p><span class="comment-delim">*)</span></div></li><li id="type-t.git_location" class="def record field anchored"><a href="#type-t.git_location" class="anchor"></a><code><span>git_location : <span>string option</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Windows specific: the full path of the git binary to use on Windows.</p><span class="comment-delim">*)</span></div></li><li id="type-t.set" class="def record field anchored"><a href="#type-t.set" class="anchor"></a><code><span>set : bool;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Options have not yet been initialised (i.e. defaults are active)</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-options_fun"><a href="#type-options_fun" class="anchor"></a><a href="../../src/opam-core/opamCoreConfig.ml.html#type-options_fun" class="source_link">Source</a><code><span><span class="keyword">type</span> <span>'a options_fun</span></span><span> =
  <span><span class="optlabel">?debug_level</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?debug_sections</span>:<a href="../OpamStd/Config/index.html#type-sections">OpamStd.Config.sections</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?verbose_level</span>:<a href="../OpamStd/Config/index.html#type-level">OpamStd.Config.level</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?color</span>:<a href="../OpamStd/Config/index.html#type-when_">OpamStd.Config.when_</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?utf8</span>:<a href="../OpamStd/Config/index.html#type-when_ext">OpamStd.Config.when_ext</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?disp_status_line</span>:<a href="../OpamStd/Config/index.html#type-when_">OpamStd.Config.when_</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?confirm_level</span>:<a href="../OpamStd/Config/index.html#type-answer">OpamStd.Config.answer</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?yes</span>:<span>bool option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?safe_mode</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?log_dir</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?keep_log_dir</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?errlog_length</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?merged_output</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?precise_tracking</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?cygbin</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?git_location</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-default"><a href="#val-default" class="anchor"></a><a href="../../src/opam-core/opamCoreConfig.ml.html#val-default" class="source_link">Source</a><code><span><span class="keyword">val</span> default : <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-set"><a href="#val-set" class="anchor"></a><a href="../../src/opam-core/opamCoreConfig.ml.html#val-set" class="source_link">Source</a><code><span><span class="keyword">val</span> set : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a>)</span> <a href="#type-options_fun">options_fun</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-setk"><a href="#val-setk" class="anchor"></a><a href="../../src/opam-core/opamCoreConfig.ml.html#val-setk" class="source_link">Source</a><code><span><span class="keyword">val</span> setk : <span><span>(<span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-options_fun">options_fun</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-r"><a href="#val-r" class="anchor"></a><a href="../../src/opam-core/opamCoreConfig.ml.html#val-r" class="source_link">Source</a><code><span><span class="keyword">val</span> r : <span><a href="#type-t">t</a> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/index.html#type-ref">ref</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-update"><a href="#val-update" class="anchor"></a><a href="../../src/opam-core/opamCoreConfig.ml.html#val-update" class="source_link">Source</a><code><span><span class="keyword">val</span> update : <span><span class="optlabel">?noop</span>:<span class="type-var">_</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <a href="#type-options_fun">options_fun</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-init"><a href="#val-init" class="anchor"></a><a href="../../src/opam-core/opamCoreConfig.ml.html#val-init" class="source_link">Source</a><code><span><span class="keyword">val</span> init : <span><span class="optlabel">?noop</span>:<span class="type-var">_</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <a href="#type-options_fun">options_fun</a></span></span></code></div><div class="spec-doc"><p>Sets the OpamCoreConfig options, reading the environment to get default values when unspecified</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-initk"><a href="#val-initk" class="anchor"></a><a href="../../src/opam-core/opamCoreConfig.ml.html#val-initk" class="source_link">Source</a><code><span><span class="keyword">val</span> initk : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-options_fun">options_fun</a></span></span></code></div><div class="spec-doc"><p>Like <code>init</code>, but returns the given value. For optional argument stacking</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-answer_is"><a href="#val-answer_is" class="anchor"></a><a href="../../src/opam-core/opamCoreConfig.ml.html#val-answer_is" class="source_link">Source</a><code><span><span class="keyword">val</span> answer_is : <span><a href="../OpamStd/Config/index.html#type-answer">OpamStd.Config.answer</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Automatic answering levels * <code>`ask</code>: prompt and ask user * <code>`all_no</code>: answer no to all opam questions * <code>`all_yes</code>: answer yes to all opam questions * <code>`unsafe_yes</code>: answer yes to all opam question and launch system package command wit non interactive options If confirm-level is set (from cli or environment variable), its value is returned. Otherwise, is takes last yes/no cli flag. For environment variables, if <code>OPAMYES</code> is set to true, it has priority over <code>OPAMNO</code>. As other environment variables, cli flags content is taken if given. <code>answer_is</code> and <code>answer_is_yes</code> computes the answer lazily, use <code>answer</code> in case of config update.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-answer_is_yes"><a href="#val-answer_is_yes" class="anchor"></a><a href="../../src/opam-core/opamCoreConfig.ml.html#val-answer_is_yes" class="source_link">Source</a><code><span><span class="keyword">val</span> answer_is_yes : <span>unit <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-answer"><a href="#val-answer" class="anchor"></a><a href="../../src/opam-core/opamCoreConfig.ml.html#val-answer" class="source_link">Source</a><code><span><span class="keyword">val</span> answer : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../OpamStd/Config/index.html#type-answer">OpamStd.Config.answer</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-developer"><a href="#val-developer" class="anchor"></a><a href="../../src/opam-core/opamCoreConfig.ml.html#val-developer" class="source_link">Source</a><code><span><span class="keyword">val</span> developer : bool</span></code></div><div class="spec-doc"><p><code>true</code> if OPAM was compiled in developer mode</p></div></div></div></body></html>
