<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Env (opam-core.opam-core.OpamStd.Env)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.css"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../../../../';
let search_urls = ['../../../sherlodoc_db.js','../../../../sherlodoc.js'];
</script><script src="../../../../odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> ‚Äì <a href="../../../../index.html">üè†</a> &#x00BB; <a href="../../../index.html">opam-core</a> &#x00BB; Library <code>opam-core</code> &#x00BB; <a href="../index.html">OpamStd</a> &#x00BB; Env</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="üîé Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1>Module <code><span>OpamStd.Env</span></code><a href="../../../src/opam-core/opamStd.ml.html#module-Env" class="source_link">Source</a></h1></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#generic-functions">Generic functions</a></li><li><a href="#environment-variable-handling">Environment variable handling</a></li></ul></nav><nav class="odoc-toc odoc-global-toc"><ul><li><a href="../../../index.html">opam-core</a><ul><li>Library <code>opam-core</code><ul><li><a href="../../OpamACL/index.html">OpamACL</a></li><li><a href="../../OpamCached/index.html">OpamCached</a></li><li><a href="../../OpamCompat/index.html">OpamCompat</a></li><li><a href="../../OpamConsole/index.html">OpamConsole</a></li><li><a href="../../OpamCoreConfig/index.html">OpamCoreConfig</a></li><li><a href="../../OpamCoreConfigDeveloper/index.html">OpamCoreConfigDeveloper</a></li><li><a href="../../OpamDirTrack/index.html">OpamDirTrack</a></li><li><a href="../../OpamFilename/index.html">OpamFilename</a></li><li><a href="../../OpamHash/index.html">OpamHash</a></li><li><a href="../../OpamJson/index.html">OpamJson</a></li><li><a href="../../OpamParallel/index.html">OpamParallel</a></li><li><a href="../../OpamProcess/index.html">OpamProcess</a></li><li><a href="../../OpamSHA/index.html">OpamSHA</a></li><li><a href="../../OpamSWHID/index.html">OpamSWHID</a></li><li><a href="../index.html">OpamStd</a><ul><li><a href="../module-type-SET/index.html">SET</a></li><li><a href="../module-type-MAP/index.html">MAP</a></li><li><a href="../module-type-ABSTRACT/index.html">ABSTRACT</a></li><li><a href="../AbstractString/index.html">AbstractString</a></li><li><a href="../module-type-OrderedType/index.html">OrderedType</a></li><li><a href="../Set/index.html">Set</a></li><li><a href="../Map/index.html">Map</a></li><li><a href="../IntMap/index.html">IntMap</a></li><li><a href="../IntSet/index.html">IntSet</a></li><li><a href="../Option/index.html">Option</a></li><li><a href="../List/index.html">List</a></li><li><a href="../String/index.html">String</a></li><li><a href="../Format/index.html">Format</a></li><li><a href="../Exn/index.html">Exn</a></li><li><a href="#" class="current_unit">Env</a><ul><li><a href="Name/index.html">Name</a></li></ul></li><li><a href="../Sys/index.html">Sys</a></li><li><a href="../Win32/index.html">Win32</a></li><li><a href="../Op/index.html">Op</a></li><li><a href="../Config/index.html">Config</a></li><li><a href="../Compare/index.html">Compare</a></li></ul></li><li><a href="../../OpamStubs/index.html">OpamStubs</a></li><li><a href="../../OpamStubsTypes/index.html">OpamStubsTypes</a></li><li><a href="../../OpamSystem/index.html">OpamSystem</a></li><li><a href="../../OpamUrl/index.html">OpamUrl</a></li><li><a href="../../OpamVersion/index.html">OpamVersion</a></li><li><a href="../../OpamVersionCompare/index.html">OpamVersionCompare</a></li><li><a href="../../OpamVersionInfo/index.html">OpamVersionInfo</a></li></ul></li><li><a href="../../../src/index.html">Sources</a></li></ul></li></ul></nav></div><div class="odoc-content"><h4 id="generic-functions"><a href="#generic-functions" class="anchor"></a>Generic functions</h4><div class="odoc-spec"><div class="spec value anchored" id="val-reset_value"><a href="#val-reset_value" class="anchor"></a><a href="../../../src/opam-core/opamStd.ml.html#module-Env.val-reset_value" class="source_link">Source</a><code><span><span class="keyword">val</span> reset_value : <span><span class="label">prefix</span>:string <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>Remove from a c-separated list of string the ones with the given prefix</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cut_value"><a href="#val-cut_value" class="anchor"></a><a href="../../../src/opam-core/opamStd.ml.html#module-Env.val-cut_value" class="source_link">Source</a><code><span><span class="keyword">val</span> cut_value : <span><span class="label">prefix</span>:string <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string list</span> * <span>string list</span></span></code></div><div class="spec-doc"><p>split a c-separated list of string in two according to the first occurrences of the string with the given <code>prefix</code>. The list of elements occurring before is returned in reverse order. If there are other elements with the same <code>prefix</code> they are kept in the second list.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-escape_single_quotes"><a href="#val-escape_single_quotes" class="anchor"></a><a href="../../../src/opam-core/opamStd.ml.html#module-Env.val-escape_single_quotes" class="source_link">Source</a><code><span><span class="keyword">val</span> escape_single_quotes : <span><span class="optlabel">?using_backslashes</span>:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Utility function for shell single-quoted strings. In most shells, backslash escapes are not allowed and a single quote needs to be replaced by <code>quote double-quote quote double-quote quote</code> (close the single-quoted literal, put the single quote in a double-quoted literal, and reopen a single-quoted literal). fish is the exception and should set <code>using_backslashes</code> to escape both quotes and backslashes using backslashes</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-escape_powershell"><a href="#val-escape_powershell" class="anchor"></a><a href="../../../src/opam-core/opamStd.ml.html#module-Env.val-escape_powershell" class="source_link">Source</a><code><span><span class="keyword">val</span> escape_powershell : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Utility function for PowerShell strings.</p></div></div><h4 id="environment-variable-handling"><a href="#environment-variable-handling" class="anchor"></a>Environment variable handling</h4><div class="odoc-spec"><div class="spec module anchored" id="module-Name"><a href="#module-Name" class="anchor"></a><a href="../../../src/opam-core/opamStd.ml.html#module-Env.module-Name" class="source_link">Source</a><code><span><span class="keyword">module</span> <a href="Name/index.html">Name</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Environment variable names. Windows has complicated semantics for environment variables. The retrieval functions are case insensitive, but it's &quot;legal&quot; for the environment block to contain entries which differ only by case. If environment variables are set entirely using CRT or Win32 API functions, then there isn't usually a problem, the issue arises when creating a program where the environment block is instead passed. In this model, it's very easy to end up with two bindings in the same block. When dealing with Windows programs, this will mostly be transparent, but it's a problem with Cygwin which actively allows &quot;duplicate&quot; entries which differ by case only and implements Posix semantics on top of this. The problem is constantly with us thanks to the use of PATH on Unix, and Path on Windows! opam tries to ensure that environment variables are looked up according to the OS semantics (so case insensitively on Windows) and OpamEnv goes to some trouble to ensure that updates to environment variables are case preserving (i.e. PATH+=foo gets transformed to Path+=foo if Path exists in the environment block).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get"><a href="#val-get" class="anchor"></a><a href="../../../src/opam-core/opamStd.ml.html#module-Env.val-get" class="source_link">Source</a><code><span><span class="keyword">val</span> get : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-getopt"><a href="#val-getopt" class="anchor"></a><a href="../../../src/opam-core/opamStd.ml.html#module-Env.val-getopt" class="source_link">Source</a><code><span><span class="keyword">val</span> getopt : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-getopt_full"><a href="#val-getopt_full" class="anchor"></a><a href="../../../src/opam-core/opamStd.ml.html#module-Env.val-getopt_full" class="source_link">Source</a><code><span><span class="keyword">val</span> getopt_full : <span><a href="Name/index.html#type-t">Name.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="Name/index.html#type-t">Name.t</a> * <span>string option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-list"><a href="#val-list" class="anchor"></a><a href="../../../src/opam-core/opamStd.ml.html#module-Env.val-list" class="source_link">Source</a><code><span><span class="keyword">val</span> list : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="Name/index.html#type-t">Name.t</a> * string)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raw_env"><a href="#val-raw_env" class="anchor"></a><a href="../../../src/opam-core/opamStd.ml.html#module-Env.val-raw_env" class="source_link">Source</a><code><span><span class="keyword">val</span> raw_env : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>string array</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cyg_env"><a href="#val-cyg_env" class="anchor"></a><a href="../../../src/opam-core/opamStd.ml.html#module-Env.val-cyg_env" class="source_link">Source</a><code><span><span class="keyword">val</span> cyg_env : 
  <span><span class="label">env</span>:<span>string array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">cygbin</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">git_location</span>:<span>string option</span> <span class="arrow">&#45;&gt;</span></span>
  <span>string array</span></span></code></div><div class="spec-doc"><p><code>cyg_env ~env ~cygbin ~git_location</code> returns <code>env</code> environment with its PATH variable updated with <code>git_location</code> and <code>cygbin</code> at the beginning, ie PATH=&lt;git_location&gt;:&lt;cygbin&gt;:$PATH. Usual `env` argument is `OpamStd.Env.raw_env`.</p></div></div></div></body></html>
