<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Source: line_intf.ml (progress.src.progress.engine)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.css"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/></head><body class="odoc-src"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">progress</a> &#x00BB; <a href="../index.html">Sources</a> &#x00BB; progress.engine &#x00BB; line_intf.ml</nav><header class="odoc-preamble"><h1>Source file <code><span>line_intf.ml</span></code></h1></header><div class="odoc-tocs"><nav class="odoc-toc odoc-global-toc"><ul><li><a href="../../index.html">progress</a><ul><li>Library <code>progress</code><ul><li><a href="../../progress/Progress/index.html">Progress</a></li></ul></li><li>Library <code>progress.engine</code><ul><li><a href="../../progress.engine/Progress_engine/index.html">Progress_engine</a></li></ul></li><li><a href="../index.html">Sources</a><ul><li>progress<ul><li><a href="../progress/progress.ml.html">progress.ml</a></li><li><a href="../progress/progress__.ml.html">progress__.ml</a></li><li><a href="../progress/terminal_width.ml.html">terminal_width.ml</a></li></ul></li><li>progress.engine<ul><li><a href="config.ml.html">config.ml</a></li><li><a href="duration.ml.html">duration.ml</a></li><li><a href="flow_meter.ml.html">flow_meter.ml</a></li><li><a href="import.ml.html">import.ml</a></li><li><a href="integer.ml.html">integer.ml</a></li><li><a href="line.ml.html">line.ml</a></li><li><a href="line_buffer.ml.html">line_buffer.ml</a></li><li><a href="#" class="current_unit">line_intf.ml</a></li><li><a href="line_primitives.ml.html">line_primitives.ml</a></li><li><a href="line_primitives_intf.ml.html">line_primitives_intf.ml</a></li><li><a href="multi.ml.html">multi.ml</a></li><li><a href="multi_intf.ml.html">multi_intf.ml</a></li><li><a href="platform.ml.html">platform.ml</a></li><li><a href="printer.ml.html">printer.ml</a></li><li><a href="progress_engine.ml.html">progress_engine.ml</a></li><li><a href="progress_engine__.ml.html">progress_engine__.ml</a></li><li><a href="progress_engine_intf.ml.html">progress_engine_intf.ml</a></li><li><a href="renderer.ml.html">renderer.ml</a></li><li><a href="renderer_intf.ml.html">renderer_intf.ml</a></li><li><a href="stdlib_ext.ml.html">stdlib_ext.ml</a></li><li><a href="units.ml.html">units.ml</a></li></ul></li></ul></li></ul></li></ul></nav></div><pre class="source_container"><code class="source_line_column"><a id="L1" class="source_line" href="#L1">1</a>
<a id="L2" class="source_line" href="#L2">2</a>
<a id="L3" class="source_line" href="#L3">3</a>
<a id="L4" class="source_line" href="#L4">4</a>
<a id="L5" class="source_line" href="#L5">5</a>
<a id="L6" class="source_line" href="#L6">6</a>
<a id="L7" class="source_line" href="#L7">7</a>
<a id="L8" class="source_line" href="#L8">8</a>
<a id="L9" class="source_line" href="#L9">9</a>
<a id="L10" class="source_line" href="#L10">10</a>
<a id="L11" class="source_line" href="#L11">11</a>
<a id="L12" class="source_line" href="#L12">12</a>
<a id="L13" class="source_line" href="#L13">13</a>
<a id="L14" class="source_line" href="#L14">14</a>
<a id="L15" class="source_line" href="#L15">15</a>
<a id="L16" class="source_line" href="#L16">16</a>
<a id="L17" class="source_line" href="#L17">17</a>
<a id="L18" class="source_line" href="#L18">18</a>
<a id="L19" class="source_line" href="#L19">19</a>
<a id="L20" class="source_line" href="#L20">20</a>
<a id="L21" class="source_line" href="#L21">21</a>
<a id="L22" class="source_line" href="#L22">22</a>
<a id="L23" class="source_line" href="#L23">23</a>
<a id="L24" class="source_line" href="#L24">24</a>
<a id="L25" class="source_line" href="#L25">25</a>
<a id="L26" class="source_line" href="#L26">26</a>
<a id="L27" class="source_line" href="#L27">27</a>
<a id="L28" class="source_line" href="#L28">28</a>
<a id="L29" class="source_line" href="#L29">29</a>
<a id="L30" class="source_line" href="#L30">30</a>
<a id="L31" class="source_line" href="#L31">31</a>
<a id="L32" class="source_line" href="#L32">32</a>
<a id="L33" class="source_line" href="#L33">33</a>
<a id="L34" class="source_line" href="#L34">34</a>
<a id="L35" class="source_line" href="#L35">35</a>
<a id="L36" class="source_line" href="#L36">36</a>
<a id="L37" class="source_line" href="#L37">37</a>
<a id="L38" class="source_line" href="#L38">38</a>
<a id="L39" class="source_line" href="#L39">39</a>
<a id="L40" class="source_line" href="#L40">40</a>
<a id="L41" class="source_line" href="#L41">41</a>
<a id="L42" class="source_line" href="#L42">42</a>
<a id="L43" class="source_line" href="#L43">43</a>
<a id="L44" class="source_line" href="#L44">44</a>
<a id="L45" class="source_line" href="#L45">45</a>
<a id="L46" class="source_line" href="#L46">46</a>
<a id="L47" class="source_line" href="#L47">47</a>
<a id="L48" class="source_line" href="#L48">48</a>
<a id="L49" class="source_line" href="#L49">49</a>
<a id="L50" class="source_line" href="#L50">50</a>
<a id="L51" class="source_line" href="#L51">51</a>
<a id="L52" class="source_line" href="#L52">52</a>
<a id="L53" class="source_line" href="#L53">53</a>
<a id="L54" class="source_line" href="#L54">54</a>
<a id="L55" class="source_line" href="#L55">55</a>
<a id="L56" class="source_line" href="#L56">56</a>
<a id="L57" class="source_line" href="#L57">57</a>
<a id="L58" class="source_line" href="#L58">58</a>
<a id="L59" class="source_line" href="#L59">59</a>
<a id="L60" class="source_line" href="#L60">60</a>
<a id="L61" class="source_line" href="#L61">61</a>
<a id="L62" class="source_line" href="#L62">62</a>
<a id="L63" class="source_line" href="#L63">63</a>
<a id="L64" class="source_line" href="#L64">64</a>
<a id="L65" class="source_line" href="#L65">65</a>
<a id="L66" class="source_line" href="#L66">66</a>
<a id="L67" class="source_line" href="#L67">67</a>
<a id="L68" class="source_line" href="#L68">68</a>
<a id="L69" class="source_line" href="#L69">69</a>
<a id="L70" class="source_line" href="#L70">70</a>
<a id="L71" class="source_line" href="#L71">71</a>
<a id="L72" class="source_line" href="#L72">72</a>
<a id="L73" class="source_line" href="#L73">73</a>
<a id="L74" class="source_line" href="#L74">74</a>
<a id="L75" class="source_line" href="#L75">75</a>
<a id="L76" class="source_line" href="#L76">76</a>
<a id="L77" class="source_line" href="#L77">77</a>
<a id="L78" class="source_line" href="#L78">78</a>
<a id="L79" class="source_line" href="#L79">79</a>
<a id="L80" class="source_line" href="#L80">80</a>
<a id="L81" class="source_line" href="#L81">81</a>
<a id="L82" class="source_line" href="#L82">82</a>
<a id="L83" class="source_line" href="#L83">83</a>
<a id="L84" class="source_line" href="#L84">84</a>
<a id="L85" class="source_line" href="#L85">85</a>
<a id="L86" class="source_line" href="#L86">86</a>
<a id="L87" class="source_line" href="#L87">87</a>
<a id="L88" class="source_line" href="#L88">88</a>
<a id="L89" class="source_line" href="#L89">89</a>
<a id="L90" class="source_line" href="#L90">90</a>
<a id="L91" class="source_line" href="#L91">91</a>
<a id="L92" class="source_line" href="#L92">92</a>
<a id="L93" class="source_line" href="#L93">93</a>
<a id="L94" class="source_line" href="#L94">94</a>
<a id="L95" class="source_line" href="#L95">95</a>
<a id="L96" class="source_line" href="#L96">96</a>
<a id="L97" class="source_line" href="#L97">97</a>
<a id="L98" class="source_line" href="#L98">98</a>
<a id="L99" class="source_line" href="#L99">99</a>
<a id="L100" class="source_line" href="#L100">100</a>
<a id="L101" class="source_line" href="#L101">101</a>
<a id="L102" class="source_line" href="#L102">102</a>
<a id="L103" class="source_line" href="#L103">103</a>
<a id="L104" class="source_line" href="#L104">104</a>
<a id="L105" class="source_line" href="#L105">105</a>
<a id="L106" class="source_line" href="#L106">106</a>
<a id="L107" class="source_line" href="#L107">107</a>
<a id="L108" class="source_line" href="#L108">108</a>
<a id="L109" class="source_line" href="#L109">109</a>
<a id="L110" class="source_line" href="#L110">110</a>
<a id="L111" class="source_line" href="#L111">111</a>
<a id="L112" class="source_line" href="#L112">112</a>
<a id="L113" class="source_line" href="#L113">113</a>
<a id="L114" class="source_line" href="#L114">114</a>
<a id="L115" class="source_line" href="#L115">115</a>
<a id="L116" class="source_line" href="#L116">116</a>
<a id="L117" class="source_line" href="#L117">117</a>
<a id="L118" class="source_line" href="#L118">118</a>
<a id="L119" class="source_line" href="#L119">119</a>
<a id="L120" class="source_line" href="#L120">120</a>
<a id="L121" class="source_line" href="#L121">121</a>
<a id="L122" class="source_line" href="#L122">122</a>
<a id="L123" class="source_line" href="#L123">123</a>
<a id="L124" class="source_line" href="#L124">124</a>
<a id="L125" class="source_line" href="#L125">125</a>
<a id="L126" class="source_line" href="#L126">126</a>
<a id="L127" class="source_line" href="#L127">127</a>
<a id="L128" class="source_line" href="#L128">128</a>
<a id="L129" class="source_line" href="#L129">129</a>
<a id="L130" class="source_line" href="#L130">130</a>
<a id="L131" class="source_line" href="#L131">131</a>
<a id="L132" class="source_line" href="#L132">132</a>
<a id="L133" class="source_line" href="#L133">133</a>
<a id="L134" class="source_line" href="#L134">134</a>
<a id="L135" class="source_line" href="#L135">135</a>
<a id="L136" class="source_line" href="#L136">136</a>
<a id="L137" class="source_line" href="#L137">137</a>
<a id="L138" class="source_line" href="#L138">138</a>
<a id="L139" class="source_line" href="#L139">139</a>
<a id="L140" class="source_line" href="#L140">140</a>
<a id="L141" class="source_line" href="#L141">141</a>
<a id="L142" class="source_line" href="#L142">142</a>
<a id="L143" class="source_line" href="#L143">143</a>
<a id="L144" class="source_line" href="#L144">144</a>
<a id="L145" class="source_line" href="#L145">145</a>
<a id="L146" class="source_line" href="#L146">146</a>
<a id="L147" class="source_line" href="#L147">147</a>
<a id="L148" class="source_line" href="#L148">148</a>
<a id="L149" class="source_line" href="#L149">149</a>
<a id="L150" class="source_line" href="#L150">150</a>
<a id="L151" class="source_line" href="#L151">151</a>
<a id="L152" class="source_line" href="#L152">152</a>
<a id="L153" class="source_line" href="#L153">153</a>
<a id="L154" class="source_line" href="#L154">154</a>
<a id="L155" class="source_line" href="#L155">155</a>
<a id="L156" class="source_line" href="#L156">156</a>
<a id="L157" class="source_line" href="#L157">157</a>
<a id="L158" class="source_line" href="#L158">158</a>
<a id="L159" class="source_line" href="#L159">159</a>
<a id="L160" class="source_line" href="#L160">160</a>
<a id="L161" class="source_line" href="#L161">161</a>
<a id="L162" class="source_line" href="#L162">162</a>
<a id="L163" class="source_line" href="#L163">163</a>
<a id="L164" class="source_line" href="#L164">164</a>
<a id="L165" class="source_line" href="#L165">165</a>
<a id="L166" class="source_line" href="#L166">166</a>
<a id="L167" class="source_line" href="#L167">167</a>
<a id="L168" class="source_line" href="#L168">168</a>
<a id="L169" class="source_line" href="#L169">169</a>
<a id="L170" class="source_line" href="#L170">170</a>
<a id="L171" class="source_line" href="#L171">171</a>
<a id="L172" class="source_line" href="#L172">172</a>
<a id="L173" class="source_line" href="#L173">173</a>
<a id="L174" class="source_line" href="#L174">174</a>
<a id="L175" class="source_line" href="#L175">175</a>
<a id="L176" class="source_line" href="#L176">176</a>
<a id="L177" class="source_line" href="#L177">177</a>
<a id="L178" class="source_line" href="#L178">178</a>
<a id="L179" class="source_line" href="#L179">179</a>
<a id="L180" class="source_line" href="#L180">180</a>
<a id="L181" class="source_line" href="#L181">181</a>
<a id="L182" class="source_line" href="#L182">182</a>
<a id="L183" class="source_line" href="#L183">183</a>
<a id="L184" class="source_line" href="#L184">184</a>
<a id="L185" class="source_line" href="#L185">185</a>
<a id="L186" class="source_line" href="#L186">186</a>
<a id="L187" class="source_line" href="#L187">187</a>
<a id="L188" class="source_line" href="#L188">188</a>
<a id="L189" class="source_line" href="#L189">189</a>
<a id="L190" class="source_line" href="#L190">190</a>
<a id="L191" class="source_line" href="#L191">191</a>
<a id="L192" class="source_line" href="#L192">192</a>
<a id="L193" class="source_line" href="#L193">193</a>
<a id="L194" class="source_line" href="#L194">194</a>
<a id="L195" class="source_line" href="#L195">195</a>
<a id="L196" class="source_line" href="#L196">196</a>
<a id="L197" class="source_line" href="#L197">197</a>
<a id="L198" class="source_line" href="#L198">198</a>
<a id="L199" class="source_line" href="#L199">199</a>
<a id="L200" class="source_line" href="#L200">200</a>
<a id="L201" class="source_line" href="#L201">201</a>
<a id="L202" class="source_line" href="#L202">202</a>
<a id="L203" class="source_line" href="#L203">203</a>
<a id="L204" class="source_line" href="#L204">204</a>
<a id="L205" class="source_line" href="#L205">205</a>
<a id="L206" class="source_line" href="#L206">206</a>
<a id="L207" class="source_line" href="#L207">207</a>
<a id="L208" class="source_line" href="#L208">208</a>
<a id="L209" class="source_line" href="#L209">209</a>
<a id="L210" class="source_line" href="#L210">210</a>
<a id="L211" class="source_line" href="#L211">211</a>
<a id="L212" class="source_line" href="#L212">212</a>
<a id="L213" class="source_line" href="#L213">213</a>
<a id="L214" class="source_line" href="#L214">214</a>
<a id="L215" class="source_line" href="#L215">215</a>
<a id="L216" class="source_line" href="#L216">216</a>
<a id="L217" class="source_line" href="#L217">217</a>
<a id="L218" class="source_line" href="#L218">218</a>
<a id="L219" class="source_line" href="#L219">219</a>
<a id="L220" class="source_line" href="#L220">220</a>
<a id="L221" class="source_line" href="#L221">221</a>
<a id="L222" class="source_line" href="#L222">222</a>
<a id="L223" class="source_line" href="#L223">223</a>
<a id="L224" class="source_line" href="#L224">224</a>
<a id="L225" class="source_line" href="#L225">225</a>
<a id="L226" class="source_line" href="#L226">226</a>
<a id="L227" class="source_line" href="#L227">227</a>
<a id="L228" class="source_line" href="#L228">228</a>
<a id="L229" class="source_line" href="#L229">229</a>
<a id="L230" class="source_line" href="#L230">230</a>
<a id="L231" class="source_line" href="#L231">231</a>
<a id="L232" class="source_line" href="#L232">232</a>
<a id="L233" class="source_line" href="#L233">233</a>
<a id="L234" class="source_line" href="#L234">234</a>
<a id="L235" class="source_line" href="#L235">235</a>
<a id="L236" class="source_line" href="#L236">236</a>
<a id="L237" class="source_line" href="#L237">237</a>
<a id="L238" class="source_line" href="#L238">238</a>
<a id="L239" class="source_line" href="#L239">239</a>
<a id="L240" class="source_line" href="#L240">240</a>
<a id="L241" class="source_line" href="#L241">241</a>
<a id="L242" class="source_line" href="#L242">242</a>
<a id="L243" class="source_line" href="#L243">243</a>
<a id="L244" class="source_line" href="#L244">244</a>
<a id="L245" class="source_line" href="#L245">245</a>
<a id="L246" class="source_line" href="#L246">246</a>
<a id="L247" class="source_line" href="#L247">247</a>
<a id="L248" class="source_line" href="#L248">248</a>
<a id="L249" class="source_line" href="#L249">249</a>
<a id="L250" class="source_line" href="#L250">250</a>
<a id="L251" class="source_line" href="#L251">251</a>
<a id="L252" class="source_line" href="#L252">252</a>
<a id="L253" class="source_line" href="#L253">253</a>
<a id="L254" class="source_line" href="#L254">254</a>
<a id="L255" class="source_line" href="#L255">255</a>
<a id="L256" class="source_line" href="#L256">256</a>
<a id="L257" class="source_line" href="#L257">257</a>
<a id="L258" class="source_line" href="#L258">258</a>
<a id="L259" class="source_line" href="#L259">259</a>
<a id="L260" class="source_line" href="#L260">260</a>
<a id="L261" class="source_line" href="#L261">261</a>
<a id="L262" class="source_line" href="#L262">262</a>
<a id="L263" class="source_line" href="#L263">263</a>
<a id="L264" class="source_line" href="#L264">264</a>
<a id="L265" class="source_line" href="#L265">265</a>
<a id="L266" class="source_line" href="#L266">266</a>
<a id="L267" class="source_line" href="#L267">267</a>
<a id="L268" class="source_line" href="#L268">268</a>
<a id="L269" class="source_line" href="#L269">269</a>
<a id="L270" class="source_line" href="#L270">270</a>
<a id="L271" class="source_line" href="#L271">271</a>
<a id="L272" class="source_line" href="#L272">272</a>
<a id="L273" class="source_line" href="#L273">273</a>
<a id="L274" class="source_line" href="#L274">274</a>
<a id="L275" class="source_line" href="#L275">275</a>
<a id="L276" class="source_line" href="#L276">276</a>
<a id="L277" class="source_line" href="#L277">277</a>
<a id="L278" class="source_line" href="#L278">278</a>
<a id="L279" class="source_line" href="#L279">279</a>
<a id="L280" class="source_line" href="#L280">280</a>
<a id="L281" class="source_line" href="#L281">281</a>
<a id="L282" class="source_line" href="#L282">282</a>
<a id="L283" class="source_line" href="#L283">283</a>
<a id="L284" class="source_line" href="#L284">284</a>
<a id="L285" class="source_line" href="#L285">285</a>
<a id="L286" class="source_line" href="#L286">286</a>
<a id="L287" class="source_line" href="#L287">287</a>
<a id="L288" class="source_line" href="#L288">288</a>
<a id="L289" class="source_line" href="#L289">289</a>
<a id="L290" class="source_line" href="#L290">290</a>
<a id="L291" class="source_line" href="#L291">291</a>
<a id="L292" class="source_line" href="#L292">292</a>
<a id="L293" class="source_line" href="#L293">293</a>
<a id="L294" class="source_line" href="#L294">294</a>
<a id="L295" class="source_line" href="#L295">295</a>
<a id="L296" class="source_line" href="#L296">296</a>
<a id="L297" class="source_line" href="#L297">297</a>
<a id="L298" class="source_line" href="#L298">298</a>
<a id="L299" class="source_line" href="#L299">299</a>
<a id="L300" class="source_line" href="#L300">300</a>
<a id="L301" class="source_line" href="#L301">301</a>
<a id="L302" class="source_line" href="#L302">302</a>
<a id="L303" class="source_line" href="#L303">303</a>
<a id="L304" class="source_line" href="#L304">304</a>
<a id="L305" class="source_line" href="#L305">305</a>
<a id="L306" class="source_line" href="#L306">306</a>
<a id="L307" class="source_line" href="#L307">307</a>
<a id="L308" class="source_line" href="#L308">308</a>
<a id="L309" class="source_line" href="#L309">309</a>
<a id="L310" class="source_line" href="#L310">310</a>
<a id="L311" class="source_line" href="#L311">311</a>
<a id="L312" class="source_line" href="#L312">312</a>
<a id="L313" class="source_line" href="#L313">313</a>
<a id="L314" class="source_line" href="#L314">314</a>
<a id="L315" class="source_line" href="#L315">315</a>
<a id="L316" class="source_line" href="#L316">316</a>
<a id="L317" class="source_line" href="#L317">317</a>
<a id="L318" class="source_line" href="#L318">318</a>
<a id="L319" class="source_line" href="#L319">319</a>
<a id="L320" class="source_line" href="#L320">320</a>
<a id="L321" class="source_line" href="#L321">321</a>
<a id="L322" class="source_line" href="#L322">322</a>
<a id="L323" class="source_line" href="#L323">323</a>
<a id="L324" class="source_line" href="#L324">324</a>
<a id="L325" class="source_line" href="#L325">325</a>
<a id="L326" class="source_line" href="#L326">326</a>
<a id="L327" class="source_line" href="#L327">327</a>
<a id="L328" class="source_line" href="#L328">328</a>
<a id="L329" class="source_line" href="#L329">329</a>
<a id="L330" class="source_line" href="#L330">330</a>
<a id="L331" class="source_line" href="#L331">331</a>
<a id="L332" class="source_line" href="#L332">332</a>
<a id="L333" class="source_line" href="#L333">333</a>
<a id="L334" class="source_line" href="#L334">334</a>
<a id="L335" class="source_line" href="#L335">335</a>
<a id="L336" class="source_line" href="#L336">336</a>
<a id="L337" class="source_line" href="#L337">337</a>
<a id="L338" class="source_line" href="#L338">338</a>
<a id="L339" class="source_line" href="#L339">339</a>
<a id="L340" class="source_line" href="#L340">340</a>
<a id="L341" class="source_line" href="#L341">341</a>
<a id="L342" class="source_line" href="#L342">342</a>
<a id="L343" class="source_line" href="#L343">343</a>
<a id="L344" class="source_line" href="#L344">344</a>
<a id="L345" class="source_line" href="#L345">345</a>
<a id="L346" class="source_line" href="#L346">346</a>
<a id="L347" class="source_line" href="#L347">347</a>
<a id="L348" class="source_line" href="#L348">348</a>
<a id="L349" class="source_line" href="#L349">349</a>
<a id="L350" class="source_line" href="#L350">350</a>
<a id="L351" class="source_line" href="#L351">351</a>
<a id="L352" class="source_line" href="#L352">352</a>
<a id="L353" class="source_line" href="#L353">353</a>
<a id="L354" class="source_line" href="#L354">354</a>
<a id="L355" class="source_line" href="#L355">355</a>
<a id="L356" class="source_line" href="#L356">356</a>
<a id="L357" class="source_line" href="#L357">357</a>
<a id="L358" class="source_line" href="#L358">358</a>
<a id="L359" class="source_line" href="#L359">359</a>
<a id="L360" class="source_line" href="#L360">360</a>
<a id="L361" class="source_line" href="#L361">361</a>
<a id="L362" class="source_line" href="#L362">362</a>
<a id="L363" class="source_line" href="#L363">363</a>
<a id="L364" class="source_line" href="#L364">364</a>
<a id="L365" class="source_line" href="#L365">365</a>
<a id="L366" class="source_line" href="#L366">366</a>
<a id="L367" class="source_line" href="#L367">367</a>
<a id="L368" class="source_line" href="#L368">368</a>
<a id="L369" class="source_line" href="#L369">369</a>
<a id="L370" class="source_line" href="#L370">370</a>
<a id="L371" class="source_line" href="#L371">371</a>
<a id="L372" class="source_line" href="#L372">372</a>
<a id="L373" class="source_line" href="#L373">373</a>
<a id="L374" class="source_line" href="#L374">374</a>
<a id="L375" class="source_line" href="#L375">375</a>
<a id="L376" class="source_line" href="#L376">376</a>
<a id="L377" class="source_line" href="#L377">377</a>
<a id="L378" class="source_line" href="#L378">378</a>
<a id="L379" class="source_line" href="#L379">379</a>
<a id="L380" class="source_line" href="#L380">380</a>
<a id="L381" class="source_line" href="#L381">381</a>
<a id="L382" class="source_line" href="#L382">382</a>
<a id="L383" class="source_line" href="#L383">383</a>
<a id="L384" class="source_line" href="#L384">384</a>
<a id="L385" class="source_line" href="#L385">385</a>
<a id="L386" class="source_line" href="#L386">386</a>
<a id="L387" class="source_line" href="#L387">387</a>
<a id="L388" class="source_line" href="#L388">388</a>
<a id="L389" class="source_line" href="#L389">389</a>
<a id="L390" class="source_line" href="#L390">390</a>
<a id="L391" class="source_line" href="#L391">391</a>
<a id="L392" class="source_line" href="#L392">392</a>
<a id="L393" class="source_line" href="#L393">393</a>
<a id="L394" class="source_line" href="#L394">394</a>
<a id="L395" class="source_line" href="#L395">395</a>
<a id="L396" class="source_line" href="#L396">396</a>
<a id="L397" class="source_line" href="#L397">397</a>
<a id="L398" class="source_line" href="#L398">398</a>
<a id="L399" class="source_line" href="#L399">399</a>
<a id="L400" class="source_line" href="#L400">400</a>
<a id="L401" class="source_line" href="#L401">401</a>
<a id="L402" class="source_line" href="#L402">402</a>
<a id="L403" class="source_line" href="#L403">403</a>
<a id="L404" class="source_line" href="#L404">404</a>
<a id="L405" class="source_line" href="#L405">405</a>
<a id="L406" class="source_line" href="#L406">406</a>
<a id="L407" class="source_line" href="#L407">407</a>
<a id="L408" class="source_line" href="#L408">408</a>
<a id="L409" class="source_line" href="#L409">409</a>
<a id="L410" class="source_line" href="#L410">410</a>
<a id="L411" class="source_line" href="#L411">411</a>
<a id="L412" class="source_line" href="#L412">412</a>
<a id="L413" class="source_line" href="#L413">413</a>
<a id="L414" class="source_line" href="#L414">414</a>
<a id="L415" class="source_line" href="#L415">415</a>
<a id="L416" class="source_line" href="#L416">416</a>
<a id="L417" class="source_line" href="#L417">417</a>
<a id="L418" class="source_line" href="#L418">418</a>
<a id="L419" class="source_line" href="#L419">419</a>
<a id="L420" class="source_line" href="#L420">420</a>
<a id="L421" class="source_line" href="#L421">421</a>
<a id="L422" class="source_line" href="#L422">422</a>
<a id="L423" class="source_line" href="#L423">423</a>
</code><code class="source_code"><span><span class="COMMENT">(*————————————————————————————————————————————————————————————————————————————
   Copyright (c) 2020–2021 Craig Ferguson &lt;me@craigfe.io&gt;
   Distributed under the MIT license. See terms at the end of this file.
  ————————————————————————————————————————————————————————————————————————————*)</span><span class="EOL">
</span><span class="EOL">
</span><span class="OPEN">open</span><span class="BANG">!</span> <a href="import.ml.html"><span class="UIDENT">Import</span></a><span class="EOL">
</span><span class="EOL">
</span><span class="DOCSTRING">(** These values are documented as part of {!DSL}.*)</span><span class="EOL">
</span><span id="module-type-Integer_dependent"><span class="MODULE">module</span> <span class="TYPE">type</span> <span class="UIDENT">Integer_dependent</span> <span class="EQUAL">=</span> <span class="SIG">sig</span><span class="EOL">
</span>  <span id="module-type-Integer_dependent.type-integer"><span class="TYPE">type</span> <span class="LIDENT">integer</span></span><span class="EOL">
</span>  <span id="module-type-Integer_dependent.type-color"><span class="TYPE">type</span> <span class="LIDENT">color</span></span><span class="EOL">
</span>  <span id="module-type-Integer_dependent.type-duration"><span class="TYPE">type</span> <span class="LIDENT">duration</span></span><span class="EOL">
</span>  <span id="module-type-Integer_dependent.type-printer"><span class="TYPE">type</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">printer</span></span><span class="EOL">
</span>  <span id="module-type-Integer_dependent.type-{bar_style}1/shadowed/(progress-src-progress.engine-line_intf.ml)"><span class="TYPE">type</span> <span class="LIDENT">bar_style</span></span><span class="EOL">
</span><span class="EOL">
</span>  <span class="DOCSTRING">(**)</span><span class="EOL">
</span>  <span id="module-type-Integer_dependent.type-t"><span class="TYPE">type</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-Integer_dependent.val-sum"><span class="VAL">val</span> <span class="LIDENT">sum</span> <span class="COLON">:</span> <span class="OPTLABEL">?pp:</span><span class="LIDENT">integer</span> <span class="LIDENT">printer</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">width</span><span class="COLON">:</span><span class="LIDENT">int</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">unit</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span id="module-type-Integer_dependent.val-count_to"><span class="VAL">val</span> <span class="LIDENT">count_to</span> <span class="COLON">:</span> <span class="OPTLABEL">?pp:</span><span class="LIDENT">integer</span> <span class="LIDENT">printer</span> <span class="MINUSGREATER">-&gt;</span> <span class="OPTLABEL">?sep:</span><span class="LIDENT">unit</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span id="module-type-Integer_dependent.val-bytes"><span class="VAL">val</span> <span class="LIDENT">bytes</span> <span class="COLON">:</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span id="module-type-Integer_dependent.val-bytes_per_sec"><span class="VAL">val</span> <span class="LIDENT">bytes_per_sec</span> <span class="COLON">:</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span id="module-type-Integer_dependent.val-percentage_of"><span class="VAL">val</span> <span class="LIDENT">percentage_of</span> <span class="COLON">:</span> <span class="LIDENT">integer</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span id="module-type-Integer_dependent.val-rate"><span class="VAL">val</span> <span class="LIDENT">rate</span> <span class="COLON">:</span> <span class="LIDENT">float</span> <span class="LIDENT">printer</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span id="module-type-Integer_dependent.val-eta"><span class="VAL">val</span> <span class="LIDENT">eta</span> <span class="COLON">:</span> <span class="OPTLABEL">?pp:</span><span class="LIDENT">duration</span> <span class="LIDENT">printer</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-Integer_dependent.type-bar_style"><span class="TYPE">type</span> <span class="LIDENT">bar_style</span> <span class="COLONEQUAL">:=</span> <span class="LBRACKET">[</span> <span class="BACKQUOTE">`</span><span class="UIDENT">ASCII</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">UTF8</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Custom</span> <span class="OF">of</span> <span class="LIDENT">bar_style</span> <span class="RBRACKET">]</span></span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-Integer_dependent.val-bar"><span class="VAL">val</span> <span class="LIDENT">bar</span> <span class="COLON">:</span><span class="EOL">
</span>       <span class="OPTLABEL">?style:</span><span class="LIDENT">bar_style</span><span class="EOL">
</span>    <span class="MINUSGREATER">-&gt;</span> <span class="OPTLABEL">?color:</span><span class="LIDENT">color</span><span class="EOL">
</span>    <span class="MINUSGREATER">-&gt;</span> <span class="OPTLABEL">?width:</span><span class="LBRACKET">[</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Fixed</span> <span class="OF">of</span> <span class="LIDENT">int</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Expand</span> <span class="RBRACKET">]</span><span class="EOL">
</span>    <span class="MINUSGREATER">-&gt;</span> <span class="OPTLABEL">?data:</span><span class="LBRACKET">[</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Sum</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Latest</span> <span class="RBRACKET">]</span><span class="EOL">
</span>    <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span><span class="EOL">
</span>    <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span><span class="END">end</span></span><span class="EOL">
</span><span class="EOL">
</span><span class="DOCSTRING">(** The 'main' set of combinators, specialised to a particular integer type. *)</span><span class="EOL">
</span><span id="module-type-DSL"><span class="MODULE">module</span> <span class="TYPE">type</span> <span class="UIDENT">DSL</span> <span class="EQUAL">=</span> <span class="SIG">sig</span><span class="EOL">
</span>  <span id="module-type-DSL.type-integer"><span class="TYPE">type</span> <span class="LIDENT">integer</span></span><span class="EOL">
</span>  <span id="module-type-DSL.type-color"><span class="TYPE">type</span> <span class="LIDENT">color</span></span><span class="EOL">
</span>  <span id="module-type-DSL.type-duration"><span class="TYPE">type</span> <span class="LIDENT">duration</span></span><span class="EOL">
</span>  <span id="module-type-DSL.type-printer"><span class="TYPE">type</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">printer</span></span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.type-t"><span class="TYPE">type</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** The type of progress lines for reported values of type ['a]. This module
      provides a selection of {{!basic} individual line segments} that can be
      {{!combinators} combined} to produce more interesting layouts. You may
      wish to look over the {{!examples} examples} for inspiration. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="DOCSTRING">(** {1:basic Basic line segments} *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-const"><span class="VAL">val</span> <span class="LIDENT">const</span> <span class="COLON">:</span> <span class="LIDENT">string</span> <span class="MINUSGREATER">-&gt;</span> <span class="UNDERSCORE">_</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [const s] is the segment that always displays [s]. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-constf"><span class="VAL">val</span> <span class="LIDENT">constf</span> <span class="COLON">:</span> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#type-format4"><span class="LPAREN">(</span><span class="QUOTE">'</span><span class="LIDENT">a</span><span class="COMMA">,</span> <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#type-formatter"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">formatter</span></a><span class="COMMA">,</span> <span class="LIDENT">unit</span><span class="COMMA">,</span> <span class="UNDERSCORE">_</span> <span class="LIDENT">t</span><span class="RPAREN">)</span> <span class="LIDENT">format4</span></a> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** Like {!const}, but takes a format string and corresponding arguments.
      [constf &quot;...&quot; a b c ...] is equivalent to
      [const (Format.asprintf &quot;...&quot; a b c ...)], except that colours added with
      [Fmt.styled] are not discarded. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-string"><span class="VAL">val</span> <span class="LIDENT">string</span> <span class="COLON">:</span> <span class="LIDENT">string</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** A line segment that displays a dynamically-sized string message. Use
      {!lpad} and {!rpad} to pad the message up to a given length. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-lpad"><span class="VAL">val</span> <span class="LIDENT">lpad</span> <span class="COLON">:</span> <span class="LIDENT">int</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [lpad n t] left-pads the segment [t] to size [n] by adding blank space at
      the start. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-rpad"><span class="VAL">val</span> <span class="LIDENT">rpad</span> <span class="COLON">:</span> <span class="LIDENT">int</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [rpad n t] right-pads the segment [t] to size [n] by adding blank space at
      the end. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-of_printer"><span class="VAL">val</span> <span class="LIDENT">of_printer</span> <span class="COLON">:</span> <span class="OPTLABEL">?init:</span><span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">printer</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [of_printer p] is a segment that renders the {i latest} reported value
      using printer [p]. See {!sum} for a variant that reports accumulated
      values instead. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="DOCSTRING">(** {2:counting Counting segments}

      These segments all consume integer values and display the accumulated
      total of reported values in some way. The top-level [Line] segments are
      specialised to [int] values; see &quot;{!integers}&quot; for variants supporting
      [int32], [int64] etc. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-count_to"><span class="VAL">val</span> <span class="LIDENT">count_to</span> <span class="COLON">:</span> <span class="OPTLABEL">?pp:</span><span class="LIDENT">integer</span> <span class="LIDENT">printer</span> <span class="MINUSGREATER">-&gt;</span> <span class="OPTLABEL">?sep:</span><span class="LIDENT">unit</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [count_to target] renders both the current running total of reported
      values and the fixed value [target], separated by the the given separator,
      i.e. [42/100]. [sep] defaults to [const &quot;/&quot;]. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-bytes"><span class="VAL">val</span> <span class="LIDENT">bytes</span> <span class="COLON">:</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** Prints the running total as a number of bytes, using ISO/IEC binary
      prefixes (e.g. [10.4 MiB]). See also {!bytes_per_sec}. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-percentage_of"><span class="VAL">val</span> <span class="LIDENT">percentage_of</span> <span class="COLON">:</span> <span class="LIDENT">integer</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [percentage_of target] renders the running total as a percentage of
      [target], i.e. [42%]. Values outside the range [\[0, 100\]] will be
      clamped to either [0] or [100]. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-sum"><span class="VAL">val</span> <span class="LIDENT">sum</span> <span class="COLON">:</span> <span class="OPTLABEL">?pp:</span><span class="LIDENT">integer</span> <span class="LIDENT">printer</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">width</span><span class="COLON">:</span><span class="LIDENT">int</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">unit</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [sum ~width ()] displays a running total of reported values using
      [width]-many terminal columns. If passed, [pp] overrides the printer used
      for rendering the count. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="DOCSTRING">(** {2:graphical Graphical segments} *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.module-Bar_style"><span class="MODULE">module</span> <span class="UIDENT">Bar_style</span> <span class="COLON">:</span> <span class="SIG">sig</span><span class="EOL">
</span>    <span id="module-type-DSL.module-Bar_style.type-t"><span class="TYPE">type</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>    <span class="DOCSTRING">(** The type of progress bar style specifications. *)</span><span class="EOL">
</span><span class="EOL">
</span>    <span id="module-type-DSL.module-Bar_style.val-ascii"><span class="VAL">val</span> <span class="LIDENT">ascii</span> <span class="COLON">:</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>    <span class="DOCSTRING">(** The style used by [bar ~style:`ASCII] (which is the default). Generates
        bars of the form [\[######---\]]. *)</span><span class="EOL">
</span><span class="EOL">
</span>    <span id="module-type-DSL.module-Bar_style.val-utf8"><span class="VAL">val</span> <span class="LIDENT">utf8</span> <span class="COLON">:</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>    <span class="DOCSTRING">(** {!utf8} is the style used by [bar ~style:`UTF8]. Uses the UTF-8 block
        element characters ([U+2588]–[U+258F]) for progress stages, and a
        box-drawing character ([U+2502]) for delimiters. *)</span><span class="EOL">
</span><span class="EOL">
</span>    <span class="DOCSTRING">(** {1 Custom styles} *)</span><span class="EOL">
</span><span class="EOL">
</span>    <span id="module-type-DSL.module-Bar_style.val-v"><span class="VAL">val</span> <span class="LIDENT">v</span> <span class="COLON">:</span><span class="EOL">
</span>         <span class="OPTLABEL">?delims:</span><span class="LIDENT">string</span> <span class="STAR">*</span> <span class="LIDENT">string</span><span class="EOL">
</span>      <span class="MINUSGREATER">-&gt;</span> <span class="OPTLABEL">?color:</span><span class="LIDENT">color</span><span class="EOL">
</span>      <span class="MINUSGREATER">-&gt;</span> <span class="OPTLABEL">?color_empty:</span><span class="LIDENT">color</span><span class="EOL">
</span>      <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">string</span> <span class="LIDENT">list</span><span class="EOL">
</span>      <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">t</span></span><span class="EOL">
</span><span class="EOL">
</span>    <span class="DOCSTRING">(** [v stages] is a bar that uses the given string {i stages} to render
        progress. The first stage is interpreted as a &quot;full&quot; segment, with
        subsequent stages denoting progressively {i less}-full segments until a
        final &quot;empty&quot; stage (which is implicitly a space if only one stage is
        provided).

        The optional parameters are as follows:

        - [?delims]: a pair of left and right delimiters used to wrap the body
          of the progress bar;
        - [?color]: the color of non-empty segments (including the in-progress
          one);
        - [?color_empty]: the color of empty segments.

        {2 Examples}

        - [v \[ &quot;#&quot; \]] renders like &quot;[#######   ]&quot;;
        - [v \[ &quot;=&quot;; &quot;&gt;&quot;; &quot; &quot; \]] renders like &quot;[======&gt;    ]&quot;;
        - [v \[ &quot;4&quot;; &quot;3&quot;; &quot;2&quot;; &quot;1&quot;; &quot;0&quot; \]] renders like &quot;[444444410000]&quot;;
        - ... see [examples/bar_styles.ml] in the source repository for more.

        {2 Specifics}

        Each segment of a rendering progress bar is in one of three states:
        full, empty or in-progress. At any given time, either the bar is
        entirely full or or there is exactly one in-progress segment. Given the
        style [v \[s1; s2; ... sN\]], these states are rendered as follows:

        - {b full}: rendered as [s1];
        - {b empty}: rendered as [sN] if [N &gt;= 1], otherwise [' '];
        - {b in-progress}: if [N &lt;= 1], then equivalent to the empty state.
          Otherwise, the intermediate stages [s2], [s3], ... [s{N-1}] denote
          decreasing progress. For example, if there are four intermediate
          stages ([N = 6]) then [s2] is used for progress in the range
          [\[0, 25%)], [s3] for [\[25%, 50%)] etc.

        For the progress bar to render within a fixed size, the user must ensure
        that each of the [stages] must have the same rendered width. *)</span><span class="EOL">
</span><span class="EOL">
</span>    <span class="DOCSTRING">(** {1 Setters} *)</span><span class="EOL">
</span><span class="EOL">
</span>    <span id="module-type-DSL.module-Bar_style.val-with_color"><span class="VAL">val</span> <span class="LIDENT">with_color</span> <span class="COLON">:</span> <span class="LIDENT">color</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>    <span id="module-type-DSL.module-Bar_style.val-with_empty_color"><span class="VAL">val</span> <span class="LIDENT">with_empty_color</span> <span class="COLON">:</span> <span class="LIDENT">color</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>    <span id="module-type-DSL.module-Bar_style.val-with_delims"><span class="VAL">val</span> <span class="LIDENT">with_delims</span> <span class="COLON">:</span> <span class="LPAREN">(</span><span class="LIDENT">string</span> <span class="STAR">*</span> <span class="LIDENT">string</span><span class="RPAREN">)</span> <span class="LIDENT">option</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>    <span id="module-type-DSL.module-Bar_style.val-with_stages"><span class="VAL">val</span> <span class="LIDENT">with_stages</span> <span class="COLON">:</span> <span class="LIDENT">string</span> <span class="LIDENT">list</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="END">end</span></span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-bar"><span class="VAL">val</span> <span class="LIDENT">bar</span> <span class="COLON">:</span><span class="EOL">
</span>       <span class="OPTLABEL">?style:</span><span class="LBRACKET">[</span> <span class="BACKQUOTE">`</span><span class="UIDENT">ASCII</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">UTF8</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Custom</span> <span class="OF">of</span> <span class="UIDENT">Bar_style</span><span class="DOT">.</span><span class="LIDENT">t</span> <span class="RBRACKET">]</span><span class="EOL">
</span>    <span class="MINUSGREATER">-&gt;</span> <span class="OPTLABEL">?color:</span><span class="LIDENT">color</span><span class="EOL">
</span>    <span class="MINUSGREATER">-&gt;</span> <span class="OPTLABEL">?width:</span><span class="LBRACKET">[</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Fixed</span> <span class="OF">of</span> <span class="LIDENT">int</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Expand</span> <span class="RBRACKET">]</span><span class="EOL">
</span>    <span class="MINUSGREATER">-&gt;</span> <span class="OPTLABEL">?data:</span><span class="LBRACKET">[</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Sum</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Latest</span> <span class="RBRACKET">]</span><span class="EOL">
</span>    <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span><span class="EOL">
</span>    <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [bar total] is a progress bar of the form:
      [\[#################...............\]]

      The proportion of the bar that is filled is given by
      [&lt;reported_so_far&gt; / total]. Optional parameters are as follows:

      - [?style] specifies whether to use a UTF-8 or an ASCII encoding for the
        progress bar. The UTF-8 encoding shows a higher resolution of progress,
        but may not be supported in all terminals. The default is [`ASCII].

      - [?color] causes the filled portion of the bar to be rendered with the
        given colour. (Equivalent to setting the colour with
        {!Bar_style.with_color}.)

      - [?width] is the width of the bar in columns. Defaults to [`Expand],
        which causes the bar to occupy the remaining rendering space after
        accounting for other line segments on the same line.

      - [?data] changes the metric that is indicated by the progress bar. [`Sum]
        (the default) causes the progress bar to correspond to the
        {i running total} of values reported so far. [`Latest] causes each
        reported value to overwrite the previous one instead. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-spinner"><span class="VAL">val</span> <span class="LIDENT">spinner</span> <span class="COLON">:</span><span class="EOL">
</span>       <span class="OPTLABEL">?frames:</span><span class="LIDENT">string</span> <span class="LIDENT">list</span><span class="EOL">
</span>    <span class="MINUSGREATER">-&gt;</span> <span class="OPTLABEL">?color:</span><span class="LIDENT">color</span><span class="EOL">
</span>    <span class="MINUSGREATER">-&gt;</span> <span class="OPTLABEL">?min_interval:</span><span class="LIDENT">duration</span> <span class="LIDENT">option</span><span class="EOL">
</span>    <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">unit</span><span class="EOL">
</span>    <span class="MINUSGREATER">-&gt;</span> <span class="UNDERSCORE">_</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [spinner ()] is a small segment that cycles over a fixed number of frames
      each time a value is reported. e.g.

      {[
        ⠋ → ⠙ → ⠹ → ⠸ → ⠼ → ⠴ → ⠦ → ⠧ → ⠇ → ⠏ → ...
      ]}

      Optional prameters are as follows:

      - [?frames] alters the sequence of frames rendered by the spinner;
      - [?color] causes each frame to be rendered with the given colour;
      - [?min_interval] is the minimum time interval between frame transitions
        of the spinner (i.e. a debounce threshold). The default is [Some 80ms]. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="DOCSTRING">(** {2:time Time-sensitive segments} *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-bytes_per_sec"><span class="VAL">val</span> <span class="LIDENT">bytes_per_sec</span> <span class="COLON">:</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [bytes_per_sec] renders the rate of change of the running total as a
      number of bytes per second, using ISO/IEC binary prefixes (e.g.
      [10.4 MiB/s]). *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-elapsed"><span class="VAL">val</span> <span class="LIDENT">elapsed</span> <span class="COLON">:</span> <span class="OPTLABEL">?pp:</span><span class="LIDENT">duration</span> <span class="LIDENT">printer</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">unit</span> <span class="MINUSGREATER">-&gt;</span> <span class="UNDERSCORE">_</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** Displays the time for which the bar has been rendering in [MM:SS] form. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-eta"><span class="VAL">val</span> <span class="LIDENT">eta</span> <span class="COLON">:</span> <span class="OPTLABEL">?pp:</span><span class="LIDENT">duration</span> <span class="LIDENT">printer</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** Displays an estimate of the remaining time until [total] is accumulated by
      the reporters, in [MM:SS] form. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-rate"><span class="VAL">val</span> <span class="LIDENT">rate</span> <span class="COLON">:</span> <span class="LIDENT">float</span> <span class="LIDENT">printer</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [rate pp] is an integer segment that uses [pp] to print the {i rate} of
      reported values per second. (For instance, [bytes_per_sec] is
      [rate Units.Bytes.of_float].)*)</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="DOCSTRING">(** {1:combinators Combining segments} *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-(++)"><span class="VAL">val</span> <span class="LPAREN">(</span> <span class="INFIXOP2">++</span> <span class="RPAREN">)</span> <span class="COLON">:</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** Horizontally join two segments of the same reported value type. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-list"><span class="VAL">val</span> <span class="LIDENT">list</span> <span class="COLON">:</span> <span class="OPTLABEL">?sep:</span><span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="LIDENT">list</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** Horizontally join a list of segments, with a given separator. [sep]
      defaults to [const &quot; &quot;]. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-pair"><span class="VAL">val</span> <span class="LIDENT">pair</span> <span class="COLON">:</span> <span class="OPTLABEL">?sep:</span><span class="LIDENT">unit</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">b</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="STAR">*</span> <span class="QUOTE">'</span><span class="LIDENT">b</span><span class="RPAREN">)</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** Horizontally join a pair of segments consuming different reported values
      into a single segment that consumes a pair. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-using"><span class="VAL">val</span> <span class="LIDENT">using</span> <span class="COLON">:</span> <span class="LPAREN">(</span><span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">b</span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">b</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [using f s] is a segment that first applies [f] to the reported value and
      then behaves as segment [s]. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="DOCSTRING">(** {1 Utilities}

      The following line segments are definable in terms of the others, but
      provided for convenience: *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-parens"><span class="VAL">val</span> <span class="LIDENT">parens</span> <span class="COLON">:</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [parens t] is [const &quot;(&quot; ++ t ++ const &quot;)&quot;]. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-brackets"><span class="VAL">val</span> <span class="LIDENT">brackets</span> <span class="COLON">:</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [brackets t] is [const &quot;\[&quot; ++ t ++ const &quot;\]&quot;]. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-braces"><span class="VAL">val</span> <span class="LIDENT">braces</span> <span class="COLON">:</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [braces t] is [const &quot;{&quot; ++ t ++ const &quot;}&quot;]. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-noop"><span class="VAL">val</span> <span class="LIDENT">noop</span> <span class="COLON">:</span> <span class="LIDENT">unit</span> <span class="MINUSGREATER">-&gt;</span> <span class="UNDERSCORE">_</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** A zero-width line segment that does nothing. This segment will not be
      surrounded with separators when used in a {!list}, making it a useful
      &quot;off&quot; state for conditionally-enabled segments. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-spacer"><span class="VAL">val</span> <span class="LIDENT">spacer</span> <span class="COLON">:</span> <span class="LIDENT">int</span> <span class="MINUSGREATER">-&gt;</span> <span class="UNDERSCORE">_</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [spacer n] is [const (String.make n ' ')]. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-DSL.val-ticker_to"><span class="VAL">val</span> <span class="LIDENT">ticker_to</span> <span class="COLON">:</span> <span class="OPTLABEL">?sep:</span><span class="LIDENT">unit</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">integer</span> <span class="MINUSGREATER">-&gt;</span> <span class="UNDERSCORE">_</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** [ticker_to total] is [using ~f:(fun _ -&gt; 1) (counter_to total)]. i.e. it
      renders the total {i number} of reported values of some arbitrary type. *)</span><span class="EOL">
</span><span class="END">end</span></span><span class="EOL">
</span><span class="EOL">
</span><span id="module-Assert_subtype"><span class="MODULE">module</span> <span class="UIDENT">Assert_subtype</span> <span class="LPAREN">(</span><span class="UIDENT">X</span> <span class="COLON">:</span> <span class="UIDENT">DSL</span><span class="RPAREN">)</span> <span class="COLON">:</span><span class="EOL">
</span>  <span class="UIDENT">Integer_dependent</span> <span class="WITH">with</span> <span id="def_8"><span class="TYPE">type</span> <span class="LIDENT">bar_style</span> <span class="COLONEQUAL">:=</span> <span class="UIDENT">X</span><span class="DOT">.</span><span class="UIDENT">Bar_style</span><span class="DOT">.</span><span class="LIDENT">t</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="UIDENT">X</span></span><span class="EOL">
</span><span class="EOL">
</span><span id="module-type-S"><span class="MODULE">module</span> <span class="TYPE">type</span> <span class="UIDENT">S</span> <span class="EQUAL">=</span> <span class="SIG">sig</span><span class="EOL">
</span>  <span class="INCLUDE">include</span> <span class="UIDENT">DSL</span> <span class="WITH">with</span> <span id="def_19"><span class="TYPE">type</span> <span class="LIDENT">integer</span> <span class="COLONEQUAL">:=</span> <span class="LIDENT">int</span></span><span class="EOL">
</span>  <span class="DOCSTRING">(** @inline *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="DOCSTRING">(** {1:integers Alternative integer types}

      Many of the line segments above are specialised to [int] values for
      simplicity (and performance), but certain use-cases may require different
      types (e.g. for file transfers greater than [2 GiB] on 32-bit platforms).
      The following modules re-export the [Line] DSL with different integer
      specialisations, and are intended to be opened locally, e.g.

      {[
        let my_line =
          let open Progress.Line.Using_int64 in
          list [ const &quot;Downloading large file&quot;; bar total; bytes ]
      ]} *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-S.module-Integer_dependent"><span class="MODULE">module</span> <span class="UIDENT">Integer_dependent</span> <span class="COLON">:</span> <span class="SIG">sig</span><span class="EOL">
</span>    <span class="DOCSTRING">(** {!S} contains just the line segments that can be specialised to an
        underlying integer implementation. *)</span><span class="EOL">
</span>    <span id="module-type-S.module-Integer_dependent.module-type-S"><span class="MODULE">module</span> <span class="TYPE">type</span> <span class="UIDENT">S</span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="UIDENT">Integer_dependent</span><span class="EOL">
</span>        <span class="WITH">with</span> <span id="def_3"><span class="TYPE">type</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="COLONEQUAL">:=</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>         <span class="AND">and</span> <span id="def_18"><span class="TYPE">type</span> <span class="LIDENT">color</span> <span class="COLONEQUAL">:=</span> <span class="LIDENT">color</span></span><span class="EOL">
</span>         <span class="AND">and</span> <span id="def_9"><span class="TYPE">type</span> <span class="LIDENT">duration</span> <span class="COLONEQUAL">:=</span> <span class="LIDENT">duration</span></span><span class="EOL">
</span>         <span class="AND">and</span> <span id="def_17"><span class="TYPE">type</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">printer</span> <span class="COLONEQUAL">:=</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">printer</span></span><span class="EOL">
</span>         <span class="AND">and</span> <span id="def_22"><span class="TYPE">type</span> <span class="LIDENT">bar_style</span> <span class="COLONEQUAL">:=</span> <span class="UIDENT">Bar_style</span><span class="DOT">.</span><span class="LIDENT">t</span></span></span><span class="EOL">
</span><span class="EOL">
</span>    <span id="module-type-S.module-Integer_dependent.module-Make"><span class="MODULE">module</span> <span class="UIDENT">Make</span> <span class="LPAREN">(</span><span class="UIDENT">Integer</span> <span class="COLON">:</span> <a href="integer.ml.html#module-type-S"><span class="UIDENT">Integer</span><span class="DOT">.</span><span class="UIDENT">S</span></a><span class="RPAREN">)</span> <span class="COLON">:</span> <span class="UIDENT">S</span> <span class="WITH">with</span> <span id="def_15"><span class="TYPE">type</span> <span class="LIDENT">integer</span> <span class="COLONEQUAL">:=</span> <span class="UIDENT">Integer</span><span class="DOT">.</span><span class="LIDENT">t</span></span></span><span class="EOL">
</span><span class="EOL">
</span>    <span class="DOCSTRING">(** {!Ext} is {!S} extended with non-integer-dependent segments as well. *)</span><span class="EOL">
</span>    <span id="module-type-S.module-Integer_dependent.module-type-Ext"><span class="MODULE">module</span> <span class="TYPE">type</span> <span class="UIDENT">Ext</span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="UIDENT">DSL</span><span class="EOL">
</span>        <span class="WITH">with</span> <span id="def_14"><span class="TYPE">type</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="COLONEQUAL">:=</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>         <span class="AND">and</span> <span id="def_7"><span class="TYPE">type</span> <span class="LIDENT">color</span> <span class="COLONEQUAL">:=</span> <span class="LIDENT">color</span></span><span class="EOL">
</span>         <span class="AND">and</span> <span id="def_23"><span class="TYPE">type</span> <span class="LIDENT">duration</span> <span class="COLONEQUAL">:=</span> <span class="LIDENT">duration</span></span><span class="EOL">
</span>         <span class="AND">and</span> <span id="def_2"><span class="TYPE">type</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">printer</span> <span class="COLONEQUAL">:=</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">printer</span></span><span class="EOL">
</span>         <span class="AND">and</span> <span id="def_13"><span class="TYPE">type</span> <span class="UIDENT">Bar_style</span><span class="DOT">.</span><span class="LIDENT">t</span> <span class="COLONEQUAL">:=</span> <span class="UIDENT">Bar_style</span><span class="DOT">.</span><span class="LIDENT">t</span></span></span><span class="EOL">
</span>  <span class="END">end</span></span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-S.module-Using_int32"><span class="MODULE">module</span> <span class="UIDENT">Using_int32</span> <span class="COLON">:</span> <span class="UIDENT">Integer_dependent</span><span class="DOT">.</span><span class="UIDENT">Ext</span> <span class="WITH">with</span> <span id="def_1"><span class="TYPE">type</span> <span class="LIDENT">integer</span> <span class="COLONEQUAL">:=</span> <span class="LIDENT">int32</span></span></span><span class="EOL">
</span>  <span id="module-type-S.module-Using_int63"><span class="MODULE">module</span> <span class="UIDENT">Using_int63</span> <span class="COLON">:</span> <span class="UIDENT">Integer_dependent</span><span class="DOT">.</span><span class="UIDENT">Ext</span> <span class="WITH">with</span> <span id="def_11"><span class="TYPE">type</span> <span class="LIDENT">integer</span> <span class="COLONEQUAL">:=</span> <a href="stdlib_ext.ml.html#type-int63"><span class="LIDENT">int63</span></a></span></span><span class="EOL">
</span>  <span id="module-type-S.module-Using_int64"><span class="MODULE">module</span> <span class="UIDENT">Using_int64</span> <span class="COLON">:</span> <span class="UIDENT">Integer_dependent</span><span class="DOT">.</span><span class="UIDENT">Ext</span> <span class="WITH">with</span> <span id="def_16"><span class="TYPE">type</span> <span class="LIDENT">integer</span> <span class="COLONEQUAL">:=</span> <span class="LIDENT">int64</span></span></span><span class="EOL">
</span>  <span id="module-type-S.module-Using_float"><span class="MODULE">module</span> <span class="UIDENT">Using_float</span> <span class="COLON">:</span> <span class="UIDENT">Integer_dependent</span><span class="DOT">.</span><span class="UIDENT">Ext</span> <span class="WITH">with</span> <span id="def_10"><span class="TYPE">type</span> <span class="LIDENT">integer</span> <span class="COLONEQUAL">:=</span> <span class="LIDENT">float</span></span></span><span class="EOL">
</span><span class="EOL">
</span>  <span class="DOCSTRING">(** {1:examples Examples}

      {[
        (* Renders: &quot;[######---------------------------------------]  14/100&quot; *)
        bar 100 ++ const &quot; &quot; ++ count_to 100
      ]}
      {[
        (* Renders: &quot;⠏ [01:04] [####-----------------]  293.9 MiB (eta: 07:12)&quot; *)
        list
          [ spinner ()
          ; brackets (elapsed ())
          ; bar total
          ; bytes
          ; parens (const &quot;eta: &quot; ++ eta total)
          ]
      ]}
      {[
        (* Renders: &quot;  a.txt │██████████████████████████▋   │   91.4 MiB/s  92%&quot; *)
        list
          [ lpad 7 (const file_name)
          ; bar ~style:`UTF8 total
          ; bytes_per_sec
          ; percentage_of total
          ]
      ]}

      See the [examples/] directory of the source repository for more. *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="DOCSTRING">(** {1 Library internals} *)</span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-S.module-Internals"><span class="MODULE">module</span> <span class="UIDENT">Internals</span> <span class="COLON">:</span> <span class="SIG">sig</span><span class="EOL">
</span>    <span class="DOCSTRING">(** Exposes the underlying implementation of line segments for testing. This
        API is unstable, unsafe and mostly undocumented; here be dragons etc. *)</span><span class="EOL">
</span><span class="EOL">
</span>    <span id="module-type-S.module-Internals.type-line"><span class="TYPE">type</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">line</span></span><span class="EOL">
</span><span class="EOL">
</span>    <span id="module-type-S.module-Internals.module-Line_buffer"><span class="MODULE">module</span> <span class="UIDENT">Line_buffer</span> <span class="EQUAL">=</span> <span class="UIDENT">Line_buffer</span></span><span class="EOL">
</span><span class="EOL">
</span>    <span class="INCLUDE">include</span> <a href="line_primitives_intf.ml.html#module-type-S"><span class="UIDENT">Line_primitives</span><span class="DOT">.</span><span class="UIDENT">S</span></a> <span class="WITH">with</span> <span id="def_21"><span class="TYPE">type</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="EQUAL">=</span> <a href="line_primitives.ml.html#type-t"><span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="UIDENT">Line_primitives</span><span class="DOT">.</span><span class="LIDENT">t</span></a></span><span class="EOL">
</span>    <span class="DOCSTRING">(** @inline *)</span><span class="EOL">
</span><span class="EOL">
</span>    <span id="module-type-S.module-Internals.val-box_winsize"><span class="VAL">val</span> <span class="LIDENT">box_winsize</span> <span class="COLON">:</span> <span class="OPTLABEL">?max:</span><span class="LIDENT">int</span> <span class="MINUSGREATER">-&gt;</span> <span class="OPTLABEL">?fallback:</span><span class="LIDENT">int</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>    <span class="DOCSTRING">(** A box that takes on the current size of the terminal (or [fallback] if
        stdout is not attached to a terminal).

        @param fallback defaults to [80].
        @param max defaults to no limit. *)</span><span class="EOL">
</span><span class="EOL">
</span>    <span id="module-type-S.module-Internals.val-to_line"><span class="VAL">val</span> <span class="LIDENT">to_line</span> <span class="COLON">:</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">line</span></span><span class="EOL">
</span>  <span class="END">end</span><span class="EOL">
</span>  <span class="WITH">with</span> <span id="def_6"><span class="TYPE">type</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">line</span> <span class="COLONEQUAL">:=</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span></span><span class="EOL">
</span><span class="END">end</span></span><span class="EOL">
</span><span class="EOL">
</span><span id="module-type-Line"><span class="MODULE">module</span> <span class="TYPE">type</span> <span class="UIDENT">Line</span> <span class="EQUAL">=</span> <span class="SIG">sig</span><span class="EOL">
</span>  <span id="module-type-Line.module-type-S"><span class="MODULE">module</span> <span class="TYPE">type</span> <span class="UIDENT">S</span> <span class="EQUAL">=</span> <span class="UIDENT">S</span></span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-Line.type-t"><span class="TYPE">type</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span><span class="EOL">
</span>  <span id="module-type-Line.module-Make"><span class="MODULE">module</span> <span class="UIDENT">Make</span> <span class="LPAREN">(</span><span class="UNDERSCORE">_</span> <span class="COLON">:</span> <a href="platform.ml.html#module-type-S"><span class="UIDENT">Platform</span><span class="DOT">.</span><span class="UIDENT">S</span></a><span class="RPAREN">)</span> <span class="COLON">:</span> <span class="SIG">sig</span><span class="EOL">
</span>    <span class="INCLUDE">include</span><span class="EOL">
</span>      <span class="UIDENT">S</span><span class="EOL">
</span>        <span class="WITH">with</span> <span id="def_5"><span class="TYPE">type</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="COLONEQUAL">:=</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>         <span class="AND">and</span> <span id="def_12"><span class="TYPE">type</span> <span class="LIDENT">color</span> <span class="COLONEQUAL">:=</span> <a href="../../../terminal/src/terminal.ansi/color.ml.html#type-t"><span class="UIDENT">Terminal</span><span class="DOT">.</span><span class="UIDENT">Color</span><span class="DOT">.</span><span class="LIDENT">t</span></a></span><span class="EOL">
</span>         <span class="AND">and</span> <span id="def_4"><span class="TYPE">type</span> <span class="LIDENT">duration</span> <span class="COLONEQUAL">:=</span> <a href="duration.ml.html#type-t"><span class="UIDENT">Duration</span><span class="DOT">.</span><span class="LIDENT">t</span></a></span><span class="EOL">
</span>         <span class="AND">and</span> <span id="def_20"><span class="TYPE">type</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">printer</span> <span class="COLONEQUAL">:=</span> <a href="printer.ml.html#type-t"><span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="UIDENT">Printer</span><span class="DOT">.</span><span class="LIDENT">t</span></a></span><span class="EOL">
</span><span class="EOL">
</span>    <span id="module-type-Line.module-Make.val-to_primitive"><span class="VAL">val</span> <span class="LIDENT">to_primitive</span> <span class="COLON">:</span> <a href="config.ml.html#type-t"><span class="UIDENT">Config</span><span class="DOT">.</span><span class="LIDENT">t</span></a> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="LIDENT">t</span> <span class="MINUSGREATER">-&gt;</span> <span class="QUOTE">'</span><span class="LIDENT">a</span> <span class="UIDENT">Internals</span><span class="DOT">.</span><span class="LIDENT">t</span></span><span class="EOL">
</span>  <span class="END">end</span></span><span class="EOL">
</span><span class="END">end</span></span><span class="EOL">
</span><span class="EOL">
</span><span class="COMMENT">(*————————————————————————————————————————————————————————————————————————————
   Copyright (c) 2020–2021 Craig Ferguson &lt;me@craigfe.io&gt;

   Permission to use, copy, modify, and/or distribute this software for any
   purpose with or without fee is hereby granted, provided that the above
   copyright notice and this permission notice appear in all copies.

   THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
   THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
   FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
   DEALINGS IN THE SOFTWARE.
  ————————————————————————————————————————————————————————————————————————————*)</span><span class="EOL">
</span></span></code></pre></body></html>
