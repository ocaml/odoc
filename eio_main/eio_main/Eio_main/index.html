<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Eio_main (eio_main.eio_main.Eio_main)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.css"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../../../';
let search_urls = ['../../sherlodoc_db.js','../../../sherlodoc.js'];
</script><script src="../../../odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="../../index.html">Up</a> ‚Äì <a href="../../../index.html">üè†</a> &#x00BB; <a href="../../index.html">eio_main</a> &#x00BB; Library <code>eio_main</code> &#x00BB; Eio_main</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="üîé Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1>Module <code><span>Eio_main</span></code><a href="../../src/eio_main/eio_main.ml.html" class="source_link">Source</a></h1><p>Select a suitable event loop for Eio.</p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-global-toc"><ul><li><a href="../../index.html">eio_main</a><ul><li>Library <code>eio_main</code><ul><li><a href="#" class="current_unit">Eio_main</a></li></ul></li><li><a href="../../src/index.html">Sources</a></li></ul></li></ul></nav></div><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-run"><a href="#val-run" class="anchor"></a><a href="../../src/eio_main/eio_main.ml.html#val-run" class="source_link">Source</a><code><span><span class="keyword">val</span> run : <span><span>(<span><a href="../../../eio/eio.unix/Eio_unix/Stdenv/index.html#type-base">Eio_unix.Stdenv.base</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>run fn</code> runs an event loop and then calls <code>fn env</code> within it.</p><p><code>env</code> provides access to the process's environment (file-system, network, etc). <code>env</code> itself and the resources inside it can be shared safely between Eio domains.</p><p>When <code>fn</code> ends, the event loop finishes.</p><p>This should be called once, at the entry point of an application. It <b>must not</b> be called by libraries. Doing so would force the library to depend on Unix (making it unusable from unikernels or browsers), prevent the user from choosing their own event loop, and prevent using the library with other Eio libraries.</p><p><code>run</code> will select an appropriate event loop for the current platform. On many systems, it will use <a href="../../../eio_posix/eio_posix/Eio_posix/index.html#val-run"><code>Eio_posix.run</code></a>.</p><p>On recent-enough versions of Linux, it will use <code>Eio_linux.run</code>. You can override this by setting the $EIO_BACKEND environment variable to either &quot;linux&quot;, &quot;posix&quot; or &quot;windows&quot;.</p></div></div></div></body></html>
