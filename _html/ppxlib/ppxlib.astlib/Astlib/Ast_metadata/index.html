<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ast_metadata (ppxlib.ppxlib.astlib.Astlib.Ast_metadata)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.css"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../../../../';
let search_urls = ['../../../sherlodoc_db.js','../../../../sherlodoc.js'];
</script><script src="../../../../odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> ‚Äì <a href="../../../../index.html">üè†</a> &#x00BB; <a href="../../../index.html"><code>ppxlib</code>'s user manual</a> &#x00BB; Library <code>ppxlib.astlib</code> &#x00BB; <a href="../index.html">Astlib</a> &#x00BB; Ast_metadata</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="üîé Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1>Module <code><span>Astlib.Ast_metadata</span></code><a href="../../../src/ppxlib.astlib/ast_metadata.ml.html" class="source_link">Source</a></h1><p>Meta data related interface for a ppx rewriter</p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#cookies">Cookies</a></li></ul></nav><nav class="odoc-toc odoc-global-toc"><ul><li><a href="../../../index.html"><code>ppxlib</code>'s user manual</a><ul><li><a href="../../../ast-traversal.html">AST Traversals</a></li><li><a href="../../../driver.html">How It Works</a></li><li><a href="../../../examples.html">Examples</a></li><li><a href="../../../generating-code.html">Generating AST Nodes</a></li><li><a href="../../../good-practices.html">Good Practices</a></li><li><a href="../../../matching-code.html">Destructing AST Nodes</a></li><li><a href="../../../quick_intro.html">Introduction</a></li><li><a href="../../../writing-ppxs.html">Writing a Transformation</a></li><li>Library <code>ppxlib</code><ul><li><a href="../../../ppxlib/Ppxlib/index.html">Ppxlib</a></li></ul></li><li>Library <code>ppxlib.ast</code><ul><li><a href="../../../ppxlib.ast/Ppxlib_ast/index.html">Ppxlib_ast</a></li></ul></li><li>Library <code>ppxlib.astlib</code><ul><li><a href="../index.html">Astlib</a><ul><li><a href="../Ast_402/index.html">Ast_402</a></li><li><a href="../Ast_403/index.html">Ast_403</a></li><li><a href="../Ast_404/index.html">Ast_404</a></li><li><a href="../Ast_405/index.html">Ast_405</a></li><li><a href="../Ast_406/index.html">Ast_406</a></li><li><a href="../Ast_407/index.html">Ast_407</a></li><li><a href="../Ast_408/index.html">Ast_408</a></li><li><a href="../Ast_409/index.html">Ast_409</a></li><li><a href="../Ast_410/index.html">Ast_410</a></li><li><a href="../Ast_411/index.html">Ast_411</a></li><li><a href="../Ast_412/index.html">Ast_412</a></li><li><a href="../Ast_413/index.html">Ast_413</a></li><li><a href="../Ast_414/index.html">Ast_414</a></li><li><a href="../Ast_500/index.html">Ast_500</a></li><li><a href="../Ast_501/index.html">Ast_501</a></li><li><a href="../Ast_502/index.html">Ast_502</a></li><li><a href="../Ast_503/index.html">Ast_503</a></li><li><a href="../Migrate_402_403/index.html">Migrate_402_403</a></li><li><a href="../Migrate_403_402/index.html">Migrate_403_402</a></li><li><a href="../Migrate_403_404/index.html">Migrate_403_404</a></li><li><a href="../Migrate_404_403/index.html">Migrate_404_403</a></li><li><a href="../Migrate_404_405/index.html">Migrate_404_405</a></li><li><a href="../Migrate_405_404/index.html">Migrate_405_404</a></li><li><a href="../Migrate_405_406/index.html">Migrate_405_406</a></li><li><a href="../Migrate_406_405/index.html">Migrate_406_405</a></li><li><a href="../Migrate_406_407/index.html">Migrate_406_407</a></li><li><a href="../Migrate_407_406/index.html">Migrate_407_406</a></li><li><a href="../Migrate_407_408/index.html">Migrate_407_408</a></li><li><a href="../Migrate_408_407/index.html">Migrate_408_407</a></li><li><a href="../Migrate_408_409/index.html">Migrate_408_409</a></li><li><a href="../Migrate_409_408/index.html">Migrate_409_408</a></li><li><a href="../Migrate_409_410/index.html">Migrate_409_410</a></li><li><a href="../Migrate_410_409/index.html">Migrate_410_409</a></li><li><a href="../Migrate_410_411/index.html">Migrate_410_411</a></li><li><a href="../Migrate_411_410/index.html">Migrate_411_410</a></li><li><a href="../Migrate_411_412/index.html">Migrate_411_412</a></li><li><a href="../Migrate_412_411/index.html">Migrate_412_411</a></li><li><a href="../Migrate_412_413/index.html">Migrate_412_413</a></li><li><a href="../Migrate_413_412/index.html">Migrate_413_412</a></li><li><a href="../Migrate_413_414/index.html">Migrate_413_414</a></li><li><a href="../Migrate_414_413/index.html">Migrate_414_413</a></li><li><a href="../Migrate_414_500/index.html">Migrate_414_500</a></li><li><a href="../Migrate_500_414/index.html">Migrate_500_414</a></li><li><a href="../Migrate_500_501/index.html">Migrate_500_501</a></li><li><a href="../Migrate_501_500/index.html">Migrate_501_500</a></li><li><a href="../Migrate_501_502/index.html">Migrate_501_502</a></li><li><a href="../Migrate_502_501/index.html">Migrate_502_501</a></li><li><a href="../Migrate_502_503/index.html">Migrate_502_503</a></li><li><a href="../Migrate_503_502/index.html">Migrate_503_502</a></li><li><a href="#" class="current_unit">Ast_metadata</a></li><li><a href="../Config/index.html">Config</a></li><li><a href="../Keyword/index.html">Keyword</a></li><li><a href="../Location/index.html">Location</a></li><li><a href="../Longident/index.html">Longident</a></li><li><a href="../Parse/index.html">Parse</a></li><li><a href="../Pprintast/index.html">Pprintast</a></li></ul></li></ul></li><li>Library <code>ppxlib.metaquot</code><ul><li><a href="../../../ppxlib.metaquot/Ppxlib_metaquot/index.html">Ppxlib_metaquot</a></li></ul></li><li>Library <code>ppxlib.metaquot_lifters</code><ul><li><a href="../../../ppxlib.metaquot_lifters/Ppxlib_metaquot_lifters/index.html">Ppxlib_metaquot_lifters</a></li></ul></li><li>Library <code>ppxlib.print_diff</code><ul><li><a href="../../../ppxlib.print_diff/Ppxlib_print_diff/index.html">Ppxlib_print_diff</a></li></ul></li><li>Library <code>ppxlib.runner</code><ul><li><a href="../../../ppxlib.runner/Ppxlib_runner/index.html">Ppxlib_runner</a></li></ul></li><li>Library <code>ppxlib.runner_as_ppx</code><ul><li><a href="../../../ppxlib.runner_as_ppx/Ppxlib_runner_as_ppx/index.html">Ppxlib_runner_as_ppx</a></li></ul></li><li>Library <code>ppxlib.stdppx</code><ul><li><a href="../../../ppxlib.stdppx/Stdppx/index.html">Stdppx</a></li></ul></li><li>Library <code>ppxlib.traverse</code><ul><li><a href="../../../ppxlib.traverse/Ppxlib_traverse/index.html">Ppxlib_traverse</a></li></ul></li><li>Library <code>ppxlib.traverse_builtins</code><ul><li><a href="../../../ppxlib.traverse_builtins/Ppxlib_traverse_builtins/index.html">Ppxlib_traverse_builtins</a></li></ul></li><li><a href="../../../src/index.html">Sources</a></li></ul></li></ul></nav></div><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-add_ppx_context_str"><a href="#val-add_ppx_context_str" class="anchor"></a><code><span><span class="keyword">val</span> add_ppx_context_str : 
  <span><span class="label">tool_name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../../../ocaml-base-compiler/compiler-libs.common/Parsetree/index.html#type-structure_item">Parsetree.structure_item</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../ocaml-base-compiler/compiler-libs.common/Parsetree/index.html#type-structure_item">Parsetree.structure_item</a> list</span></span></code></div><div class="spec-doc"><p>Extract information from the current environment and encode it into an attribute which is prepended to the list of structure items in order to pass the information to an external processor.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-drop_ppx_context_str"><a href="#val-drop_ppx_context_str" class="anchor"></a><code><span><span class="keyword">val</span> drop_ppx_context_str : 
  <span><span class="label">restore</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../../../ocaml-base-compiler/compiler-libs.common/Parsetree/index.html#type-structure_item">Parsetree.structure_item</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../ocaml-base-compiler/compiler-libs.common/Parsetree/index.html#type-structure_item">Parsetree.structure_item</a> list</span></span></code></div><div class="spec-doc"><p>Drop the ocaml.ppx.context attribute from a structure. If <code>restore</code> is true, also restore the associated data in the current process.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_ppx_context_sig"><a href="#val-add_ppx_context_sig" class="anchor"></a><code><span><span class="keyword">val</span> add_ppx_context_sig : 
  <span><span class="label">tool_name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../../../ocaml-base-compiler/compiler-libs.common/Parsetree/index.html#type-signature_item">Parsetree.signature_item</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../ocaml-base-compiler/compiler-libs.common/Parsetree/index.html#type-signature_item">Parsetree.signature_item</a> list</span></span></code></div><div class="spec-doc"><p>Same as <code>add_ppx_context_str</code>, but for signatures.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-drop_ppx_context_sig"><a href="#val-drop_ppx_context_sig" class="anchor"></a><code><span><span class="keyword">val</span> drop_ppx_context_sig : 
  <span><span class="label">restore</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../../../ocaml-base-compiler/compiler-libs.common/Parsetree/index.html#type-signature_item">Parsetree.signature_item</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../../ocaml-base-compiler/compiler-libs.common/Parsetree/index.html#type-signature_item">Parsetree.signature_item</a> list</span></span></code></div><div class="spec-doc"><p>Same as <code>drop_ppx_context_str</code>, but for signatures.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-tool_name"><a href="#val-tool_name" class="anchor"></a><code><span><span class="keyword">val</span> tool_name : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Can be used within a ppx preprocessor to know which tool is calling it <code>&quot;ocamlc&quot;</code>, <code>&quot;ocamlopt&quot;</code>, <code>&quot;ocamldoc&quot;</code>, <code>&quot;ocamldep&quot;</code>, <code>&quot;ocaml&quot;</code>, ...</p></div></div><h2 id="cookies"><a href="#cookies" class="anchor"></a>Cookies</h2><p>Cookies are used to pass information from a ppx processor to a further invocation of itself, when called from the OCaml toplevel (or other tools that support cookies).</p><div class="odoc-spec"><div class="spec value anchored" id="val-set_cookie"><a href="#val-set_cookie" class="anchor"></a><code><span><span class="keyword">val</span> set_cookie : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../ocaml-base-compiler/compiler-libs.common/Parsetree/index.html#type-expression">Parsetree.expression</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_cookie"><a href="#val-get_cookie" class="anchor"></a><code><span><span class="keyword">val</span> get_cookie : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../ocaml-base-compiler/compiler-libs.common/Parsetree/index.html#type-expression">Parsetree.expression</a> option</span></span></code></div></div></div></body></html>
