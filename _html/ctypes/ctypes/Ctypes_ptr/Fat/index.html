<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Fat (ctypes.ctypes.Ctypes_ptr.Fat)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.css"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../../../../';
let search_urls = ['../../../sherlodoc_db.js','../../../../sherlodoc.js'];
</script><script src="../../../../odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> ‚Äì <a href="../../../../index.html">üè†</a> &#x00BB; <a href="../../../index.html">ctypes</a> &#x00BB; Library <code>ctypes</code> &#x00BB; <a href="../index.html">Ctypes_ptr</a> &#x00BB; Fat</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="üîé Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1>Module <code><span>Ctypes_ptr.Fat</span></code><a href="../../../src/ctypes/ctypes_ptr.ml.html#module-Fat" class="source_link">Source</a></h1></header><div class="odoc-tocs"><nav class="odoc-toc odoc-global-toc"><ul><li><a href="../../../index.html">ctypes</a><ul><li>Library <code>ctypes</code><ul><li><a href="../../ComplexL/index.html">ComplexL</a></li><li><a href="../../Cstubs_internals/index.html">Cstubs_internals</a></li><li><a href="../../Ctypes/index.html">Ctypes</a></li><li><a href="../../Ctypes_bigarray/index.html">Ctypes_bigarray</a></li><li><a href="../../Ctypes_bigarray_stubs/index.html">Ctypes_bigarray_stubs</a></li><li><a href="../../Ctypes_coerce/index.html">Ctypes_coerce</a></li><li><a href="../../Ctypes_memory/index.html">Ctypes_memory</a></li><li><a href="../../Ctypes_memory_stubs/index.html">Ctypes_memory_stubs</a></li><li><a href="../../Ctypes_primitive_types/index.html">Ctypes_primitive_types</a></li><li><a href="../../Ctypes_primitives/index.html">Ctypes_primitives</a></li><li><a href="../index.html">Ctypes_ptr</a><ul><li><a href="../Raw/index.html">Raw</a></li><li><a href="#" class="current_unit">Fat</a></li></ul></li><li><a href="../../Ctypes_roots_stubs/index.html">Ctypes_roots_stubs</a></li><li><a href="../../Ctypes_static/index.html">Ctypes_static</a></li><li><a href="../../Ctypes_std_view_stubs/index.html">Ctypes_std_view_stubs</a></li><li><a href="../../Ctypes_std_views/index.html">Ctypes_std_views</a></li><li><a href="../../Ctypes_structs/index.html">Ctypes_structs</a></li><li><a href="../../Ctypes_structs_computed/index.html">Ctypes_structs_computed</a></li><li><a href="../../Ctypes_type_printing/index.html">Ctypes_type_printing</a></li><li><a href="../../Ctypes_types/index.html">Ctypes_types</a></li><li><a href="../../Ctypes_value_printing/index.html">Ctypes_value_printing</a></li><li><a href="../../Ctypes_value_printing_stubs/index.html">Ctypes_value_printing_stubs</a></li><li><a href="../../LDouble/index.html">LDouble</a></li><li><a href="../../PosixTypes/index.html">PosixTypes</a></li></ul></li><li>Library <code>ctypes.stubs</code><ul><li><a href="../../../ctypes.stubs/Cstubs/index.html">Cstubs</a></li><li><a href="../../../ctypes.stubs/Cstubs_analysis/index.html">Cstubs_analysis</a></li><li><a href="../../../ctypes.stubs/Cstubs_c_language/index.html">Cstubs_c_language</a></li><li><a href="../../../ctypes.stubs/Cstubs_emit_c/index.html">Cstubs_emit_c</a></li><li><a href="../../../ctypes.stubs/Cstubs_errors/index.html">Cstubs_errors</a></li><li><a href="../../../ctypes.stubs/Cstubs_generate_c/index.html">Cstubs_generate_c</a></li><li><a href="../../../ctypes.stubs/Cstubs_generate_ml/index.html">Cstubs_generate_ml</a></li><li><a href="../../../ctypes.stubs/Cstubs_inverted/index.html">Cstubs_inverted</a></li><li><a href="../../../ctypes.stubs/Cstubs_public_name/index.html">Cstubs_public_name</a></li><li><a href="../../../ctypes.stubs/Cstubs_structs/index.html">Cstubs_structs</a></li><li><a href="../../../ctypes.stubs/Ctypes_path/index.html">Ctypes_path</a></li></ul></li><li>Library <code>ctypes.top</code><ul><li><a href="../../../ctypes.top/Ctypes_top/index.html">Ctypes_top</a></li></ul></li><li><a href="../../../src/index.html">Sources</a></li></ul></li></ul></nav></div><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><a href="../../../src/ctypes/ctypes_ptr.ml.html#module-Fat.type-t" class="source_link">Source</a><code><span><span class="keyword">type</span> <span>(_, _) t</span></span></code></div><div class="spec-doc"><p>A fat pointer, which holds a reference to the reference type, the C memory location, and an OCaml object.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make"><a href="#val-make" class="anchor"></a><a href="../../../src/ctypes/ctypes_ptr.ml.html#module-Fat.val-make" class="source_link">Source</a><code><span><span class="keyword">val</span> make : <span><span class="label">managed</span>:<span class="type-var">'m</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">reftyp</span>:<span class="type-var">'typ</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-voidp">voidp</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'m</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>make ?managed ~reftyp raw</code> builds a fat pointer from the reference type <code>reftyp</code>, the C memory location <code>raw</code>, and (optionally) an OCaml value, <code>managed</code>. The <code>managed</code> argument may be used to manage the lifetime of the C object; a typical use it to attach a finaliser to <code>managed</code> which releases the memory associated with the C object whose address is stored in <code>raw_ptr</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_null"><a href="#val-is_null" class="anchor"></a><a href="../../../src/ctypes/ctypes_ptr.ml.html#module-Fat.val-is_null" class="source_link">Source</a><code><span><span class="keyword">val</span> is_null : <span><span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-reftype"><a href="#val-reftype" class="anchor"></a><a href="../../../src/ctypes/ctypes_ptr.ml.html#module-Fat.val-reftype" class="source_link">Source</a><code><span><span class="keyword">val</span> reftype : <span><span><span>(<span class="type-var">_</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'typ</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-managed"><a href="#val-managed" class="anchor"></a><a href="../../../src/ctypes/ctypes_ptr.ml.html#module-Fat.val-managed" class="source_link">Source</a><code><span><span class="keyword">val</span> managed : <span><span><span>(<span class="type-var">'m</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'m</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-set_managed"><a href="#val-set_managed" class="anchor"></a><a href="../../../src/ctypes/ctypes_ptr.ml.html#module-Fat.val-set_managed" class="source_link">Source</a><code><span><span class="keyword">val</span> set_managed : <span><span><span>(<span class="type-var">'m</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'m</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-coerce"><a href="#val-coerce" class="anchor"></a><a href="../../../src/ctypes/ctypes_ptr.ml.html#module-Fat.val-coerce" class="source_link">Source</a><code><span><span class="keyword">val</span> coerce : <span><span><span>(<span class="type-var">'m</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'typ</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'m</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unsafe_raw_addr"><a href="#val-unsafe_raw_addr" class="anchor"></a><a href="../../../src/ctypes/ctypes_ptr.ml.html#module-Fat.val-unsafe_raw_addr" class="source_link">Source</a><code><span><span class="keyword">val</span> unsafe_raw_addr : <span><span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-voidp">voidp</a></span></code></div><div class="spec-doc"><p>Return the raw pointer address. The function is unsafe in the sense that it dissociates the address from the value which manages the memory, which may trigger associated finalisers, invalidating the address.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_bytes"><a href="#val-add_bytes" class="anchor"></a><a href="../../../src/ctypes/ctypes_ptr.ml.html#module-Fat.val-add_bytes" class="source_link">Source</a><code><span><span class="keyword">val</span> add_bytes : <span><span><span>(<span class="type-var">'m</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'m</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compare"><a href="#val-compare" class="anchor"></a><a href="../../../src/ctypes/ctypes_ptr.ml.html#module-Fat.val-compare" class="source_link">Source</a><code><span><span class="keyword">val</span> compare : <span><span><span>(<span class="type-var">_</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">_</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-diff_bytes"><a href="#val-diff_bytes" class="anchor"></a><a href="../../../src/ctypes/ctypes_ptr.ml.html#module-Fat.val-diff_bytes" class="source_link">Source</a><code><span><span class="keyword">val</span> diff_bytes : <span><span><span>(<span class="type-var">_</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">_</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div></div></body></html>
