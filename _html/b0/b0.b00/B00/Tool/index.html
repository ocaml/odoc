<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tool (b0.b0.b00.B00.Tool)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.css"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../../../../';
let search_urls = ['../../../sherlodoc_db.js','../../../../sherlodoc.js'];
</script><script src="../../../../odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> ‚Äì <a href="../../../../index.html">üè†</a> &#x00BB; <a href="../../../index.html">B0  <span class="version">v0.0.5</span></a> &#x00BB; Library <code>b0.b00</code> &#x00BB; <a href="../index.html">B00</a> &#x00BB; Tool</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="üîé Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1>Module <code><span>B00.Tool</span></code></h1><p>Command line tools.</p><p>A tool is specified either by name, to be looked up via an unspecified mecanism, or by a file path to an executable file. It declares the environment variables it accesses in the process environment and whether and how it supports response files.</p><p>By default declared environment variables are assumed to influence the tool's output and are part of the stamp used to memoize tool spawns. If an environment variable is accessed by the tool but does not influence its output it should be declared as unstamped. Variables specifying the location of <a href="#val-tmp_vars" title="Tool.tmp_vars">temporary file directories</a> are good examples of unstamped variables.</p><p><b>Portability.</b> In order to maximize portability no <code>.exe</code> suffix should be added to executable names on Windows, the search procedure will add the suffix during the tool search procedure if absent.</p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#env">Environment variables</a></li><li><a href="#resp">Response files</a></li><li><a href="#tools">Tools</a></li></ul></nav><nav class="odoc-toc odoc-global-toc"><ul><li><a href="../../../index.html">B0  <span class="version">v0.0.5</span></a><ul><li><a href="../../../b00_manual.html">B00 manual</a></li><li><a href="../../../cmdlet_manual.html">Cmdlet manual</a></li><li><a href="../../../driver_dev.html">B0 driver development manual</a></li><li><a href="../../../manual.html">B0 manual</a></li><li><a href="../../../old_manual.html">B0 manual</a></li><li><a href="../../../opam.html"><code>opam</code> support manual</a></li><li><a href="../../../rationale.html">Why b0 ?</a></li><li><a href="../../../release.html">B0 release support manual</a></li><li><a href="../../../todo.html">Design considerations and todo</a></li><li><a href="../../../unit_manual.html">Build unit manual</a></li><li>Library <code>b0</code><ul><li><a href="../../../b0/B0_build/index.html">B0_build</a></li><li><a href="../../../b0/B0_cli/index.html">B0_cli</a></li><li><a href="../../../b0/B0_cmdlet/index.html">B0_cmdlet</a></li><li><a href="../../../b0/B0_def/index.html">B0_def</a></li><li><a href="../../../b0/B0_dir/index.html">B0_dir</a></li><li><a href="../../../b0/B0_driver/index.html">B0_driver</a></li><li><a href="../../../b0/B0_file/index.html">B0_file</a></li><li><a href="../../../b0/B0_meta/index.html">B0_meta</a></li><li><a href="../../../b0/B0_pack/index.html">B0_pack</a></li><li><a href="../../../b0/B0_unit/index.html">B0_unit</a></li></ul></li><li>Library <code>b0.b0</code><ul><li><a href="../../../b0.b0/B0_b0/index.html">B0_b0</a></li><li><a href="../../../b0.b0/B0_cmd_build/index.html">B0_cmd_build</a></li><li><a href="../../../b0.b0/B0_cmd_cmd/index.html">B0_cmd_cmd</a></li><li><a href="../../../b0.b0/B0_cmd_cmdlet/index.html">B0_cmd_cmdlet</a></li><li><a href="../../../b0.b0/B0_cmd_delete/index.html">B0_cmd_delete</a></li><li><a href="../../../b0.b0/B0_cmd_file/index.html">B0_cmd_file</a></li><li><a href="../../../b0.b0/B0_cmd_list/index.html">B0_cmd_list</a></li><li><a href="../../../b0.b0/B0_cmd_log/index.html">B0_cmd_log</a></li><li><a href="../../../b0.b0/B0_cmd_pack/index.html">B0_cmd_pack</a></li><li><a href="../../../b0.b0/B0_cmd_root/index.html">B0_cmd_root</a></li><li><a href="../../../b0.b0/B0_cmd_scope/index.html">B0_cmd_scope</a></li><li><a href="../../../b0.b0/B0_cmd_unit/index.html">B0_cmd_unit</a></li><li><a href="../../../b0.b0/B0_main/index.html">B0_main</a></li></ul></li><li>Library <code>b0.b00</code><ul><li><a href="../index.html">B00</a><ul><li><a href="#" class="current_unit">Tool</a></li><li><a href="../Env/index.html">Env</a></li><li><a href="../Memo/index.html">Memo</a></li><li><a href="../Store/index.html">Store</a></li></ul></li><li><a href="../../B000/index.html">B000</a></li><li><a href="../../B000_conv/index.html">B000_conv</a></li></ul></li><li>Library <code>b0.b00.kit</code><ul><li><a href="../../../b0.b00.kit/B00_base64/index.html">B00_base64</a></li><li><a href="../../../b0.b00.kit/B00_cli/index.html">B00_cli</a></li><li><a href="../../../b0.b00.kit/B00_cmark/index.html">B00_cmark</a></li><li><a href="../../../b0.b00.kit/B00_editor/index.html">B00_editor</a></li><li><a href="../../../b0.b00.kit/B00_fexts/index.html">B00_fexts</a></li><li><a href="../../../b0.b00.kit/B00_findex/index.html">B00_findex</a></li><li><a href="../../../b0.b00.kit/B00_github/index.html">B00_github</a></li><li><a href="../../../b0.b00.kit/B00_htmlg/index.html">B00_htmlg</a></li><li><a href="../../../b0.b00.kit/B00_http/index.html">B00_http</a></li><li><a href="../../../b0.b00.kit/B00_jsoo/index.html">B00_jsoo</a></li><li><a href="../../../b0.b00.kit/B00_lines/index.html">B00_lines</a></li><li><a href="../../../b0.b00.kit/B00_ocaml/index.html">B00_ocaml</a></li><li><a href="../../../b0.b00.kit/B00_odoc/index.html">B00_odoc</a></li><li><a href="../../../b0.b00.kit/B00_os/index.html">B00_os</a></li><li><a href="../../../b0.b00.kit/B00_pager/index.html">B00_pager</a></li><li><a href="../../../b0.b00.kit/B00_pdf_viewer/index.html">B00_pdf_viewer</a></li><li><a href="../../../b0.b00.kit/B00_rsync/index.html">B00_rsync</a></li><li><a href="../../../b0.b00.kit/B00_serialk_json/index.html">B00_serialk_json</a></li><li><a href="../../../b0.b00.kit/B00_serialk_sexp/index.html">B00_serialk_sexp</a></li><li><a href="../../../b0.b00.kit/B00_serialk_text/index.html">B00_serialk_text</a></li><li><a href="../../../b0.b00.kit/B00_trace/index.html">B00_trace</a></li><li><a href="../../../b0.b00.kit/B00_vcs/index.html">B00_vcs</a></li><li><a href="../../../b0.b00.kit/B00_www_browser/index.html">B00_www_browser</a></li></ul></li><li>Library <code>b0.kit</code><ul><li><a href="../../../b0.kit/B0_expect/index.html">B0_expect</a></li><li><a href="../../../b0.kit/B0_jsoo/index.html">B0_jsoo</a></li><li><a href="../../../b0.kit/B0_kit/index.html">B0_kit</a></li><li><a href="../../../b0.kit/B0_ocaml/index.html">B0_ocaml</a></li><li><a href="../../../b0.kit/B0_ocaml_eco/index.html">B0_ocaml_eco</a></li><li><a href="../../../b0.kit/B0_opam/index.html">B0_opam</a></li><li><a href="../../../b0.kit/B0_release/index.html">B0_release</a></li><li><a href="../../../b0.kit/B0_srcs/index.html">B0_srcs</a></li></ul></li><li>Library <code>b0.std</code><ul><li><a href="../../../b0.std/B0_std/index.html">B0_std</a></li></ul></li></ul></li></ul></nav></div><div class="odoc-content"><h2 id="env"><a href="#env" class="anchor"></a>Environment variables</h2><div class="odoc-spec"><div class="spec type anchored" id="type-env_vars"><a href="#type-env_vars" class="anchor"></a><code><span><span class="keyword">type</span> env_vars</span><span> = <span>string list</span></span></code></div><div class="spec-doc"><p>The type for lists of environment variable names.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-tmp_vars"><a href="#val-tmp_vars" class="anchor"></a><code><span><span class="keyword">val</span> tmp_vars : <a href="#type-env_vars">env_vars</a></span></code></div><div class="spec-doc"><p><code>tmp_vars</code> is <code>[&quot;TMPDIR&quot;; &quot;TEMP&quot;; &quot;TMP&quot;]</code>.</p></div></div><h2 id="resp"><a href="#resp" class="anchor"></a>Response files</h2><div class="odoc-spec"><div class="spec type anchored" id="type-response_file"><a href="#type-response_file" class="anchor"></a><code><span><span class="keyword">type</span> response_file</span></code></div><div class="spec-doc"><p>The type for response file specification.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-response_file_of"><a href="#val-response_file_of" class="anchor"></a><code><span><span class="keyword">val</span> response_file_of : 
  <span><span>(<span><a href="../../../b0.std/B0_std/Cmd/index.html#type-t">B0_std.Cmd.t</a> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../../../b0.std/B0_std/Fpath/index.html#type-t">B0_std.Fpath.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../b0.std/B0_std/Cmd/index.html#type-t">B0_std.Cmd.t</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-response_file">response_file</a></span></code></div><div class="spec-doc"><p><code>response_file_of to_file cli</code> is a response file specification that uses <code>to_file cmd</code> to convert the command line <code>cmd</code> to a response file content and <code>cli f</code> a command line fragment to be given to the tool so that it treats file <code>f</code> as a response file.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-args0"><a href="#val-args0" class="anchor"></a><code><span><span class="keyword">val</span> args0 : <a href="#type-response_file">response_file</a></span></code></div><div class="spec-doc"><p><code>args0</code> is response file support for tools that reads null byte (<code>0x00</code>) terminated arguments response files via an <code>-args0 FILE</code> command line synopsis.</p></div></div><h2 id="tools"><a href="#tools" class="anchor"></a>Tools</h2><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>The type for tools.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-v"><a href="#val-v" class="anchor"></a><code><span><span class="keyword">val</span> v : 
  <span><span class="optlabel">?response_file</span>:<a href="#type-response_file">response_file</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?unstamped_vars</span>:<a href="#type-env_vars">env_vars</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?vars</span>:<a href="#type-env_vars">env_vars</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../b0.std/B0_std/Cmd/index.html#type-tool">B0_std.Cmd.tool</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>v ~response_file ~unstamped_vars ~vars cmd</code> is a tool specified by <code>cmd</code>. <code>vars</code> are the stamped variables accessed by the tool (defaults to <code>[]</code>). <code>unstamped_vars</code> are the unstamped variables accessed by the tool (defaults to <a href="#val-tmp_vars"><code>tmp_vars</code></a>). <code>response_file</code> defines the reponse file support for the tool (if any).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-by_name"><a href="#val-by_name" class="anchor"></a><code><span><span class="keyword">val</span> by_name : 
  <span><span class="optlabel">?response_file</span>:<a href="#type-response_file">response_file</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?unstamped_vars</span>:<a href="#type-env_vars">env_vars</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?vars</span>:<a href="#type-env_vars">env_vars</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>by_name</code> is like <a href="#val-v"><code>v</code></a> but reference the tool directly via a name.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="../../../../ocaml-base-compiler/stdlib/Stdlib/index.html#exception-Invalid_argument"><code>Invalid_argument</code></a> <p>if <a href="../../../b0.std/B0_std/Fpath/index.html#val-is_seg"><code>B0_std.Fpath.is_seg</code></a> <code>name</code> is <code>false</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-name"><a href="#val-name" class="anchor"></a><code><span><span class="keyword">val</span> name : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../b0.std/B0_std/Cmd/index.html#type-tool">B0_std.Cmd.tool</a></span></code></div><div class="spec-doc"><p><code>name t</code> is <code>t</code>'s tool name. If this is a relative file path with a single segment the tool is meant to be searched via an external mecanism.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-vars"><a href="#val-vars" class="anchor"></a><code><span><span class="keyword">val</span> vars : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env_vars">env_vars</a></span></code></div><div class="spec-doc"><p><code>vars t</code> are the stamped environment variables accessed by <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unstamped_vars"><a href="#val-unstamped_vars" class="anchor"></a><code><span><span class="keyword">val</span> unstamped_vars : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env_vars">env_vars</a></span></code></div><div class="spec-doc"><p><code>unstamped_vars t</code> are the unstamped environment variables accessed by <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-response_file"><a href="#val-response_file" class="anchor"></a><code><span><span class="keyword">val</span> response_file : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-response_file">response_file</a> option</span></span></code></div><div class="spec-doc"><p><code>response_file t</code> is <code>t</code>'s response file specification (if any).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_env"><a href="#val-read_env" class="anchor"></a><code><span><span class="keyword">val</span> read_env : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../b0.std/B0_std/Os/Env/index.html#type-t">B0_std.Os.Env.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../b0.std/B0_std/Os/Env/index.html#type-t">B0_std.Os.Env.t</a> * <a href="../../../b0.std/B0_std/Os/Env/index.html#type-t">B0_std.Os.Env.t</a></span></code></div><div class="spec-doc"><p><code>read_env t env</code> is (all, stamped) with <code>all</code> the environment with the variables of <code>env</code> that are in <code>vars t</code> and <code>unstamped_vars t</code> and <code>stamped</code> those of <code>vars t</code> only.</p></div></div></div></body></html>
