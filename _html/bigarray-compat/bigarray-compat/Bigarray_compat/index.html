<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bigarray_compat (bigarray-compat.bigarray-compat.Bigarray_compat)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.css"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../../../';
let search_urls = ['../../sherlodoc_db.js','../../../sherlodoc.js'];
</script><script src="../../../odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="../../index.html">Up</a> ‚Äì <a href="../../../index.html">üè†</a> &#x00BB; <a href="../../index.html">bigarray-compat</a> &#x00BB; Library <code>bigarray-compat</code> &#x00BB; Bigarray_compat</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="üîé Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1>Module <code><span>Bigarray_compat</span></code><a href="../../src/bigarray-compat/bigarray_compat.ml.html" class="source_link">Source</a></h1></header><div class="odoc-tocs"><nav class="odoc-toc odoc-global-toc"><ul><li><a href="../../index.html">bigarray-compat</a><ul><li>Library <code>bigarray-compat</code><ul><li><a href="#" class="current_unit">Bigarray_compat</a><ul><li><a href="#module-Genarray">Genarray</a></li><li><a href="#module-Array0">Array0</a></li><li><a href="#module-Array1">Array1</a></li><li><a href="#module-Array2">Array2</a></li><li><a href="#module-Array3">Array3</a></li></ul></li></ul></li><li><a href="../../src/index.html">Sources</a></li></ul></li></ul></nav></div><div class="odoc-content"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">struct</span> <span class="keyword">include</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html">Bigarray</a> <span class="keyword">end</span></span></code></summary><h2 id="element-kinds"><a href="#element-kinds" class="anchor"></a>Element kinds</h2><p>Bigarrays can contain elements of the following kinds:</p><ul><li>IEEE half precision (16 bits) floating-point numbers (<a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-float16_elt"><code>Bigarray.float16_elt</code></a>),</li><li>IEEE single precision (32 bits) floating-point numbers (<a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-float32_elt"><code>Bigarray.float32_elt</code></a>),</li><li>IEEE double precision (64 bits) floating-point numbers (<a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-float64_elt"><code>Bigarray.float64_elt</code></a>),</li><li>IEEE single precision (2 * 32 bits) floating-point complex numbers (<a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-complex32_elt"><code>Bigarray.complex32_elt</code></a>),</li><li>IEEE double precision (2 * 64 bits) floating-point complex numbers (<a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-complex64_elt"><code>Bigarray.complex64_elt</code></a>),</li><li>8-bit integers (signed or unsigned) (<a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-int8_signed_elt"><code>Bigarray.int8_signed_elt</code></a> or <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-int8_unsigned_elt"><code>Bigarray.int8_unsigned_elt</code></a>),</li><li>16-bit integers (signed or unsigned) (<a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-int16_signed_elt"><code>Bigarray.int16_signed_elt</code></a> or <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-int16_unsigned_elt"><code>Bigarray.int16_unsigned_elt</code></a>),</li><li>OCaml integers (signed, 31 bits on 32-bit architectures, 63 bits on 64-bit architectures) (<a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-int_elt"><code>Bigarray.int_elt</code></a>),</li><li>32-bit signed integers (<a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-int32_elt"><code>Bigarray.int32_elt</code></a>),</li><li>64-bit signed integers (<a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-int64_elt"><code>Bigarray.int64_elt</code></a>),</li><li>platform-native signed integers (32 bits on 32-bit architectures, 64 bits on 64-bit architectures) (<a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-nativeint_elt"><code>Bigarray.nativeint_elt</code></a>).</li></ul><p>Each element kind is represented at the type level by one of the <code>*_elt</code> types defined below (defined with a single constructor instead of abstract types for technical injectivity reasons).</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 4.07 Moved from otherlibs to stdlib.</li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 5.2 Added float16_elt element kind.</li></ul><div class="odoc-spec"><div class="spec type anchored" id="type-float16_elt"><a href="#type-float16_elt" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-float16_elt" class="source_link">Source</a><code><span><span class="keyword">type</span> float16_elt</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-float16_elt">Bigarray.float16_elt</a></span><span> = </span></code><ol><li id="type-float16_elt.Float16_elt" class="def variant constructor anchored"><a href="#type-float16_elt.Float16_elt" class="anchor"></a><code><span>| </span><span><span class="constructor">Float16_elt</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-float32_elt"><a href="#type-float32_elt" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-float32_elt" class="source_link">Source</a><code><span><span class="keyword">type</span> float32_elt</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-float32_elt">Bigarray.float32_elt</a></span><span> = </span></code><ol><li id="type-float32_elt.Float32_elt" class="def variant constructor anchored"><a href="#type-float32_elt.Float32_elt" class="anchor"></a><code><span>| </span><span><span class="constructor">Float32_elt</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-float64_elt"><a href="#type-float64_elt" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-float64_elt" class="source_link">Source</a><code><span><span class="keyword">type</span> float64_elt</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-float64_elt">Bigarray.float64_elt</a></span><span> = </span></code><ol><li id="type-float64_elt.Float64_elt" class="def variant constructor anchored"><a href="#type-float64_elt.Float64_elt" class="anchor"></a><code><span>| </span><span><span class="constructor">Float64_elt</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-int8_signed_elt"><a href="#type-int8_signed_elt" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-int8_signed_elt" class="source_link">Source</a><code><span><span class="keyword">type</span> int8_signed_elt</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-int8_signed_elt">Bigarray.int8_signed_elt</a></span><span> = </span></code><ol><li id="type-int8_signed_elt.Int8_signed_elt" class="def variant constructor anchored"><a href="#type-int8_signed_elt.Int8_signed_elt" class="anchor"></a><code><span>| </span><span><span class="constructor">Int8_signed_elt</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-int8_unsigned_elt"><a href="#type-int8_unsigned_elt" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-int8_unsigned_elt" class="source_link">Source</a><code><span><span class="keyword">type</span> int8_unsigned_elt</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-int8_unsigned_elt">Bigarray.int8_unsigned_elt</a></span><span> = </span></code><ol><li id="type-int8_unsigned_elt.Int8_unsigned_elt" class="def variant constructor anchored"><a href="#type-int8_unsigned_elt.Int8_unsigned_elt" class="anchor"></a><code><span>| </span><span><span class="constructor">Int8_unsigned_elt</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-int16_signed_elt"><a href="#type-int16_signed_elt" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-int16_signed_elt" class="source_link">Source</a><code><span><span class="keyword">type</span> int16_signed_elt</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-int16_signed_elt">Bigarray.int16_signed_elt</a></span><span> = </span></code><ol><li id="type-int16_signed_elt.Int16_signed_elt" class="def variant constructor anchored"><a href="#type-int16_signed_elt.Int16_signed_elt" class="anchor"></a><code><span>| </span><span><span class="constructor">Int16_signed_elt</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-int16_unsigned_elt"><a href="#type-int16_unsigned_elt" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-int16_unsigned_elt" class="source_link">Source</a><code><span><span class="keyword">type</span> int16_unsigned_elt</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-int16_unsigned_elt">Bigarray.int16_unsigned_elt</a></span><span> = </span></code><ol><li id="type-int16_unsigned_elt.Int16_unsigned_elt" class="def variant constructor anchored"><a href="#type-int16_unsigned_elt.Int16_unsigned_elt" class="anchor"></a><code><span>| </span><span><span class="constructor">Int16_unsigned_elt</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-int32_elt"><a href="#type-int32_elt" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-int32_elt" class="source_link">Source</a><code><span><span class="keyword">type</span> int32_elt</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-int32_elt">Bigarray.int32_elt</a></span><span> = </span></code><ol><li id="type-int32_elt.Int32_elt" class="def variant constructor anchored"><a href="#type-int32_elt.Int32_elt" class="anchor"></a><code><span>| </span><span><span class="constructor">Int32_elt</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-int64_elt"><a href="#type-int64_elt" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-int64_elt" class="source_link">Source</a><code><span><span class="keyword">type</span> int64_elt</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-int64_elt">Bigarray.int64_elt</a></span><span> = </span></code><ol><li id="type-int64_elt.Int64_elt" class="def variant constructor anchored"><a href="#type-int64_elt.Int64_elt" class="anchor"></a><code><span>| </span><span><span class="constructor">Int64_elt</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-int_elt"><a href="#type-int_elt" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-int_elt" class="source_link">Source</a><code><span><span class="keyword">type</span> int_elt</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-int_elt">Bigarray.int_elt</a></span><span> = </span></code><ol><li id="type-int_elt.Int_elt" class="def variant constructor anchored"><a href="#type-int_elt.Int_elt" class="anchor"></a><code><span>| </span><span><span class="constructor">Int_elt</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-nativeint_elt"><a href="#type-nativeint_elt" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-nativeint_elt" class="source_link">Source</a><code><span><span class="keyword">type</span> nativeint_elt</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-nativeint_elt">Bigarray.nativeint_elt</a></span><span> = </span></code><ol><li id="type-nativeint_elt.Nativeint_elt" class="def variant constructor anchored"><a href="#type-nativeint_elt.Nativeint_elt" class="anchor"></a><code><span>| </span><span><span class="constructor">Nativeint_elt</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-complex32_elt"><a href="#type-complex32_elt" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-complex32_elt" class="source_link">Source</a><code><span><span class="keyword">type</span> complex32_elt</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-complex32_elt">Bigarray.complex32_elt</a></span><span> = </span></code><ol><li id="type-complex32_elt.Complex32_elt" class="def variant constructor anchored"><a href="#type-complex32_elt.Complex32_elt" class="anchor"></a><code><span>| </span><span><span class="constructor">Complex32_elt</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-complex64_elt"><a href="#type-complex64_elt" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-complex64_elt" class="source_link">Source</a><code><span><span class="keyword">type</span> complex64_elt</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-complex64_elt">Bigarray.complex64_elt</a></span><span> = </span></code><ol><li id="type-complex64_elt.Complex64_elt" class="def variant constructor anchored"><a href="#type-complex64_elt.Complex64_elt" class="anchor"></a><code><span>| </span><span><span class="constructor">Complex64_elt</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-kind"><a href="#type-kind" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-kind" class="source_link">Source</a><code><span><span class="keyword">type</span> <span>('a, 'b) kind</span></span><span> = <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-kind">Bigarray.kind</a></span></span><span> = </span></code><ol><li id="type-kind.Float32" class="def variant constructor anchored"><a href="#type-kind.Float32" class="anchor"></a><code><span>| </span><span><span class="constructor">Float32</span> : <span><span>(float, <a href="#type-float32_elt">float32_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></li><li id="type-kind.Float64" class="def variant constructor anchored"><a href="#type-kind.Float64" class="anchor"></a><code><span>| </span><span><span class="constructor">Float64</span> : <span><span>(float, <a href="#type-float64_elt">float64_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></li><li id="type-kind.Int8_signed" class="def variant constructor anchored"><a href="#type-kind.Int8_signed" class="anchor"></a><code><span>| </span><span><span class="constructor">Int8_signed</span> : <span><span>(int, <a href="#type-int8_signed_elt">int8_signed_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></li><li id="type-kind.Int8_unsigned" class="def variant constructor anchored"><a href="#type-kind.Int8_unsigned" class="anchor"></a><code><span>| </span><span><span class="constructor">Int8_unsigned</span> : <span><span>(int, <a href="#type-int8_unsigned_elt">int8_unsigned_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></li><li id="type-kind.Int16_signed" class="def variant constructor anchored"><a href="#type-kind.Int16_signed" class="anchor"></a><code><span>| </span><span><span class="constructor">Int16_signed</span> : <span><span>(int, <a href="#type-int16_signed_elt">int16_signed_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></li><li id="type-kind.Int16_unsigned" class="def variant constructor anchored"><a href="#type-kind.Int16_unsigned" class="anchor"></a><code><span>| </span><span><span class="constructor">Int16_unsigned</span> : <span><span>(int, <a href="#type-int16_unsigned_elt">int16_unsigned_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></li><li id="type-kind.Int32" class="def variant constructor anchored"><a href="#type-kind.Int32" class="anchor"></a><code><span>| </span><span><span class="constructor">Int32</span> : <span><span>(int32, <a href="#type-int32_elt">int32_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></li><li id="type-kind.Int64" class="def variant constructor anchored"><a href="#type-kind.Int64" class="anchor"></a><code><span>| </span><span><span class="constructor">Int64</span> : <span><span>(int64, <a href="#type-int64_elt">int64_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></li><li id="type-kind.Int" class="def variant constructor anchored"><a href="#type-kind.Int" class="anchor"></a><code><span>| </span><span><span class="constructor">Int</span> : <span><span>(int, <a href="#type-int_elt">int_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></li><li id="type-kind.Nativeint" class="def variant constructor anchored"><a href="#type-kind.Nativeint" class="anchor"></a><code><span>| </span><span><span class="constructor">Nativeint</span> : <span><span>(nativeint, <a href="#type-nativeint_elt">nativeint_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></li><li id="type-kind.Complex32" class="def variant constructor anchored"><a href="#type-kind.Complex32" class="anchor"></a><code><span>| </span><span><span class="constructor">Complex32</span> : <span><span>(<a href="../../../ocaml-base-compiler/stdlib/Stdlib/Complex/index.html#type-t">Complex.t</a>, <a href="#type-complex32_elt">complex32_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></li><li id="type-kind.Complex64" class="def variant constructor anchored"><a href="#type-kind.Complex64" class="anchor"></a><code><span>| </span><span><span class="constructor">Complex64</span> : <span><span>(<a href="../../../ocaml-base-compiler/stdlib/Stdlib/Complex/index.html#type-t">Complex.t</a>, <a href="#type-complex64_elt">complex64_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></li><li id="type-kind.Char" class="def variant constructor anchored"><a href="#type-kind.Char" class="anchor"></a><code><span>| </span><span><span class="constructor">Char</span> : <span><span>(char, <a href="#type-int8_unsigned_elt">int8_unsigned_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></li><li id="type-kind.Float16" class="def variant constructor anchored"><a href="#type-kind.Float16" class="anchor"></a><code><span>| </span><span><span class="constructor">Float16</span> : <span><span>(float, <a href="#type-float16_elt">float16_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></li></ol></div><div class="spec-doc"><p>To each element kind is associated an OCaml type, which is the type of OCaml values that can be stored in the Bigarray or read back from it. This type is not necessarily the same as the type of the array elements proper: for instance, a Bigarray whose elements are of kind <code>float32_elt</code> contains 32-bit single precision floats, but reading or writing one of its elements from OCaml uses the OCaml type <code>float</code>, which is 64-bit double precision floats.</p><p>The GADT type <code>('a, 'b) kind</code> captures this association of an OCaml type <code>'a</code> for values read or written in the Bigarray, and of an element kind <code>'b</code> which represents the actual contents of the Bigarray. Its constructors list all possible associations of OCaml types with element kinds, and are re-exported below for backward-compatibility reasons.</p><p>Using a generalized algebraic datatype (GADT) here allows writing well-typed polymorphic functions whose return type depend on the argument type, such as:</p><pre class="language-ocaml"><code>let zero : type a b. (a, b) kind -&gt; a = function
  | Float32 -&gt; 0.0 | Complex32 -&gt; Complex.zero
  | Float64 -&gt; 0.0 | Complex64 -&gt; Complex.zero
  | Float16 -&gt; 0.0
  | Int8_signed -&gt; 0 | Int8_unsigned -&gt; 0
  | Int16_signed -&gt; 0 | Int16_unsigned -&gt; 0
  | Int32 -&gt; 0l | Int64 -&gt; 0L
  | Int -&gt; 0 | Nativeint -&gt; 0n
  | Char -&gt; '\000'</code></pre><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 5.2 Constructor Float16 for the GADT.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-float16"><a href="#val-float16" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-float16" class="source_link">Source</a><code><span><span class="keyword">val</span> float16 : <span><span>(float, <a href="#type-float16_elt">float16_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></div><div class="spec-doc"><p>See <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-char"><code>Bigarray.char</code></a>.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 5.2</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-float32"><a href="#val-float32" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-float32" class="source_link">Source</a><code><span><span class="keyword">val</span> float32 : <span><span>(float, <a href="#type-float32_elt">float32_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></div><div class="spec-doc"><p>See <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-char"><code>Bigarray.char</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-float64"><a href="#val-float64" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-float64" class="source_link">Source</a><code><span><span class="keyword">val</span> float64 : <span><span>(float, <a href="#type-float64_elt">float64_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></div><div class="spec-doc"><p>See <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-char"><code>Bigarray.char</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-complex32"><a href="#val-complex32" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-complex32" class="source_link">Source</a><code><span><span class="keyword">val</span> complex32 : <span><span>(<a href="../../../ocaml-base-compiler/stdlib/Stdlib/Complex/index.html#type-t">Complex.t</a>, <a href="#type-complex32_elt">complex32_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></div><div class="spec-doc"><p>See <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-char"><code>Bigarray.char</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-complex64"><a href="#val-complex64" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-complex64" class="source_link">Source</a><code><span><span class="keyword">val</span> complex64 : <span><span>(<a href="../../../ocaml-base-compiler/stdlib/Stdlib/Complex/index.html#type-t">Complex.t</a>, <a href="#type-complex64_elt">complex64_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></div><div class="spec-doc"><p>See <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-char"><code>Bigarray.char</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int8_signed"><a href="#val-int8_signed" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-int8_signed" class="source_link">Source</a><code><span><span class="keyword">val</span> int8_signed : <span><span>(int, <a href="#type-int8_signed_elt">int8_signed_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></div><div class="spec-doc"><p>See <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-char"><code>Bigarray.char</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int8_unsigned"><a href="#val-int8_unsigned" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-int8_unsigned" class="source_link">Source</a><code><span><span class="keyword">val</span> int8_unsigned : <span><span>(int, <a href="#type-int8_unsigned_elt">int8_unsigned_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></div><div class="spec-doc"><p>See <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-char"><code>Bigarray.char</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int16_signed"><a href="#val-int16_signed" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-int16_signed" class="source_link">Source</a><code><span><span class="keyword">val</span> int16_signed : <span><span>(int, <a href="#type-int16_signed_elt">int16_signed_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></div><div class="spec-doc"><p>See <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-char"><code>Bigarray.char</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int16_unsigned"><a href="#val-int16_unsigned" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-int16_unsigned" class="source_link">Source</a><code><span><span class="keyword">val</span> int16_unsigned : <span><span>(int, <a href="#type-int16_unsigned_elt">int16_unsigned_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></div><div class="spec-doc"><p>See <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-char"><code>Bigarray.char</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int"><a href="#val-int" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-int" class="source_link">Source</a><code><span><span class="keyword">val</span> int : <span><span>(int, <a href="#type-int_elt">int_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></div><div class="spec-doc"><p>See <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-char"><code>Bigarray.char</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int32"><a href="#val-int32" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-int32" class="source_link">Source</a><code><span><span class="keyword">val</span> int32 : <span><span>(int32, <a href="#type-int32_elt">int32_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></div><div class="spec-doc"><p>See <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-char"><code>Bigarray.char</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int64"><a href="#val-int64" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-int64" class="source_link">Source</a><code><span><span class="keyword">val</span> int64 : <span><span>(int64, <a href="#type-int64_elt">int64_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></div><div class="spec-doc"><p>See <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-char"><code>Bigarray.char</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-nativeint"><a href="#val-nativeint" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-nativeint" class="source_link">Source</a><code><span><span class="keyword">val</span> nativeint : <span><span>(nativeint, <a href="#type-nativeint_elt">nativeint_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></div><div class="spec-doc"><p>See <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-char"><code>Bigarray.char</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-char"><a href="#val-char" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-char" class="source_link">Source</a><code><span><span class="keyword">val</span> char : <span><span>(char, <a href="#type-int8_unsigned_elt">int8_unsigned_elt</a>)</span> <a href="#type-kind">kind</a></span></span></code></div><div class="spec-doc"><p>As shown by the types of the values above, Bigarrays of kind <code>float16_elt</code>, <code>float32_elt</code> and <code>float64_elt</code> are accessed using the OCaml type <code>float</code>. Bigarrays of complex kinds <code>complex32_elt</code>, <code>complex64_elt</code> are accessed with the OCaml type <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Complex/index.html#type-t"><code>Complex.t</code></a>. Bigarrays of integer kinds are accessed using the smallest OCaml integer type large enough to represent the array elements: <code>int</code> for 8- and 16-bit integer Bigarrays, as well as OCaml-integer Bigarrays; <code>int32</code> for 32-bit integer Bigarrays; <code>int64</code> for 64-bit integer Bigarrays; and <code>nativeint</code> for platform-native integer Bigarrays. Finally, Bigarrays of kind <code>int8_unsigned_elt</code> can also be accessed as arrays of characters instead of arrays of small integers, by using the kind value <code>char</code> instead of <code>int8_unsigned</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-kind_size_in_bytes"><a href="#val-kind_size_in_bytes" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-kind_size_in_bytes" class="source_link">Source</a><code><span><span class="keyword">val</span> kind_size_in_bytes : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-kind">kind</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>kind_size_in_bytes k</code> is the number of bytes used to store an element of type <code>k</code>.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 4.03</li></ul></div></div><h2 id="array-layouts"><a href="#array-layouts" class="anchor"></a>Array layouts</h2><div class="odoc-spec"><div class="spec type anchored" id="type-c_layout"><a href="#type-c_layout" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-c_layout" class="source_link">Source</a><code><span><span class="keyword">type</span> c_layout</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-c_layout">Bigarray.c_layout</a></span><span> = </span></code><ol><li id="type-c_layout.C_layout_typ" class="def variant constructor anchored"><a href="#type-c_layout.C_layout_typ" class="anchor"></a><code><span>| </span><span><span class="constructor">C_layout_typ</span></span></code></li></ol></div><div class="spec-doc"><p>See <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-fortran_layout"><code>Bigarray.fortran_layout</code></a>.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-fortran_layout"><a href="#type-fortran_layout" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-fortran_layout" class="source_link">Source</a><code><span><span class="keyword">type</span> fortran_layout</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-fortran_layout">Bigarray.fortran_layout</a></span><span> = </span></code><ol><li id="type-fortran_layout.Fortran_layout_typ" class="def variant constructor anchored"><a href="#type-fortran_layout.Fortran_layout_typ" class="anchor"></a><code><span>| </span><span><span class="constructor">Fortran_layout_typ</span></span></code></li></ol></div><div class="spec-doc"><p>To facilitate interoperability with existing C and Fortran code, this library supports two different memory layouts for Bigarrays, one compatible with the C conventions, the other compatible with the Fortran conventions.</p><p>In the C-style layout, array indices start at 0, and multi-dimensional arrays are laid out in row-major format. That is, for a two-dimensional array, all elements of row 0 are contiguous in memory, followed by all elements of row 1, etc. In other terms, the array elements at <code>(x,y)</code> and <code>(x, y+1)</code> are adjacent in memory.</p><p>In the Fortran-style layout, array indices start at 1, and multi-dimensional arrays are laid out in column-major format. That is, for a two-dimensional array, all elements of column 0 are contiguous in memory, followed by all elements of column 1, etc. In other terms, the array elements at <code>(x,y)</code> and <code>(x+1, y)</code> are adjacent in memory.</p><p>Each layout style is identified at the type level by the phantom types <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-c_layout"><code>Bigarray.c_layout</code></a> and <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-fortran_layout"><code>Bigarray.fortran_layout</code></a> respectively.</p></div></div><h3 id="supported-layouts"><a href="#supported-layouts" class="anchor"></a>Supported layouts</h3><p>The GADT type <code>'a layout</code> represents one of the two supported memory layouts: C-style or Fortran-style. Its constructors are re-exported as values below for backward-compatibility reasons.</p><div class="odoc-spec"><div class="spec type anchored" id="type-layout"><a href="#type-layout" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#type-layout" class="source_link">Source</a><code><span><span class="keyword">type</span> <span>'a layout</span></span><span> = <span><span class="type-var">'a</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#type-layout">Bigarray.layout</a></span></span><span> = </span></code><ol><li id="type-layout.C_layout" class="def variant constructor anchored"><a href="#type-layout.C_layout" class="anchor"></a><code><span>| </span><span><span class="constructor">C_layout</span> : <span><a href="#type-c_layout">c_layout</a> <a href="#type-layout">layout</a></span></span></code></li><li id="type-layout.Fortran_layout" class="def variant constructor anchored"><a href="#type-layout.Fortran_layout" class="anchor"></a><code><span>| </span><span><span class="constructor">Fortran_layout</span> : <span><a href="#type-fortran_layout">fortran_layout</a> <a href="#type-layout">layout</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-c_layout"><a href="#val-c_layout" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-c_layout" class="source_link">Source</a><code><span><span class="keyword">val</span> c_layout : <span><a href="#type-c_layout">c_layout</a> <a href="#type-layout">layout</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fortran_layout"><a href="#val-fortran_layout" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-fortran_layout" class="source_link">Source</a><code><span><span class="keyword">val</span> fortran_layout : <span><a href="#type-fortran_layout">fortran_layout</a> <a href="#type-layout">layout</a></span></span></code></div></div><h2 id="generic-arrays-(of-arbitrarily-many-dimensions)"><a href="#generic-arrays-(of-arbitrarily-many-dimensions)" class="anchor"></a>Generic arrays (of arbitrarily many dimensions)</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Genarray"><a href="#module-Genarray" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#module-Genarray" class="source_link">Source</a><code><span><span class="keyword">module</span> Genarray</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html">Bigarray.Genarray</a></span></code></div></div><h2 id="zero-dimensional-arrays"><a href="#zero-dimensional-arrays" class="anchor"></a>Zero-dimensional arrays</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Array0"><a href="#module-Array0" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#module-Array0" class="source_link">Source</a><code><span><span class="keyword">module</span> Array0</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array0/index.html">Bigarray.Array0</a></span></code></div><div class="spec-doc"><p>Zero-dimensional arrays. The <code>Array0</code> structure provides operations similar to those of <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html"><code>Bigarray.Genarray</code></a>, but specialized to the case of zero-dimensional arrays that only contain a single scalar value. Statically knowing the number of dimensions of the array allows faster operations, and more precise static type-checking.</p></div></div><h2 id="one-dimensional-arrays"><a href="#one-dimensional-arrays" class="anchor"></a>One-dimensional arrays</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Array1"><a href="#module-Array1" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#module-Array1" class="source_link">Source</a><code><span><span class="keyword">module</span> Array1</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array1/index.html">Bigarray.Array1</a></span></code></div><div class="spec-doc"><p>One-dimensional arrays. The <code>Array1</code> structure provides operations similar to those of <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html"><code>Bigarray.Genarray</code></a>, but specialized to the case of one-dimensional arrays. (The <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array2/index.html"><code>Array2</code></a> and <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array3/index.html"><code>Array3</code></a> structures below provide operations specialized for two- and three-dimensional arrays.) Statically knowing the number of dimensions of the array allows faster operations, and more precise static type-checking.</p></div></div><h2 id="two-dimensional-arrays"><a href="#two-dimensional-arrays" class="anchor"></a>Two-dimensional arrays</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Array2"><a href="#module-Array2" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#module-Array2" class="source_link">Source</a><code><span><span class="keyword">module</span> Array2</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array2/index.html">Bigarray.Array2</a></span></code></div><div class="spec-doc"><p>Two-dimensional arrays. The <code>Array2</code> structure provides operations similar to those of <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html"><code>Bigarray.Genarray</code></a>, but specialized to the case of two-dimensional arrays.</p></div></div><h2 id="three-dimensional-arrays"><a href="#three-dimensional-arrays" class="anchor"></a>Three-dimensional arrays</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Array3"><a href="#module-Array3" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#module-Array3" class="source_link">Source</a><code><span><span class="keyword">module</span> Array3</span><span> = <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array3/index.html">Bigarray.Array3</a></span></code></div><div class="spec-doc"><p>Three-dimensional arrays. The <code>Array3</code> structure provides operations similar to those of <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html"><code>Bigarray.Genarray</code></a>, but specialized to the case of three-dimensional arrays.</p></div></div><h2 id="coercions-between-generic-bigarrays-and-fixed-dimension-bigarrays"><a href="#coercions-between-generic-bigarrays-and-fixed-dimension-bigarrays" class="anchor"></a>Coercions between generic Bigarrays and fixed-dimension Bigarrays</h2><div class="odoc-spec"><div class="spec value external anchored" id="val-genarray_of_array0"><a href="#val-genarray_of_array0" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-genarray_of_array0" class="source_link">Source</a><code><span><span class="keyword">val</span> genarray_of_array0 : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array0/index.html#type-t">Array0.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html#type-t">Genarray.t</a></span></span></code></div><div class="spec-doc"><p>Return the generic Bigarray corresponding to the given zero-dimensional Bigarray.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 4.05</li></ul></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-genarray_of_array1"><a href="#val-genarray_of_array1" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-genarray_of_array1" class="source_link">Source</a><code><span><span class="keyword">val</span> genarray_of_array1 : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array1/index.html#type-t">Array1.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html#type-t">Genarray.t</a></span></span></code></div><div class="spec-doc"><p>Return the generic Bigarray corresponding to the given one-dimensional Bigarray.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-genarray_of_array2"><a href="#val-genarray_of_array2" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-genarray_of_array2" class="source_link">Source</a><code><span><span class="keyword">val</span> genarray_of_array2 : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array2/index.html#type-t">Array2.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html#type-t">Genarray.t</a></span></span></code></div><div class="spec-doc"><p>Return the generic Bigarray corresponding to the given two-dimensional Bigarray.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-genarray_of_array3"><a href="#val-genarray_of_array3" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-genarray_of_array3" class="source_link">Source</a><code><span><span class="keyword">val</span> genarray_of_array3 : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array3/index.html#type-t">Array3.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html#type-t">Genarray.t</a></span></span></code></div><div class="spec-doc"><p>Return the generic Bigarray corresponding to the given three-dimensional Bigarray.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-array0_of_genarray"><a href="#val-array0_of_genarray" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-array0_of_genarray" class="source_link">Source</a><code><span><span class="keyword">val</span> array0_of_genarray : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html#type-t">Genarray.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array0/index.html#type-t">Array0.t</a></span></span></code></div><div class="spec-doc"><p>Return the zero-dimensional Bigarray corresponding to the given generic Bigarray.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/index.html#exception-Invalid_argument"><code>Invalid_argument</code></a> <p>if the generic Bigarray does not have exactly zero dimension.</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 4.05</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-array1_of_genarray"><a href="#val-array1_of_genarray" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-array1_of_genarray" class="source_link">Source</a><code><span><span class="keyword">val</span> array1_of_genarray : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html#type-t">Genarray.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array1/index.html#type-t">Array1.t</a></span></span></code></div><div class="spec-doc"><p>Return the one-dimensional Bigarray corresponding to the given generic Bigarray.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/index.html#exception-Invalid_argument"><code>Invalid_argument</code></a> <p>if the generic Bigarray does not have exactly one dimension.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-array2_of_genarray"><a href="#val-array2_of_genarray" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-array2_of_genarray" class="source_link">Source</a><code><span><span class="keyword">val</span> array2_of_genarray : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html#type-t">Genarray.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array2/index.html#type-t">Array2.t</a></span></span></code></div><div class="spec-doc"><p>Return the two-dimensional Bigarray corresponding to the given generic Bigarray.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/index.html#exception-Invalid_argument"><code>Invalid_argument</code></a> <p>if the generic Bigarray does not have exactly two dimensions.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-array3_of_genarray"><a href="#val-array3_of_genarray" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-array3_of_genarray" class="source_link">Source</a><code><span><span class="keyword">val</span> array3_of_genarray : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html#type-t">Genarray.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array3/index.html#type-t">Array3.t</a></span></span></code></div><div class="spec-doc"><p>Return the three-dimensional Bigarray corresponding to the given generic Bigarray.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/index.html#exception-Invalid_argument"><code>Invalid_argument</code></a> <p>if the generic Bigarray does not have exactly three dimensions.</p></li></ul></div></div><h2 id="re-shaping-bigarrays"><a href="#re-shaping-bigarrays" class="anchor"></a>Re-shaping Bigarrays</h2><div class="odoc-spec"><div class="spec value anchored" id="val-reshape"><a href="#val-reshape" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-reshape" class="source_link">Source</a><code><span><span class="keyword">val</span> reshape : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html#type-t">Genarray.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html#type-t">Genarray.t</a></span></span></code></div><div class="spec-doc"><p><code>reshape b [|d1;...;dN|]</code> converts the Bigarray <code>b</code> to a <code>N</code>-dimensional array of dimensions <code>d1</code>...<code>dN</code>. The returned array and the original array <code>b</code> share their data and have the same layout. For instance, assuming that <code>b</code> is a one-dimensional array of dimension 12, <code>reshape b [|3;4|]</code> returns a two-dimensional array <code>b'</code> of dimensions 3 and 4. If <code>b</code> has C layout, the element <code>(x,y)</code> of <code>b'</code> corresponds to the element <code>x * 3 + y</code> of <code>b</code>. If <code>b</code> has Fortran layout, the element <code>(x,y)</code> of <code>b'</code> corresponds to the element <code>x + (y - 1) * 4</code> of <code>b</code>. The returned Bigarray must have exactly the same number of elements as the original Bigarray <code>b</code>. That is, the product of the dimensions of <code>b</code> must be equal to <code>i1 * ... * iN</code>. Otherwise, <code>Invalid_argument</code> is raised.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-reshape_0"><a href="#val-reshape_0" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-reshape_0" class="source_link">Source</a><code><span><span class="keyword">val</span> reshape_0 : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html#type-t">Genarray.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array0/index.html#type-t">Array0.t</a></span></span></code></div><div class="spec-doc"><p>Specialized version of <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-reshape"><code>Bigarray.reshape</code></a> for reshaping to zero-dimensional arrays.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 4.05</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-reshape_1"><a href="#val-reshape_1" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-reshape_1" class="source_link">Source</a><code><span><span class="keyword">val</span> reshape_1 : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html#type-t">Genarray.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array1/index.html#type-t">Array1.t</a></span></span></code></div><div class="spec-doc"><p>Specialized version of <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-reshape"><code>Bigarray.reshape</code></a> for reshaping to one-dimensional arrays.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-reshape_2"><a href="#val-reshape_2" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-reshape_2" class="source_link">Source</a><code><span><span class="keyword">val</span> reshape_2 : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html#type-t">Genarray.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array2/index.html#type-t">Array2.t</a></span></span></code></div><div class="spec-doc"><p>Specialized version of <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-reshape"><code>Bigarray.reshape</code></a> for reshaping to two-dimensional arrays.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-reshape_3"><a href="#val-reshape_3" class="anchor"></a><a href="../../../ocaml-base-compiler/src/stdlib/bigarray.ml.html#val-reshape_3" class="source_link">Source</a><code><span><span class="keyword">val</span> reshape_3 : 
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Genarray/index.html#type-t">Genarray.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/Array3/index.html#type-t">Array3.t</a></span></span></code></div><div class="spec-doc"><p>Specialized version of <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Bigarray/index.html#val-reshape"><code>Bigarray.reshape</code></a> for reshaping to three-dimensional arrays.</p></div></div><h2 id="bigarray_concurrency"><a href="#bigarray_concurrency" class="anchor"></a>Bigarrays and concurrency safety</h2><p>Care must be taken when concurrently accessing bigarrays from multiple domains: accessing a bigarray will never crash a program, but unsynchronized accesses might yield surprising (non-sequentially-consistent) results.</p><h3 id="bigarray_atomicity"><a href="#bigarray_atomicity" class="anchor"></a>Atomicity</h3><p>Every bigarray operation that accesses more than one array element is not atomic. This includes slicing, bliting, and filling bigarrays.</p><p>For example, consider the following program:</p><pre class="language-ocaml"><code>open Bigarray
let size = 100_000_000
let a = Array1.init Int C_layout size (fun _ -&gt; 1)
let update f a () =
  for i = 0 to size - 1 do a.{i} &lt;- f a.{i} done
let d1 = Domain.spawn (update (fun x -&gt; x + 1) a)
let d2 = Domain.spawn (update (fun x -&gt; 2 * x + 1) a)
let () = Domain.join d1; Domain.join d2</code></pre><p>After executing this code, each field of the bigarray <code>a</code> is either <code>2</code>, <code>3</code>, <code>4</code> or <code>5</code>. If atomicity is required, then the user must implement their own synchronization (for example, using <a href="../../../ocaml-base-compiler/stdlib/Stdlib/Mutex/index.html#type-t"><code>Mutex.t</code></a>).</p><h3 id="bigarray_data_race"><a href="#bigarray_data_race" class="anchor"></a>Data races</h3><p>If two domains only access disjoint parts of the bigarray, then the observed behaviour is the equivalent to some sequential interleaving of the operations from the two domains.</p><p>A data race is said to occur when two domains access the same bigarray element without synchronization and at least one of the accesses is a write. In the absence of data races, the observed behaviour is equivalent to some sequential interleaving of the operations from different domains.</p><p>Whenever possible, data races should be avoided by using synchronization to mediate the accesses to the bigarray elements.</p><p>Indeed, in the presence of data races, programs will not crash but the observed behaviour may not be equivalent to any sequential interleaving of operations from different domains.</p><h3 id="bigarrarray_data_race_tearing"><a href="#bigarrarray_data_race_tearing" class="anchor"></a>Tearing</h3><p>Bigarrays have a distinct caveat in the presence of data races: concurrent bigarray operations might produce surprising values due to tearing. More precisely, the interleaving of partial writes and reads might create values that would not exist with a sequential execution. For instance, at the end of</p><pre class="language-ocaml"><code>let res = Array1.init Complex64 c_layout size (fun _ -&gt; Complex.zero)
let d1 = Domain.spawn (fun () -&gt; Array1.fill res Complex.one)
let d2 = Domain.spawn (fun () -&gt; Array1.fill res Complex.i)
let () = Domain.join d1; Domain.join d2</code></pre><p>the <code>res</code> bigarray might contain values that are neither <code>Complex.i</code> nor <code>Complex.one</code> (for instance <code>1 + i</code>).</p></details></div></div></body></html>
