<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>OPAM (opam-format.opam-format.OpamFile.OPAM)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.css"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../../../../';
let search_urls = ['../../../sherlodoc_db.js','../../../../sherlodoc.js'];
</script><script src="../../../../odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> ‚Äì <a href="../../../../index.html">üè†</a> &#x00BB; <a href="../../../index.html">opam-format</a> &#x00BB; Library <code>opam-format</code> &#x00BB; <a href="../index.html">OpamFile</a> &#x00BB; OPAM</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="üîé Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1>Module <code><span>OpamFile.OPAM</span></code><a href="../../../src/opam-format/opamFile.ml.html#module-OPAM" class="source_link">Source</a></h1><p>OPAM files</p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-global-toc"><ul><li><a href="../../../index.html">opam-format</a><ul><li>Library <code>opam-format</code><ul><li><a href="../index.html">OpamFile</a><ul><li><a href="../module-type-IO_FILE/index.html">IO_FILE</a></li><li><a href="../module-type-BestEffortRead/index.html">BestEffortRead</a></li><li><a href="../Lines/index.html">Lines</a></li><li><a href="../Wrappers/index.html">Wrappers</a></li><li><a href="../Config/index.html">Config</a></li><li><a href="../InitConfig/index.html">InitConfig</a></li><li><a href="../Descr/index.html">Descr</a></li><li><a href="../URL/index.html">URL</a></li><li><a href="#" class="current_unit">OPAM</a></li><li><a href="../Aliases/index.html">Aliases</a></li><li><a href="../LegacyState/index.html">LegacyState</a></li><li><a href="../SwitchSelections/index.html">SwitchSelections</a></li><li><a href="../SwitchExport/index.html">SwitchExport</a></li><li><a href="../PkgList/index.html">PkgList</a></li><li><a href="../Environment/index.html">Environment</a></li><li><a href="../Comp/index.html">Comp</a></li><li><a href="../Dot_install/index.html">Dot_install</a></li><li><a href="../Changes/index.html">Changes</a></li><li><a href="../Dot_config/index.html">Dot_config</a></li><li><a href="../Package_index/index.html">Package_index</a></li><li><a href="../Repo_config_legacy/index.html">Repo_config_legacy</a></li><li><a href="../Repos_config/index.html">Repos_config</a></li><li><a href="../Switch_config/index.html">Switch_config</a></li><li><a href="../Pinned_legacy/index.html">Pinned_legacy</a></li><li><a href="../Repo/index.html">Repo</a></li><li><a href="../File_attributes/index.html">File_attributes</a></li><li><a href="../Stats/index.html">Stats</a></li><li><a href="../Syntax/index.html">Syntax</a></li></ul></li><li><a href="../../OpamFilter/index.html">OpamFilter</a></li><li><a href="../../OpamFormat/index.html">OpamFormat</a></li><li><a href="../../OpamFormatConfig/index.html">OpamFormatConfig</a></li><li><a href="../../OpamFormula/index.html">OpamFormula</a></li><li><a href="../../OpamInterpLexer/index.html">OpamInterpLexer</a></li><li><a href="../../OpamLineLexer/index.html">OpamLineLexer</a></li><li><a href="../../OpamPackage/index.html">OpamPackage</a></li><li><a href="../../OpamPath/index.html">OpamPath</a></li><li><a href="../../OpamPp/index.html">OpamPp</a></li><li><a href="../../OpamRepositoryName/index.html">OpamRepositoryName</a></li><li><a href="../../OpamSwitch/index.html">OpamSwitch</a></li><li><a href="../../OpamSysPkg/index.html">OpamSysPkg</a></li><li><a href="../../OpamTypes/index.html">OpamTypes</a></li><li><a href="../../OpamTypesBase/index.html">OpamTypesBase</a></li><li><a href="../../OpamVariable/index.html">OpamVariable</a></li></ul></li><li><a href="../../../src/index.html">Sources</a></li></ul></li></ul></nav></div><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.type-t" class="source_link">Source</a><code><span><span class="keyword">type</span> t</span><span> = <span class="keyword">private</span> </span><span>{</span></code><ol><li id="type-t.opam_version" class="def record field anchored"><a href="#type-t.opam_version" class="anchor"></a><code><span>opam_version : <a href="../../OpamTypes/index.html#type-opam_version">OpamTypes.opam_version</a>;</span></code></li><li id="type-t.name" class="def record field anchored"><a href="#type-t.name" class="anchor"></a><code><span>name : <span><a href="../../OpamTypes/index.html#type-name">OpamTypes.name</a> option</span>;</span></code></li><li id="type-t.version" class="def record field anchored"><a href="#type-t.version" class="anchor"></a><code><span>version : <span><a href="../../OpamTypes/index.html#type-version">OpamTypes.version</a> option</span>;</span></code></li><li id="type-t.depends" class="def record field anchored"><a href="#type-t.depends" class="anchor"></a><code><span>depends : <a href="../../OpamTypes/index.html#type-filtered_formula">OpamTypes.filtered_formula</a>;</span></code></li><li id="type-t.depopts" class="def record field anchored"><a href="#type-t.depopts" class="anchor"></a><code><span>depopts : <a href="../../OpamTypes/index.html#type-filtered_formula">OpamTypes.filtered_formula</a>;</span></code></li><li id="type-t.conflicts" class="def record field anchored"><a href="#type-t.conflicts" class="anchor"></a><code><span>conflicts : <a href="../../OpamTypes/index.html#type-filtered_formula">OpamTypes.filtered_formula</a>;</span></code></li><li id="type-t.conflict_class" class="def record field anchored"><a href="#type-t.conflict_class" class="anchor"></a><code><span>conflict_class : <span><a href="../../OpamTypes/index.html#type-name">OpamTypes.name</a> list</span>;</span></code></li><li id="type-t.available" class="def record field anchored"><a href="#type-t.available" class="anchor"></a><code><span>available : <a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a>;</span></code></li><li id="type-t.flags" class="def record field anchored"><a href="#type-t.flags" class="anchor"></a><code><span>flags : <span><a href="../../OpamTypes/index.html#type-package_flag">OpamTypes.package_flag</a> list</span>;</span></code></li><li id="type-t.env" class="def record field anchored"><a href="#type-t.env" class="anchor"></a><code><span>env : <span><span><span>(<a href="../../OpamTypes/index.html#type-spf_unresolved">OpamTypes.spf_unresolved</a>, <a href="../../OpamTypes/index.html#type-euok_writeable">OpamTypes.euok_writeable</a>)</span> <a href="../../OpamTypes/index.html#type-env_update">OpamTypes.env_update</a></span>
        list</span>;</span></code></li><li id="type-t.build" class="def record field anchored"><a href="#type-t.build" class="anchor"></a><code><span>build : <span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span>;</span></code></li><li id="type-t.run_test" class="def record field anchored"><a href="#type-t.run_test" class="anchor"></a><code><span>run_test : <span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span>;</span></code></li><li id="type-t.install" class="def record field anchored"><a href="#type-t.install" class="anchor"></a><code><span>install : <span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span>;</span></code></li><li id="type-t.remove" class="def record field anchored"><a href="#type-t.remove" class="anchor"></a><code><span>remove : <span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span>;</span></code></li><li id="type-t.substs" class="def record field anchored"><a href="#type-t.substs" class="anchor"></a><code><span>substs : <span><a href="../../OpamTypes/index.html#type-basename">OpamTypes.basename</a> list</span>;</span></code></li><li id="type-t.patches" class="def record field anchored"><a href="#type-t.patches" class="anchor"></a><code><span>patches : <span><span>(<a href="../../OpamTypes/index.html#type-basename">OpamTypes.basename</a> * <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> option</span>)</span> list</span>;</span></code></li><li id="type-t.build_env" class="def record field anchored"><a href="#type-t.build_env" class="anchor"></a><code><span>build_env : <span><span><span>(<a href="../../OpamTypes/index.html#type-spf_unresolved">OpamTypes.spf_unresolved</a>, <a href="../../OpamTypes/index.html#type-euok_writeable">OpamTypes.euok_writeable</a>)</span>
              <a href="../../OpamTypes/index.html#type-env_update">OpamTypes.env_update</a></span>
              list</span>;</span></code></li><li id="type-t.features" class="def record field anchored"><a href="#type-t.features" class="anchor"></a><code><span>features : <span><span>(<a href="../../OpamVariable/index.html#type-t">OpamVariable.t</a> * <a href="../../OpamTypes/index.html#type-filtered_formula">OpamTypes.filtered_formula</a> * string)</span> list</span>;</span></code></li><li id="type-t.extra_sources" class="def record field anchored"><a href="#type-t.extra_sources" class="anchor"></a><code><span>extra_sources : <span><span>(<a href="../../OpamTypes/index.html#type-basename">OpamTypes.basename</a> * <a href="../URL/index.html#type-t">URL.t</a>)</span> list</span>;</span></code></li><li id="type-t.messages" class="def record field anchored"><a href="#type-t.messages" class="anchor"></a><code><span>messages : <span><span>(string * <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> option</span>)</span> list</span>;</span></code></li><li id="type-t.post_messages" class="def record field anchored"><a href="#type-t.post_messages" class="anchor"></a><code><span>post_messages : <span><span>(string * <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> option</span>)</span> list</span>;</span></code></li><li id="type-t.depexts" class="def record field anchored"><a href="#type-t.depexts" class="anchor"></a><code><span>depexts : <span><span>(<a href="../../OpamSysPkg/Set/index.html#type-t">OpamSysPkg.Set.t</a> * <a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a>)</span> list</span>;</span></code></li><li id="type-t.libraries" class="def record field anchored"><a href="#type-t.libraries" class="anchor"></a><code><span>libraries : <span><span>(string * <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> option</span>)</span> list</span>;</span></code></li><li id="type-t.syntax" class="def record field anchored"><a href="#type-t.syntax" class="anchor"></a><code><span>syntax : <span><span>(string * <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> option</span>)</span> list</span>;</span></code></li><li id="type-t.dev_repo" class="def record field anchored"><a href="#type-t.dev_repo" class="anchor"></a><code><span>dev_repo : <span><a href="../../OpamTypes/index.html#type-url">OpamTypes.url</a> option</span>;</span></code></li><li id="type-t.pin_depends" class="def record field anchored"><a href="#type-t.pin_depends" class="anchor"></a><code><span>pin_depends : <span><span>(<a href="../../OpamTypes/index.html#type-package">OpamTypes.package</a> * <a href="../../OpamTypes/index.html#type-url">OpamTypes.url</a>)</span> list</span>;</span></code></li><li id="type-t.maintainer" class="def record field anchored"><a href="#type-t.maintainer" class="anchor"></a><code><span>maintainer : <span>string list</span>;</span></code></li><li id="type-t.author" class="def record field anchored"><a href="#type-t.author" class="anchor"></a><code><span>author : <span>string list</span>;</span></code></li><li id="type-t.license" class="def record field anchored"><a href="#type-t.license" class="anchor"></a><code><span>license : <span>string list</span>;</span></code></li><li id="type-t.tags" class="def record field anchored"><a href="#type-t.tags" class="anchor"></a><code><span>tags : <span>string list</span>;</span></code></li><li id="type-t.homepage" class="def record field anchored"><a href="#type-t.homepage" class="anchor"></a><code><span>homepage : <span>string list</span>;</span></code></li><li id="type-t.doc" class="def record field anchored"><a href="#type-t.doc" class="anchor"></a><code><span>doc : <span>string list</span>;</span></code></li><li id="type-t.bug_reports" class="def record field anchored"><a href="#type-t.bug_reports" class="anchor"></a><code><span>bug_reports : <span>string list</span>;</span></code></li><li id="type-t.extensions" class="def record field anchored"><a href="#type-t.extensions" class="anchor"></a><code><span>extensions : <span><a href="../../../../opam-file-format/opam-file-format/OpamParserTypes/FullPos/index.html#type-value">OpamParserTypes.FullPos.value</a> <a href="../../../../opam-core/opam-core/OpamStd/String/Map/index.html#type-t">OpamStd.String.Map.t</a></span>;</span></code></li><li id="type-t.url" class="def record field anchored"><a href="#type-t.url" class="anchor"></a><code><span>url : <span><a href="../URL/index.html#type-t">URL.t</a> option</span>;</span></code></li><li id="type-t.descr" class="def record field anchored"><a href="#type-t.descr" class="anchor"></a><code><span>descr : <span><a href="../Descr/index.html#type-t">Descr.t</a> option</span>;</span></code></li><li id="type-t.metadata_dir" class="def record field anchored"><a href="#type-t.metadata_dir" class="anchor"></a><code><span>metadata_dir : <span><span>(<span><a href="../../OpamTypes/index.html#type-repository_name">OpamTypes.repository_name</a> option</span> * string)</span> option</span>;</span></code></li><li id="type-t.extra_files" class="def record field anchored"><a href="#type-t.extra_files" class="anchor"></a><code><span>extra_files : <span><span><span>(<a href="../../../../opam-core/opam-core/OpamFilename/Base/index.html#type-t">OpamFilename.Base.t</a> * <a href="../../../../opam-core/opam-core/OpamHash/index.html#type-t">OpamHash.t</a>)</span> list</span> option</span>;</span></code></li><li id="type-t.locked" class="def record field anchored"><a href="#type-t.locked" class="anchor"></a><code><span>locked : <span>string option</span>;</span></code></li><li id="type-t.format_errors" class="def record field anchored"><a href="#type-t.format_errors" class="anchor"></a><code><span>format_errors : <span><span>(string * <a href="../../OpamPp/index.html#type-bad_format">OpamPp.bad_format</a>)</span> list</span>;</span></code></li><li id="type-t.ocaml_version" class="def record field anchored"><a href="#type-t.ocaml_version" class="anchor"></a><code><span>ocaml_version : <span><span><span>(<a href="../../OpamFormula/index.html#type-relop">OpamFormula.relop</a> * string)</span> <a href="../../OpamFormula/index.html#type-formula">OpamFormula.formula</a></span> option</span>;</span></code></li><li id="type-t.os" class="def record field anchored"><a href="#type-t.os" class="anchor"></a><code><span>os : <span><span>(bool * string)</span> <a href="../../OpamTypes/index.html#type-generic_formula">OpamTypes.generic_formula</a></span>;</span></code></li><li id="type-t.deprecated_build_test" class="def record field anchored"><a href="#type-t.deprecated_build_test" class="anchor"></a><code><span>deprecated_build_test : <span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span>;</span></code></li><li id="type-t.deprecated_build_doc" class="def record field anchored"><a href="#type-t.deprecated_build_doc" class="anchor"></a><code><span>deprecated_build_doc : <span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../module-type-IO_FILE/index.html">IO_FILE</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../module-type-IO_FILE/index.html#type-t">t</a> := <a href="#type-t">t</a></span></span></code></summary><div class="odoc-spec"><div class="spec value anchored" id="val-format_version"><a href="#val-format_version" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-format_version" class="source_link">Source</a><code><span><span class="keyword">val</span> format_version : <a href="../../../../opam-core/opam-core/OpamVersion/index.html#type-t">OpamVersion.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-write"><a href="#val-write" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-MakeIO.val-write" class="source_link">Source</a><code><span><span class="keyword">val</span> write : <span><span><a href="#type-t">t</a> <a href="../index.html#type-typed_file">typed_file</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Write some contents to a file</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read"><a href="#val-read" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-MakeIO.val-read" class="source_link">Source</a><code><span><span class="keyword">val</span> read : <span><span><a href="#type-t">t</a> <a href="../index.html#type-typed_file">typed_file</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Read file contents. Raise an error if the file does not exist.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_opt"><a href="#val-read_opt" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-MakeIO.val-read_opt" class="source_link">Source</a><code><span><span class="keyword">val</span> read_opt : <span><span><a href="#type-t">t</a> <a href="../index.html#type-typed_file">typed_file</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> option</span></span></code></div><div class="spec-doc"><p>Returns <code>None</code> on non-existing file</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-safe_read"><a href="#val-safe_read" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-MakeIO.val-safe_read" class="source_link">Source</a><code><span><span class="keyword">val</span> safe_read : <span><span><a href="#type-t">t</a> <a href="../index.html#type-typed_file">typed_file</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Read file contents. Return <code>empty</code> if the file does not exist.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_from_channel"><a href="#val-read_from_channel" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-MakeIO.val-read_from_channel" class="source_link">Source</a><code><span><span class="keyword">val</span> read_from_channel : <span><span class="optlabel">?filename</span>:<span><a href="#type-t">t</a> <a href="../index.html#type-typed_file">typed_file</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../ocaml-base-compiler/stdlib/Stdlib/index.html#type-in_channel">in_channel</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_from_string"><a href="#val-read_from_string" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-MakeIO.val-read_from_string" class="source_link">Source</a><code><span><span class="keyword">val</span> read_from_string : <span><span class="optlabel">?filename</span>:<span><a href="#type-t">t</a> <a href="../index.html#type-typed_file">typed_file</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-write_to_channel"><a href="#val-write_to_channel" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-MakeIO.val-write_to_channel" class="source_link">Source</a><code><span><span class="keyword">val</span> write_to_channel : <span><span class="optlabel">?filename</span>:<span><a href="#type-t">t</a> <a href="../index.html#type-typed_file">typed_file</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../ocaml-base-compiler/stdlib/Stdlib/index.html#type-out_channel">out_channel</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-write_to_string"><a href="#val-write_to_string" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-MakeIO.val-write_to_string" class="source_link">Source</a><code><span><span class="keyword">val</span> write_to_string : <span><span class="optlabel">?filename</span>:<span><a href="#type-t">t</a> <a href="../index.html#type-typed_file">typed_file</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div></details></div><div class="odoc-spec"><div class="spec value anchored" id="val-empty"><a href="#val-empty" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-empty" class="source_link">Source</a><code><span><span class="keyword">val</span> empty : <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create"><a href="#val-create" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-create" class="source_link">Source</a><code><span><span class="keyword">val</span> create : <span><a href="../../OpamTypes/index.html#type-package">OpamTypes.package</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Create an opam file</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-effective_part"><a href="#val-effective_part" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAM.val-effective_part" class="source_link">Source</a><code><span><span class="keyword">val</span> effective_part : <span><span class="optlabel">?modulo_state</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Returns the opam value (including url, descr) with all non-effective (i.e. user-directed information that doesn't change opam's view on the package) fields set to their empty values. Useful for comparisons.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">?modulo_state</span> <p>if <code>true</code>, eliminates the fields relying on the state of the switch (depends, available, ‚Ä¶). This is <code>false</code> by default.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-effectively_equal"><a href="#val-effectively_equal" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAM.val-effectively_equal" class="source_link">Source</a><code><span><span class="keyword">val</span> effectively_equal : <span><span class="optlabel">?modulo_state</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Returns true if the effective parts of the two package definitions are equal.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">?modulo_state</span> <p>if <code>true</code>, considers the fields relying on the state of the switch (depends, available, ‚Ä¶) equal. This is <code>false</code> by default</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-equal"><a href="#val-equal" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAM.val-equal" class="source_link">Source</a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Compares two package definitions, ignoring the virtual fields bound to file location (<code>metadata_dir</code>...)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_errors"><a href="#val-print_errors" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAM.val-print_errors" class="source_link">Source</a><code><span><span class="keyword">val</span> print_errors : <span><span class="optlabel">?file</span>:<span><a href="#type-t">t</a> <a href="../index.html#type-typed_file">typed_file</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Prints the format errors that were found when the file was read</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-opam_version"><a href="#val-opam_version" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-opam_version" class="source_link">Source</a><code><span><span class="keyword">val</span> opam_version : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../OpamTypes/index.html#type-opam_version">OpamTypes.opam_version</a></span></code></div><div class="spec-doc"><p>Get OPAM version.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-name"><a href="#val-name" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-name" class="source_link">Source</a><code><span><span class="keyword">val</span> name : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../OpamTypes/index.html#type-name">OpamTypes.name</a></span></code></div><div class="spec-doc"><p>Package name</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-name_opt"><a href="#val-name_opt" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-name_opt" class="source_link">Source</a><code><span><span class="keyword">val</span> name_opt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../OpamTypes/index.html#type-name">OpamTypes.name</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-version"><a href="#val-version" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-version" class="source_link">Source</a><code><span><span class="keyword">val</span> version : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../OpamTypes/index.html#type-version">OpamTypes.version</a></span></code></div><div class="spec-doc"><p>Package version</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-version_opt"><a href="#val-version_opt" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-version_opt" class="source_link">Source</a><code><span><span class="keyword">val</span> version_opt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../OpamTypes/index.html#type-version">OpamTypes.version</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-package"><a href="#val-package" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-package" class="source_link">Source</a><code><span><span class="keyword">val</span> package : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../OpamTypes/index.html#type-package">OpamTypes.package</a></span></code></div><div class="spec-doc"><p>The informations in both the name and version fields, as a package</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-available"><a href="#val-available" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-available" class="source_link">Source</a><code><span><span class="keyword">val</span> available : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a></span></code></div><div class="spec-doc"><p>Availability formula (OS + compiler constraints)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-maintainer"><a href="#val-maintainer" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-maintainer" class="source_link">Source</a><code><span><span class="keyword">val</span> maintainer : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>Package maintainer(s)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-substs"><a href="#val-substs" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-substs" class="source_link">Source</a><code><span><span class="keyword">val</span> substs : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../OpamTypes/index.html#type-basename">OpamTypes.basename</a> list</span></span></code></div><div class="spec-doc"><p>File substitutions</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-build_env"><a href="#val-build_env" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-build_env" class="source_link">Source</a><code><span><span class="keyword">val</span> build_env : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../../OpamTypes/index.html#type-spf_unresolved">OpamTypes.spf_unresolved</a>, <span>[&gt; <a href="../../OpamTypes/index.html#type-euok_writeable">OpamTypes.euok_writeable</a> ]</span>)</span>
    <a href="../../OpamTypes/index.html#type-env_update">OpamTypes.env_update</a></span>
    list</span></span></code></div><div class="spec-doc"><p>List of environment variables to set-up for the build</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-build"><a href="#val-build" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-build" class="source_link">Source</a><code><span><span class="keyword">val</span> build : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span></span></code></div><div class="spec-doc"><p>List of command to run for building the package</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-install"><a href="#val-install" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-install" class="source_link">Source</a><code><span><span class="keyword">val</span> install : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span></span></code></div><div class="spec-doc"><p>List of command to run for installing the package</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-remove"><a href="#val-remove" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-remove" class="source_link">Source</a><code><span><span class="keyword">val</span> remove : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span></span></code></div><div class="spec-doc"><p>List of command to run for removing the package</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-depends"><a href="#val-depends" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-depends" class="source_link">Source</a><code><span><span class="keyword">val</span> depends : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../OpamTypes/index.html#type-filtered_formula">OpamTypes.filtered_formula</a></span></code></div><div class="spec-doc"><p>Package dependencies</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-depopts"><a href="#val-depopts" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-depopts" class="source_link">Source</a><code><span><span class="keyword">val</span> depopts : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../OpamTypes/index.html#type-filtered_formula">OpamTypes.filtered_formula</a></span></code></div><div class="spec-doc"><p>Optional dependencies</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-depexts"><a href="#val-depexts" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-depexts" class="source_link">Source</a><code><span><span class="keyword">val</span> depexts : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../OpamSysPkg/Set/index.html#type-t">OpamSysPkg.Set.t</a> * <a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a>)</span> list</span></span></code></div><div class="spec-doc"><p>External dependencies</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-extra_sources"><a href="#val-extra_sources" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-extra_sources" class="source_link">Source</a><code><span><span class="keyword">val</span> extra_sources : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../OpamTypes/index.html#type-basename">OpamTypes.basename</a> * <a href="../URL/index.html#type-t">URL.t</a>)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-extensions"><a href="#val-extensions" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-extensions" class="source_link">Source</a><code><span><span class="keyword">val</span> extensions : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../opam-file-format/opam-file-format/OpamParserTypes/FullPos/index.html#type-value">OpamParserTypes.FullPos.value</a> <a href="../../../../opam-core/opam-core/OpamStd/String/Map/index.html#type-t">OpamStd.String.Map.t</a></span></span></code></div><div class="spec-doc"><p>All extended &quot;x-&quot; fields as a map</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-extended"><a href="#val-extended" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-extended" class="source_link">Source</a><code><span><span class="keyword">val</span> extended : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../../../../opam-file-format/opam-file-format/OpamParserTypes/FullPos/index.html#type-value">OpamParserTypes.FullPos.value</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p>Parse a single extended field (reports proper file position)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_messages"><a href="#val-with_messages" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_messages" class="source_link">Source</a><code><span><span class="keyword">val</span> with_messages : <span><span><span>(string * <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> option</span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_post_messages"><a href="#val-with_post_messages" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_post_messages" class="source_link">Source</a><code><span><span class="keyword">val</span> with_post_messages : <span><span><span>(string * <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> option</span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-conflicts"><a href="#val-conflicts" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-conflicts" class="source_link">Source</a><code><span><span class="keyword">val</span> conflicts : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../OpamTypes/index.html#type-filtered_formula">OpamTypes.filtered_formula</a></span></code></div><div class="spec-doc"><p>Package conflicts</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-conflict_class"><a href="#val-conflict_class" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-conflict_class" class="source_link">Source</a><code><span><span class="keyword">val</span> conflict_class : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../OpamTypes/index.html#type-name">OpamTypes.name</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-features"><a href="#val-features" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-features" class="source_link">Source</a><code><span><span class="keyword">val</span> features : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../OpamVariable/index.html#type-t">OpamVariable.t</a> * <a href="../../OpamTypes/index.html#type-filtered_formula">OpamTypes.filtered_formula</a> * string)</span> list</span></span></code></div><div class="spec-doc"><p>Contents of the 'features' field</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-libraries"><a href="#val-libraries" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-libraries" class="source_link">Source</a><code><span><span class="keyword">val</span> libraries : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(string * <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> option</span>)</span> list</span></span></code></div><div class="spec-doc"><p>List of exported libraries</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-syntax"><a href="#val-syntax" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-syntax" class="source_link">Source</a><code><span><span class="keyword">val</span> syntax : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(string * <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> option</span>)</span> list</span></span></code></div><div class="spec-doc"><p>List of exported syntax extensions</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-patches"><a href="#val-patches" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-patches" class="source_link">Source</a><code><span><span class="keyword">val</span> patches : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../OpamTypes/index.html#type-basename">OpamTypes.basename</a> * <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> option</span>)</span> list</span></span></code></div><div class="spec-doc"><p>Patches</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-homepage"><a href="#val-homepage" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-homepage" class="source_link">Source</a><code><span><span class="keyword">val</span> homepage : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>Homepage(s)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-author"><a href="#val-author" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-author" class="source_link">Source</a><code><span><span class="keyword">val</span> author : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>Author(s)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-license"><a href="#val-license" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-license" class="source_link">Source</a><code><span><span class="keyword">val</span> license : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>License(s)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-doc"><a href="#val-doc" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-doc" class="source_link">Source</a><code><span><span class="keyword">val</span> doc : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>API documentation</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-tags"><a href="#val-tags" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-tags" class="source_link">Source</a><code><span><span class="keyword">val</span> tags : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>Classification tags</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-run_test"><a href="#val-run_test" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-run_test" class="source_link">Source</a><code><span><span class="keyword">val</span> run_test : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span></span></code></div><div class="spec-doc"><p>Commands to build and run the tests</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-deprecated_build_doc"><a href="#val-deprecated_build_doc" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-deprecated_build_doc" class="source_link">Source</a><code><span><span class="keyword">val</span> deprecated_build_doc : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span></span></code></div><div class="spec-doc"><p>Commands to build the documentation</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-deprecated_build_test"><a href="#val-deprecated_build_test" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-deprecated_build_test" class="source_link">Source</a><code><span><span class="keyword">val</span> deprecated_build_test : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span></span></code></div><div class="spec-doc"><p>Commands to build the tests</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-messages"><a href="#val-messages" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-messages" class="source_link">Source</a><code><span><span class="keyword">val</span> messages : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(string * <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> option</span>)</span> list</span></span></code></div><div class="spec-doc"><p>Messages to display before taking action</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-post_messages"><a href="#val-post_messages" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-post_messages" class="source_link">Source</a><code><span><span class="keyword">val</span> post_messages : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(string * <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> option</span>)</span> list</span></span></code></div><div class="spec-doc"><p>Messages to display at end of install</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bug_reports"><a href="#val-bug_reports" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-bug_reports" class="source_link">Source</a><code><span><span class="keyword">val</span> bug_reports : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>Where to post bug reports.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-flags"><a href="#val-flags" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-flags" class="source_link">Source</a><code><span><span class="keyword">val</span> flags : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../OpamTypes/index.html#type-package_flag">OpamTypes.package_flag</a> list</span></span></code></div><div class="spec-doc"><p>The package flags that are present for this package.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-has_flag"><a href="#val-has_flag" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-has_flag" class="source_link">Source</a><code><span><span class="keyword">val</span> has_flag : <span><a href="../../OpamTypes/index.html#type-package_flag">OpamTypes.package_flag</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Check the package for the given flag. Allows flags specified through tags for compatibility</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-env"><a href="#val-env" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-env" class="source_link">Source</a><code><span><span class="keyword">val</span> env : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../../OpamTypes/index.html#type-spf_unresolved">OpamTypes.spf_unresolved</a>, <span>[&gt; <a href="../../OpamTypes/index.html#type-euok_writeable">OpamTypes.euok_writeable</a> ]</span>)</span>
    <a href="../../OpamTypes/index.html#type-env_update">OpamTypes.env_update</a></span>
    list</span></span></code></div><div class="spec-doc"><p>The environment variables that this package exports</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-descr"><a href="#val-descr" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-descr" class="source_link">Source</a><code><span><span class="keyword">val</span> descr : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Descr/index.html#type-t">Descr.t</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-synopsis"><a href="#val-synopsis" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-synopsis" class="source_link">Source</a><code><span><span class="keyword">val</span> synopsis : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-descr_body"><a href="#val-descr_body" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-descr_body" class="source_link">Source</a><code><span><span class="keyword">val</span> descr_body : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-url"><a href="#val-url" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-url" class="source_link">Source</a><code><span><span class="keyword">val</span> url : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../URL/index.html#type-t">URL.t</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_url"><a href="#val-get_url" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-get_url" class="source_link">Source</a><code><span><span class="keyword">val</span> get_url : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../OpamTypes/index.html#type-url">OpamTypes.url</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-metadata_dir"><a href="#val-metadata_dir" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-metadata_dir" class="source_link">Source</a><code><span><span class="keyword">val</span> metadata_dir : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="../../OpamTypes/index.html#type-repository_name">OpamTypes.repository_name</a> option</span> * string)</span> option</span></span></code></div><div class="spec-doc"><p>Related metadata directory (either repository name + relative path, or absolute path; not an actual field of the file, linked to the file location). This can be used to locate e.g. the files/ overlays</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_metadata_dir"><a href="#val-get_metadata_dir" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAM.val-get_metadata_dir" class="source_link">Source</a><code><span><span class="keyword">val</span> get_metadata_dir : 
  <span><span class="label">repos_roots</span>:<span>(<span><a href="../../OpamTypes/index.html#type-repository_name">OpamTypes.repository_name</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../OpamTypes/index.html#type-dirname">OpamTypes.dirname</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../OpamTypes/index.html#type-dirname">OpamTypes.dirname</a> option</span></span></code></div><div class="spec-doc"><p>Gets the resolved metadata dir, given a mapping of repository names to their roots</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-extra_files"><a href="#val-extra_files" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-extra_files" class="source_link">Source</a><code><span><span class="keyword">val</span> extra_files : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="../../../../opam-core/opam-core/OpamFilename/Base/index.html#type-t">OpamFilename.Base.t</a> * <a href="../../../../opam-core/opam-core/OpamHash/index.html#type-t">OpamHash.t</a>)</span> list</span> option</span></span></code></div><div class="spec-doc"><p>Names and hashes of the files below files/</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-locked"><a href="#val-locked" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-locked" class="source_link">Source</a><code><span><span class="keyword">val</span> locked : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p>From locked opam file</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_extra_files"><a href="#val-get_extra_files" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAM.val-get_extra_files" class="source_link">Source</a><code><span><span class="keyword">val</span> get_extra_files : 
  <span><span class="label">repos_roots</span>:<span>(<span><a href="../../OpamTypes/index.html#type-repository_name">OpamTypes.repository_name</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../OpamTypes/index.html#type-dirname">OpamTypes.dirname</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../../OpamTypes/index.html#type-filename">OpamTypes.filename</a> * <a href="../../OpamTypes/index.html#type-basename">OpamTypes.basename</a> * <a href="../../../../opam-core/opam-core/OpamHash/index.html#type-t">OpamHash.t</a>)</span> list</span></span></code></div><div class="spec-doc"><p>Looks up the extra files, and returns their full paths, relative path to the package source, and hash. Doesn't check the hashes.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-format_errors"><a href="#val-format_errors" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-format_errors" class="source_link">Source</a><code><span><span class="keyword">val</span> format_errors : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(string * <a href="../../OpamPp/index.html#type-bad_format">OpamPp.bad_format</a>)</span> list</span></span></code></div><div class="spec-doc"><p>Returns the errors that were found when parsing the file, associated to their fields (that were consequently ignored)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_opam_version"><a href="#val-with_opam_version" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_opam_version" class="source_link">Source</a><code><span><span class="keyword">val</span> with_opam_version : <span><a href="../../OpamTypes/index.html#type-opam_version">OpamTypes.opam_version</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Sets the opam version</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dev_repo"><a href="#val-dev_repo" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-dev_repo" class="source_link">Source</a><code><span><span class="keyword">val</span> dev_repo : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../OpamTypes/index.html#type-url">OpamTypes.url</a> option</span></span></code></div><div class="spec-doc"><p>The package source repository address</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pin_depends"><a href="#val-pin_depends" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-pin_depends" class="source_link">Source</a><code><span><span class="keyword">val</span> pin_depends : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../OpamTypes/index.html#type-package">OpamTypes.package</a> * <a href="../../OpamTypes/index.html#type-url">OpamTypes.url</a>)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_name"><a href="#val-with_name" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_name" class="source_link">Source</a><code><span><span class="keyword">val</span> with_name : <span><a href="../../OpamTypes/index.html#type-name">OpamTypes.name</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>construct as <code>name</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_name_opt"><a href="#val-with_name_opt" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_name_opt" class="source_link">Source</a><code><span><span class="keyword">val</span> with_name_opt : <span><span><a href="../../OpamTypes/index.html#type-name">OpamTypes.name</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_version"><a href="#val-with_version" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_version" class="source_link">Source</a><code><span><span class="keyword">val</span> with_version : <span><a href="../../OpamTypes/index.html#type-version">OpamTypes.version</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>construct as <code>version</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_version_opt"><a href="#val-with_version_opt" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_version_opt" class="source_link">Source</a><code><span><span class="keyword">val</span> with_version_opt : <span><span><a href="../../OpamTypes/index.html#type-version">OpamTypes.version</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_depends"><a href="#val-with_depends" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_depends" class="source_link">Source</a><code><span><span class="keyword">val</span> with_depends : <span><a href="../../OpamTypes/index.html#type-filtered_formula">OpamTypes.filtered_formula</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Construct as <code>depends</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_depopts"><a href="#val-with_depopts" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_depopts" class="source_link">Source</a><code><span><span class="keyword">val</span> with_depopts : <span><a href="../../OpamTypes/index.html#type-filtered_formula">OpamTypes.filtered_formula</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Construct as <code>depopts</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_conflicts"><a href="#val-with_conflicts" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_conflicts" class="source_link">Source</a><code><span><span class="keyword">val</span> with_conflicts : <span><a href="../../OpamTypes/index.html#type-filtered_formula">OpamTypes.filtered_formula</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_conflict_class"><a href="#val-with_conflict_class" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_conflict_class" class="source_link">Source</a><code><span><span class="keyword">val</span> with_conflict_class : <span><span><a href="../../OpamTypes/index.html#type-name">OpamTypes.name</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_features"><a href="#val-with_features" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_features" class="source_link">Source</a><code><span><span class="keyword">val</span> with_features : 
  <span><span><span>(<a href="../../OpamVariable/index.html#type-t">OpamVariable.t</a> * <a href="../../OpamTypes/index.html#type-filtered_formula">OpamTypes.filtered_formula</a> * string)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_build"><a href="#val-with_build" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_build" class="source_link">Source</a><code><span><span class="keyword">val</span> with_build : <span><span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Construct as <code>build</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_run_test"><a href="#val-with_run_test" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_run_test" class="source_link">Source</a><code><span><span class="keyword">val</span> with_run_test : <span><span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_install"><a href="#val-with_install" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_install" class="source_link">Source</a><code><span><span class="keyword">val</span> with_install : <span><span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_remove"><a href="#val-with_remove" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_remove" class="source_link">Source</a><code><span><span class="keyword">val</span> with_remove : <span><span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Construct as <code>remove</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_libraries"><a href="#val-with_libraries" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_libraries" class="source_link">Source</a><code><span><span class="keyword">val</span> with_libraries : <span><span><span>(string * <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> option</span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Construct as <code>libraries</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_syntax"><a href="#val-with_syntax" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_syntax" class="source_link">Source</a><code><span><span class="keyword">val</span> with_syntax : <span><span><span>(string * <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> option</span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Replace the <code>syntax</code> field of the given OPAM file.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_substs"><a href="#val-with_substs" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_substs" class="source_link">Source</a><code><span><span class="keyword">val</span> with_substs : <span><span><a href="../../OpamTypes/index.html#type-basename">OpamTypes.basename</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Construct as <code>substs</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_build_env"><a href="#val-with_build_env" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_build_env" class="source_link">Source</a><code><span><span class="keyword">val</span> with_build_env : 
  <span><span><span><span>(<a href="../../OpamTypes/index.html#type-spf_unresolved">OpamTypes.spf_unresolved</a>, <a href="../../OpamTypes/index.html#type-euok_writeable">OpamTypes.euok_writeable</a>)</span> <a href="../../OpamTypes/index.html#type-env_update">OpamTypes.env_update</a></span>
    list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_available"><a href="#val-with_available" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_available" class="source_link">Source</a><code><span><span class="keyword">val</span> with_available : <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_maintainer"><a href="#val-with_maintainer" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_maintainer" class="source_link">Source</a><code><span><span class="keyword">val</span> with_maintainer : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Construct as <code>maintainer</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_author"><a href="#val-with_author" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_author" class="source_link">Source</a><code><span><span class="keyword">val</span> with_author : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_homepage"><a href="#val-with_homepage" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_homepage" class="source_link">Source</a><code><span><span class="keyword">val</span> with_homepage : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_license"><a href="#val-with_license" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_license" class="source_link">Source</a><code><span><span class="keyword">val</span> with_license : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_patches"><a href="#val-with_patches" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_patches" class="source_link">Source</a><code><span><span class="keyword">val</span> with_patches : 
  <span><span><span>(<a href="../../OpamTypes/index.html#type-basename">OpamTypes.basename</a> * <span><a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a> option</span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Construct as <code>patches</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_bug_reports"><a href="#val-with_bug_reports" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_bug_reports" class="source_link">Source</a><code><span><span class="keyword">val</span> with_bug_reports : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Construct using <code>bug_reports</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_depexts"><a href="#val-with_depexts" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_depexts" class="source_link">Source</a><code><span><span class="keyword">val</span> with_depexts : <span><span><span>(<a href="../../OpamSysPkg/Set/index.html#type-t">OpamSysPkg.Set.t</a> * <a href="../../OpamTypes/index.html#type-filter">OpamTypes.filter</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Construct using <code>depexts</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_flags"><a href="#val-with_flags" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_flags" class="source_link">Source</a><code><span><span class="keyword">val</span> with_flags : <span><span><a href="../../OpamTypes/index.html#type-package_flag">OpamTypes.package_flag</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_flags"><a href="#val-add_flags" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-add_flags" class="source_link">Source</a><code><span><span class="keyword">val</span> add_flags : <span><span><a href="../../OpamTypes/index.html#type-package_flag">OpamTypes.package_flag</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_tags"><a href="#val-with_tags" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_tags" class="source_link">Source</a><code><span><span class="keyword">val</span> with_tags : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_env"><a href="#val-with_env" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_env" class="source_link">Source</a><code><span><span class="keyword">val</span> with_env : 
  <span><span><span><span>(<a href="../../OpamTypes/index.html#type-spf_unresolved">OpamTypes.spf_unresolved</a>, <a href="../../OpamTypes/index.html#type-euok_writeable">OpamTypes.euok_writeable</a>)</span> <a href="../../OpamTypes/index.html#type-env_update">OpamTypes.env_update</a></span>
    list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_dev_repo"><a href="#val-with_dev_repo" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_dev_repo" class="source_link">Source</a><code><span><span class="keyword">val</span> with_dev_repo : <span><a href="../../OpamTypes/index.html#type-url">OpamTypes.url</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_dev_repo_opt"><a href="#val-with_dev_repo_opt" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_dev_repo_opt" class="source_link">Source</a><code><span><span class="keyword">val</span> with_dev_repo_opt : <span><span><a href="../../OpamTypes/index.html#type-url">OpamTypes.url</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_pin_depends"><a href="#val-with_pin_depends" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_pin_depends" class="source_link">Source</a><code><span><span class="keyword">val</span> with_pin_depends : <span><span><span>(<a href="../../OpamTypes/index.html#type-package">OpamTypes.package</a> * <a href="../../OpamTypes/index.html#type-url">OpamTypes.url</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_extra_sources"><a href="#val-with_extra_sources" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_extra_sources" class="source_link">Source</a><code><span><span class="keyword">val</span> with_extra_sources : <span><span><span>(<a href="../../OpamTypes/index.html#type-basename">OpamTypes.basename</a> * <a href="../URL/index.html#type-t">URL.t</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_extensions"><a href="#val-with_extensions" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_extensions" class="source_link">Source</a><code><span><span class="keyword">val</span> with_extensions : 
  <span><span><a href="../../../../opam-file-format/opam-file-format/OpamParserTypes/FullPos/index.html#type-value">OpamParserTypes.FullPos.value</a> <a href="../../../../opam-core/opam-core/OpamStd/String/Map/index.html#type-t">OpamStd.String.Map.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_extension"><a href="#val-add_extension" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-add_extension" class="source_link">Source</a><code><span><span class="keyword">val</span> add_extension : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../opam-file-format/opam-file-format/OpamParserTypes/FullPos/index.html#type-value">OpamParserTypes.FullPos.value</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-remove_extension"><a href="#val-remove_extension" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-remove_extension" class="source_link">Source</a><code><span><span class="keyword">val</span> remove_extension : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_deprecated_build_doc"><a href="#val-with_deprecated_build_doc" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_deprecated_build_doc" class="source_link">Source</a><code><span><span class="keyword">val</span> with_deprecated_build_doc : <span><span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_deprecated_build_test"><a href="#val-with_deprecated_build_test" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_deprecated_build_test" class="source_link">Source</a><code><span><span class="keyword">val</span> with_deprecated_build_test : <span><span><a href="../../OpamTypes/index.html#type-command">OpamTypes.command</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_descr"><a href="#val-with_descr" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_descr" class="source_link">Source</a><code><span><span class="keyword">val</span> with_descr : <span><a href="../Descr/index.html#type-t">Descr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_descr_opt"><a href="#val-with_descr_opt" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_descr_opt" class="source_link">Source</a><code><span><span class="keyword">val</span> with_descr_opt : <span><span><a href="../Descr/index.html#type-t">Descr.t</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_synopsis"><a href="#val-with_synopsis" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_synopsis" class="source_link">Source</a><code><span><span class="keyword">val</span> with_synopsis : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_descr_body"><a href="#val-with_descr_body" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_descr_body" class="source_link">Source</a><code><span><span class="keyword">val</span> with_descr_body : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>If <code>synopsis</code> is not already set, split the string and use the first line as synopsis.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_url"><a href="#val-with_url" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_url" class="source_link">Source</a><code><span><span class="keyword">val</span> with_url : <span><a href="../URL/index.html#type-t">URL.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_url_opt"><a href="#val-with_url_opt" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_url_opt" class="source_link">Source</a><code><span><span class="keyword">val</span> with_url_opt : <span><span><a href="../URL/index.html#type-t">URL.t</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_metadata_dir"><a href="#val-with_metadata_dir" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_metadata_dir" class="source_link">Source</a><code><span><span class="keyword">val</span> with_metadata_dir : 
  <span><span><span>(<span><a href="../../OpamTypes/index.html#type-repository_name">OpamTypes.repository_name</a> option</span> * string)</span> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_extra_files"><a href="#val-with_extra_files" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_extra_files" class="source_link">Source</a><code><span><span class="keyword">val</span> with_extra_files : <span><span><span>(<a href="../../../../opam-core/opam-core/OpamFilename/Base/index.html#type-t">OpamFilename.Base.t</a> * <a href="../../../../opam-core/opam-core/OpamHash/index.html#type-t">OpamHash.t</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_extra_files_opt"><a href="#val-with_extra_files_opt" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_extra_files_opt" class="source_link">Source</a><code><span><span class="keyword">val</span> with_extra_files_opt : 
  <span><span><span><span>(<a href="../../../../opam-core/opam-core/OpamFilename/Base/index.html#type-t">OpamFilename.Base.t</a> * <a href="../../../../opam-core/opam-core/OpamHash/index.html#type-t">OpamHash.t</a>)</span> list</span> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_locked_opt"><a href="#val-with_locked_opt" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_locked_opt" class="source_link">Source</a><code><span><span class="keyword">val</span> with_locked_opt : <span><span>string option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_format_errors"><a href="#val-with_format_errors" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-with_format_errors" class="source_link">Source</a><code><span><span class="keyword">val</span> with_format_errors : <span><span><span>(string * <a href="../../OpamPp/index.html#type-bad_format">OpamPp.bad_format</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_string_with_preserved_format"><a href="#val-to_string_with_preserved_format" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-to_string_with_preserved_format" class="source_link">Source</a><code><span><span class="keyword">val</span> to_string_with_preserved_format : 
  <span><span class="optlabel">?format_from</span>:<span><a href="#type-t">t</a> <a href="../index.html#type-typed_file">typed_file</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?format_from_string</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-t">t</a> <a href="../index.html#type-typed_file">typed_file</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  string</span></code></div><div class="spec-doc"><p>Prints to a string, while keeping the format of the original file as much as possible. The original format is read from the given <code>format_from_string</code>, the file <code>format_from</code>, or the output file if it exists</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-write_with_preserved_format"><a href="#val-write_with_preserved_format" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-write_with_preserved_format" class="source_link">Source</a><code><span><span class="keyword">val</span> write_with_preserved_format : 
  <span><span class="optlabel">?format_from</span>:<span><a href="#type-t">t</a> <a href="../index.html#type-typed_file">typed_file</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?format_from_string</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-t">t</a> <a href="../index.html#type-typed_file">typed_file</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Writes an opam file, but preserving the existing formatting as much as possible. The original format is read from the given <code>format_from_string</code>, the file <code>format_from</code>, or the output file if it exists</p></div></div><p>Low-level values used for linting and similar processing</p><div class="odoc-spec"><div class="spec value anchored" id="val-flag_of_tag"><a href="#val-flag_of_tag" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-flag_of_tag" class="source_link">Source</a><code><span><span class="keyword">val</span> flag_of_tag : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../../OpamTypes/index.html#type-package_flag">OpamTypes.package_flag</a> option</span></span></code></div><div class="spec-doc"><p>Allow 'flag:xxx' tags as flags, for compat</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fields"><a href="#val-fields" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-fields" class="source_link">Source</a><code><span><span class="keyword">val</span> fields : <span><span>(<a href="#type-t">t</a>, <a href="../../../../opam-file-format/opam-file-format/OpamParserTypes/FullPos/index.html#type-value">OpamParserTypes.FullPos.value</a>)</span> <a href="../../OpamFormat/I/index.html#type-fields_def">OpamFormat.I.fields_def</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sections"><a href="#val-sections" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-sections" class="source_link">Source</a><code><span><span class="keyword">val</span> sections : 
  <span><span>(<a href="#type-t">t</a>, <span><span>(<span>string option</span> * <span><a href="../../../../opam-file-format/opam-file-format/OpamParserTypes/FullPos/index.html#type-opamfile_item">OpamParserTypes.FullPos.opamfile_item</a> list</span>)</span> list</span>)</span>
    <a href="../../OpamFormat/I/index.html#type-fields_def">OpamFormat.I.fields_def</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_raw_fields"><a href="#val-pp_raw_fields" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-pp_raw_fields" class="source_link">Source</a><code><span><span class="keyword">val</span> pp_raw_fields : <span><span>(<span><a href="../../../../opam-file-format/opam-file-format/OpamParserTypes/FullPos/index.html#type-opamfile_item">OpamParserTypes.FullPos.opamfile_item</a> list</span>, <a href="#type-t">t</a>)</span> <a href="../../OpamPp/index.html#type-t">OpamPp.t</a></span></span></code></div><div class="spec-doc"><p>Doesn't handle package name encoded in directory name</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-contents"><a href="#val-contents" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-contents" class="source_link">Source</a><code><span><span class="keyword">val</span> contents : <span><span class="optlabel">?filename</span>:<span><span class="type-var">'a</span> <a href="../index.html#type-typed_file">typed_file</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../../opam-file-format/opam-file-format/OpamParserTypes/FullPos/index.html#type-opamfile">OpamParserTypes.FullPos.opamfile</a></span></code></div><div class="spec-doc"><p>Returns the raw print-AST contents of the file</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_list"><a href="#val-to_list" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-to_list" class="source_link">Source</a><code><span><span class="keyword">val</span> to_list : 
  <span><span class="optlabel">?filename</span>:<span><span class="type-var">'a</span> <a href="../index.html#type-typed_file">typed_file</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string * <a href="../../../../opam-file-format/opam-file-format/OpamParserTypes/FullPos/index.html#type-value">OpamParserTypes.FullPos.value</a>)</span> list</span></span></code></div><div class="spec-doc"><p>Returns all fields of the file as print-AST. Fields within sections are accessed through dot-separated paths (e.g. <code>url.checksum</code>)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_field_as_syntax"><a href="#val-print_field_as_syntax" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-print_field_as_syntax" class="source_link">Source</a><code><span><span class="keyword">val</span> print_field_as_syntax : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../opam-file-format/opam-file-format/OpamParserTypes/FullPos/index.html#type-value">OpamParserTypes.FullPos.value</a> option</span></span></code></div><div class="spec-doc"><p>Gets the print-AST for a single field in the file structure. Fields within sections can be accessed through <code>section.field</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rewrite_xfield"><a href="#val-rewrite_xfield" class="anchor"></a><a href="../../../src/opam-format/opamFile.ml.html#module-OPAMSyntax.val-rewrite_xfield" class="source_link">Source</a><code><span><span class="keyword">val</span> rewrite_xfield : string</span></code></div><div class="spec-doc"><p>x-field name for path rewriting on windows</p></div></div></div></body></html>
