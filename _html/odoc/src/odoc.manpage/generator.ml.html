<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Source: generator.ml (odoc.src.odoc.manpage)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.css"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/></head><body class="odoc-src"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">The odoc documentation generator</a> &#x00BB; <a href="../index.html">Sources</a> &#x00BB; odoc.manpage &#x00BB; generator.ml</nav><header class="odoc-preamble"><h1>Source file <code><span>generator.ml</span></code></h1></header><div class="odoc-tocs"><nav class="odoc-toc odoc-global-toc"><ul><li><a href="../../index.html">The odoc documentation generator</a><ul><li><a href="../../odoc_for_authors.html"><code>odoc</code> for Authors</a></li><li><a href="../../cheatsheet.html">Cheatsheet</a></li><li><a href="../../dune.html">Dune and odoc</a></li><li><a href="../../features.html">Language Features</a></li><li><a href="../../ocamldoc_differences.html">Markup Differences From OCamldoc</a></li><li><a href="../../interface.html"><code>odoc</code> Interface Guarantees</a></li><li><a href="../../driver.html">How to Drive <code>odoc</code></a></li><li><a href="../../json.html">JSON output</a></li><li><a href="../../deprecated/index.html">Deprecated features</a></li><li>Library <code>odoc.document</code><ul><li><a href="../../odoc.document/Odoc_document/index.html">Odoc_document</a></li></ul></li><li>Library <code>odoc.examples</code><ul><li><a href="../../odoc.examples/Odoc_examples/index.html">Odoc_examples</a></li></ul></li><li>Library <code>odoc.html</code><ul><li><a href="../../odoc.html/Odoc_html/index.html">Odoc_html</a></li></ul></li><li>Library <code>odoc.html_support_files</code><ul><li><a href="../../odoc.html_support_files/Odoc_html_support_files/index.html">Odoc_html_support_files</a></li></ul></li><li>Library <code>odoc.index</code><ul><li><a href="../../odoc.index/Odoc_index/index.html">Odoc_index</a></li></ul></li><li>Library <code>odoc.json_index</code><ul><li><a href="../../odoc.json_index/Odoc_json_index/index.html">Odoc_json_index</a></li></ul></li><li>Library <code>odoc.latex</code><ul><li><a href="../../odoc.latex/Odoc_latex/index.html">Odoc_latex</a></li></ul></li><li>Library <code>odoc.loader</code><ul><li><a href="../../odoc.loader/Odoc_loader/index.html">Odoc_loader</a></li></ul></li><li>Library <code>odoc.manpage</code><ul><li><a href="../../odoc.manpage/Odoc_manpage/index.html">Odoc_manpage</a></li></ul></li><li>Library <code>odoc.model</code><ul><li><a href="../../odoc.model/Odoc_model/index.html">Odoc_model</a></li></ul></li><li>Library <code>odoc.model_desc</code><ul><li><a href="../../odoc.model_desc/Odoc_model_desc/index.html">Odoc_model_desc</a></li></ul></li><li>Library <code>odoc.ocamlary</code><ul><li><a href="../../odoc.ocamlary/Ocamlary/index.html">Ocamlary</a></li></ul></li><li>Library <code>odoc.occurrences</code><ul><li><a href="../../odoc.occurrences/Odoc_occurrences/index.html">Odoc_occurrences</a></li></ul></li><li>Library <code>odoc.odoc</code><ul><li><a href="../../odoc.odoc/Odoc_odoc/index.html">Odoc_odoc</a></li></ul></li><li>Library <code>odoc.odoc_utils</code><ul><li><a href="../../odoc.odoc_utils/Odoc_utils/index.html">Odoc_utils</a></li></ul></li><li>Library <code>odoc.search</code><ul><li><a href="../../odoc.search/Odoc_search/index.html">Odoc_search</a></li></ul></li><li>Library <code>odoc.search_html_frontend</code><ul><li><a href="../../odoc.search_html_frontend/Odoc_html_frontend/index.html">Odoc_html_frontend</a></li></ul></li><li>Library <code>odoc.syntax_highlighter</code><ul><li><a href="../../odoc.syntax_highlighter/Syntax_highlighter/index.html">Syntax_highlighter</a></li></ul></li><li>Library <code>odoc.xref2</code><ul><li><a href="../../odoc.xref2/Odoc_xref2/index.html">Odoc_xref2</a></li></ul></li><li>Library <code>odoc.xref_test</code><ul><li><a href="../../odoc.xref_test/Odoc_xref_test/index.html">Odoc_xref_test</a></li></ul></li><li><a href="../index.html">Sources</a><ul><li>odoc.document<ul><li><a href="../odoc.document/ML.ml.html">ML.ml</a></li><li><a href="../odoc.document/codefmt.ml.html">codefmt.ml</a></li><li><a href="../odoc.document/comment.ml.html">comment.ml</a></li><li><a href="../odoc.document/compat.ml.html">compat.ml</a></li><li><a href="../odoc.document/doctree.ml.html">doctree.ml</a></li><li><a href="../odoc.document/generator.ml.html">generator.ml</a></li><li><a href="../odoc.document/generator_signatures.ml.html">generator_signatures.ml</a></li><li><a href="../odoc.document/odoc_document.ml.html">odoc_document.ml</a></li><li><a href="../odoc.document/reason.ml.html">reason.ml</a></li><li><a href="../odoc.document/renderer.ml.html">renderer.ml</a></li><li><a href="../odoc.document/sidebar.ml.html">sidebar.ml</a></li><li><a href="../odoc.document/targets.ml.html">targets.ml</a></li><li><a href="../odoc.document/types.ml.html">types.ml</a></li><li><a href="../odoc.document/url.ml.html">url.ml</a></li><li><a href="../odoc.document/utils.ml.html">utils.ml</a></li></ul></li><li>odoc.examples<ul><li><a href="../odoc.examples/odoc_examples.ml.html">odoc_examples.ml</a></li><li><a href="../odoc.examples/odoc_examples__.ml.html">odoc_examples__.ml</a></li></ul></li><li>odoc.html<ul><li><a href="../odoc.html/config.ml.html">config.ml</a></li><li><a href="../odoc.html/generator.ml.html">generator.ml</a></li><li><a href="../odoc.html/html_fragment_json.ml.html">html_fragment_json.ml</a></li><li><a href="../odoc.html/html_page.ml.html">html_page.ml</a></li><li><a href="../odoc.html/html_source.ml.html">html_source.ml</a></li><li><a href="../odoc.html/link.ml.html">link.ml</a></li><li><a href="../odoc.html/odoc_html.ml.html">odoc_html.ml</a></li><li><a href="../odoc.html/odoc_html__.ml.html">odoc_html__.ml</a></li><li><a href="../odoc.html/sidebar.ml.html">sidebar.ml</a></li><li><a href="../odoc.html/types.ml.html">types.ml</a></li></ul></li><li>odoc.html_support_files<ul><li><a href="../odoc.html_support_files/odoc_html_support_files.ml.html">odoc_html_support_files.ml</a></li></ul></li><li>odoc.index<ul><li><a href="../odoc.index/entry.ml.html">entry.ml</a></li><li><a href="../odoc.index/in_progress.ml.html">in_progress.ml</a></li><li><a href="../odoc.index/odoc_index.ml.html">odoc_index.ml</a></li><li><a href="../odoc.index/odoc_index__.ml.html">odoc_index__.ml</a></li><li><a href="../odoc.index/skeleton.ml.html">skeleton.ml</a></li><li><a href="../odoc.index/skeleton_of.ml.html">skeleton_of.ml</a></li></ul></li><li>odoc.json_index<ul><li><a href="../odoc.json_index/json_display.ml.html">json_display.ml</a></li><li><a href="../odoc.json_index/json_search.ml.html">json_search.ml</a></li><li><a href="../odoc.json_index/odoc_json_index.ml.html">odoc_json_index.ml</a></li></ul></li><li>odoc.latex<ul><li><a href="../odoc.latex/generator.ml.html">generator.ml</a></li><li><a href="../odoc.latex/odoc_latex.ml.html">odoc_latex.ml</a></li><li><a href="../odoc.latex/raw.ml.html">raw.ml</a></li><li><a href="../odoc.latex/types.ml.html">types.ml</a></li></ul></li><li>odoc.loader<ul><li><a href="../odoc.loader/cmi.ml.html">cmi.ml</a></li><li><a href="../odoc.loader/cmt.ml.html">cmt.ml</a></li><li><a href="../odoc.loader/cmti.ml.html">cmti.ml</a></li><li><a href="../odoc.loader/doc_attr.ml.html">doc_attr.ml</a></li><li><a href="../odoc.loader/ident_env.ml.html">ident_env.ml</a></li><li><a href="../odoc.loader/implementation.ml.html">implementation.ml</a></li><li><a href="../odoc.loader/odoc_loader.ml.html">odoc_loader.ml</a></li><li><a href="../odoc.loader/odoc_loader__.ml.html">odoc_loader__.ml</a></li><li><a href="../odoc.loader/typedtree_traverse.ml.html">typedtree_traverse.ml</a></li></ul></li><li>odoc.manpage<ul><li><a href="#" class="current_unit">generator.ml</a></li><li><a href="link.ml.html">link.ml</a></li><li><a href="odoc_manpage.ml.html">odoc_manpage.ml</a></li></ul></li><li>odoc.model<ul><li><a href="../odoc.model/comment.ml.html">comment.ml</a></li><li><a href="../odoc.model/compat.ml.html">compat.ml</a></li><li><a href="../odoc.model/error.ml.html">error.ml</a></li><li><a href="../odoc.model/frontmatter.ml.html">frontmatter.ml</a></li><li><a href="../odoc.model/lang.ml.html">lang.ml</a></li><li><a href="../odoc.model/location_.ml.html">location_.ml</a></li><li><a href="../odoc.model/names.ml.html">names.ml</a></li><li><a href="../odoc.model/odoc_model.ml.html">odoc_model.ml</a></li><li><a href="../odoc.model/odoc_model__.ml.html">odoc_model__.ml</a></li><li><a href="../odoc.model/paths.ml.html">paths.ml</a></li><li><a href="../odoc.model/paths_types.ml.html">paths_types.ml</a></li><li><a href="../odoc.model/reference.ml.html">reference.ml</a></li><li><a href="../odoc.model/root.ml.html">root.ml</a></li><li><a href="../odoc.model/semantics.ml.html">semantics.ml</a></li></ul></li><li>odoc.model_desc<ul><li><a href="../odoc.model_desc/comment_desc.ml.html">comment_desc.ml</a></li><li><a href="../odoc.model_desc/lang_desc.ml.html">lang_desc.ml</a></li><li><a href="../odoc.model_desc/odoc_model_desc.ml.html">odoc_model_desc.ml</a></li><li><a href="../odoc.model_desc/paths_desc.ml.html">paths_desc.ml</a></li><li><a href="../odoc.model_desc/type_desc.ml.html">type_desc.ml</a></li></ul></li><li>odoc.occurrences<ul><li><a href="../odoc.occurrences/odoc_occurrences.ml.html">odoc_occurrences.ml</a></li><li><a href="../odoc.occurrences/odoc_occurrences__.ml.html">odoc_occurrences__.ml</a></li><li><a href="../odoc.occurrences/table.ml.html">table.ml</a></li></ul></li><li>odoc.odoc<ul><li><a href="../odoc.odoc/asset.ml.html">asset.ml</a></li><li><a href="../odoc.odoc/classify.ml.html">classify.ml</a></li><li><a href="../odoc.odoc/compile.ml.html">compile.ml</a></li><li><a href="../odoc.odoc/depends.ml.html">depends.ml</a></li><li><a href="../odoc.odoc/fs.ml.html">fs.ml</a></li><li><a href="../odoc.odoc/html_fragment.ml.html">html_fragment.ml</a></li><li><a href="../odoc.odoc/html_page.ml.html">html_page.ml</a></li><li><a href="../odoc.odoc/indexing.ml.html">indexing.ml</a></li><li><a href="../odoc.odoc/latex.ml.html">latex.ml</a></li><li><a href="../odoc.odoc/man_page.ml.html">man_page.ml</a></li><li><a href="../odoc.odoc/occurrences.ml.html">occurrences.ml</a></li><li><a href="../odoc.odoc/odoc_file.ml.html">odoc_file.ml</a></li><li><a href="../odoc.odoc/odoc_link.ml.html">odoc_link.ml</a></li><li><a href="../odoc.odoc/odoc_odoc.ml.html">odoc_odoc.ml</a></li><li><a href="../odoc.odoc/or_error.ml.html">or_error.ml</a></li><li><a href="../odoc.odoc/rendering.ml.html">rendering.ml</a></li><li><a href="../odoc.odoc/resolver.ml.html">resolver.ml</a></li><li><a href="../odoc.odoc/sidebar.ml.html">sidebar.ml</a></li><li><a href="../odoc.odoc/source.ml.html">source.ml</a></li><li><a href="../odoc.odoc/support_files.ml.html">support_files.ml</a></li><li><a href="../odoc.odoc/url.ml.html">url.ml</a></li></ul></li><li>odoc.odoc_utils<ul><li><a href="../odoc.odoc_utils/json.ml.html">json.ml</a></li><li><a href="../odoc.odoc_utils/odoc_list.ml.html">odoc_list.ml</a></li><li><a href="../odoc.odoc_utils/odoc_utils.ml.html">odoc_utils.ml</a></li><li><a href="../odoc.odoc_utils/odoc_utils__.ml.html">odoc_utils__.ml</a></li><li><a href="../odoc.odoc_utils/tree.ml.html">tree.ml</a></li></ul></li><li>odoc.search<ul><li><a href="../odoc.search/html.ml.html">html.ml</a></li><li><a href="../odoc.search/odoc_search.ml.html">odoc_search.ml</a></li><li><a href="../odoc.search/text.ml.html">text.ml</a></li></ul></li><li>odoc.search_html_frontend<ul><li><a href="../odoc.search_html_frontend/odoc_html_frontend.ml.html">odoc_html_frontend.ml</a></li></ul></li><li>odoc.syntax_highlighter<ul><li><a href="../odoc.syntax_highlighter/syntax_highlighter.ml.html">syntax_highlighter.ml</a></li></ul></li><li>odoc.xref2<ul><li><a href="../odoc.xref2/cfrag.ml.html">cfrag.ml</a></li><li><a href="../odoc.xref2/compile.ml.html">compile.ml</a></li><li><a href="../odoc.xref2/component.ml.html">component.ml</a></li><li><a href="../odoc.xref2/cpath.ml.html">cpath.ml</a></li><li><a href="../odoc.xref2/env.ml.html">env.ml</a></li><li><a href="../odoc.xref2/errors.ml.html">errors.ml</a></li><li><a href="../odoc.xref2/expand_tools.ml.html">expand_tools.ml</a></li><li><a href="../odoc.xref2/find.ml.html">find.ml</a></li><li><a href="../odoc.xref2/ident.ml.html">ident.ml</a></li><li><a href="../odoc.xref2/lang_of.ml.html">lang_of.ml</a></li><li><a href="../odoc.xref2/link.ml.html">link.ml</a></li><li><a href="../odoc.xref2/lookup_failures.ml.html">lookup_failures.ml</a></li><li><a href="../odoc.xref2/odoc_xref2.ml.html">odoc_xref2.ml</a></li><li><a href="../odoc.xref2/ref_tools.ml.html">ref_tools.ml</a></li><li><a href="../odoc.xref2/shape_tools.ml.html">shape_tools.ml</a></li><li><a href="../odoc.xref2/strengthen.ml.html">strengthen.ml</a></li><li><a href="../odoc.xref2/subst.ml.html">subst.ml</a></li><li><a href="../odoc.xref2/tools.ml.html">tools.ml</a></li></ul></li><li>odoc.xref_test<ul><li><a href="../odoc.xref_test/common.ml.html">common.ml</a></li><li><a href="../odoc.xref_test/odoc_xref_test.ml.html">odoc_xref_test.ml</a></li></ul></li></ul></li></ul></li></ul></nav></div><pre class="source_container"><code class="source_line_column"><a id="L1" class="source_line" href="#L1">1</a>
<a id="L2" class="source_line" href="#L2">2</a>
<a id="L3" class="source_line" href="#L3">3</a>
<a id="L4" class="source_line" href="#L4">4</a>
<a id="L5" class="source_line" href="#L5">5</a>
<a id="L6" class="source_line" href="#L6">6</a>
<a id="L7" class="source_line" href="#L7">7</a>
<a id="L8" class="source_line" href="#L8">8</a>
<a id="L9" class="source_line" href="#L9">9</a>
<a id="L10" class="source_line" href="#L10">10</a>
<a id="L11" class="source_line" href="#L11">11</a>
<a id="L12" class="source_line" href="#L12">12</a>
<a id="L13" class="source_line" href="#L13">13</a>
<a id="L14" class="source_line" href="#L14">14</a>
<a id="L15" class="source_line" href="#L15">15</a>
<a id="L16" class="source_line" href="#L16">16</a>
<a id="L17" class="source_line" href="#L17">17</a>
<a id="L18" class="source_line" href="#L18">18</a>
<a id="L19" class="source_line" href="#L19">19</a>
<a id="L20" class="source_line" href="#L20">20</a>
<a id="L21" class="source_line" href="#L21">21</a>
<a id="L22" class="source_line" href="#L22">22</a>
<a id="L23" class="source_line" href="#L23">23</a>
<a id="L24" class="source_line" href="#L24">24</a>
<a id="L25" class="source_line" href="#L25">25</a>
<a id="L26" class="source_line" href="#L26">26</a>
<a id="L27" class="source_line" href="#L27">27</a>
<a id="L28" class="source_line" href="#L28">28</a>
<a id="L29" class="source_line" href="#L29">29</a>
<a id="L30" class="source_line" href="#L30">30</a>
<a id="L31" class="source_line" href="#L31">31</a>
<a id="L32" class="source_line" href="#L32">32</a>
<a id="L33" class="source_line" href="#L33">33</a>
<a id="L34" class="source_line" href="#L34">34</a>
<a id="L35" class="source_line" href="#L35">35</a>
<a id="L36" class="source_line" href="#L36">36</a>
<a id="L37" class="source_line" href="#L37">37</a>
<a id="L38" class="source_line" href="#L38">38</a>
<a id="L39" class="source_line" href="#L39">39</a>
<a id="L40" class="source_line" href="#L40">40</a>
<a id="L41" class="source_line" href="#L41">41</a>
<a id="L42" class="source_line" href="#L42">42</a>
<a id="L43" class="source_line" href="#L43">43</a>
<a id="L44" class="source_line" href="#L44">44</a>
<a id="L45" class="source_line" href="#L45">45</a>
<a id="L46" class="source_line" href="#L46">46</a>
<a id="L47" class="source_line" href="#L47">47</a>
<a id="L48" class="source_line" href="#L48">48</a>
<a id="L49" class="source_line" href="#L49">49</a>
<a id="L50" class="source_line" href="#L50">50</a>
<a id="L51" class="source_line" href="#L51">51</a>
<a id="L52" class="source_line" href="#L52">52</a>
<a id="L53" class="source_line" href="#L53">53</a>
<a id="L54" class="source_line" href="#L54">54</a>
<a id="L55" class="source_line" href="#L55">55</a>
<a id="L56" class="source_line" href="#L56">56</a>
<a id="L57" class="source_line" href="#L57">57</a>
<a id="L58" class="source_line" href="#L58">58</a>
<a id="L59" class="source_line" href="#L59">59</a>
<a id="L60" class="source_line" href="#L60">60</a>
<a id="L61" class="source_line" href="#L61">61</a>
<a id="L62" class="source_line" href="#L62">62</a>
<a id="L63" class="source_line" href="#L63">63</a>
<a id="L64" class="source_line" href="#L64">64</a>
<a id="L65" class="source_line" href="#L65">65</a>
<a id="L66" class="source_line" href="#L66">66</a>
<a id="L67" class="source_line" href="#L67">67</a>
<a id="L68" class="source_line" href="#L68">68</a>
<a id="L69" class="source_line" href="#L69">69</a>
<a id="L70" class="source_line" href="#L70">70</a>
<a id="L71" class="source_line" href="#L71">71</a>
<a id="L72" class="source_line" href="#L72">72</a>
<a id="L73" class="source_line" href="#L73">73</a>
<a id="L74" class="source_line" href="#L74">74</a>
<a id="L75" class="source_line" href="#L75">75</a>
<a id="L76" class="source_line" href="#L76">76</a>
<a id="L77" class="source_line" href="#L77">77</a>
<a id="L78" class="source_line" href="#L78">78</a>
<a id="L79" class="source_line" href="#L79">79</a>
<a id="L80" class="source_line" href="#L80">80</a>
<a id="L81" class="source_line" href="#L81">81</a>
<a id="L82" class="source_line" href="#L82">82</a>
<a id="L83" class="source_line" href="#L83">83</a>
<a id="L84" class="source_line" href="#L84">84</a>
<a id="L85" class="source_line" href="#L85">85</a>
<a id="L86" class="source_line" href="#L86">86</a>
<a id="L87" class="source_line" href="#L87">87</a>
<a id="L88" class="source_line" href="#L88">88</a>
<a id="L89" class="source_line" href="#L89">89</a>
<a id="L90" class="source_line" href="#L90">90</a>
<a id="L91" class="source_line" href="#L91">91</a>
<a id="L92" class="source_line" href="#L92">92</a>
<a id="L93" class="source_line" href="#L93">93</a>
<a id="L94" class="source_line" href="#L94">94</a>
<a id="L95" class="source_line" href="#L95">95</a>
<a id="L96" class="source_line" href="#L96">96</a>
<a id="L97" class="source_line" href="#L97">97</a>
<a id="L98" class="source_line" href="#L98">98</a>
<a id="L99" class="source_line" href="#L99">99</a>
<a id="L100" class="source_line" href="#L100">100</a>
<a id="L101" class="source_line" href="#L101">101</a>
<a id="L102" class="source_line" href="#L102">102</a>
<a id="L103" class="source_line" href="#L103">103</a>
<a id="L104" class="source_line" href="#L104">104</a>
<a id="L105" class="source_line" href="#L105">105</a>
<a id="L106" class="source_line" href="#L106">106</a>
<a id="L107" class="source_line" href="#L107">107</a>
<a id="L108" class="source_line" href="#L108">108</a>
<a id="L109" class="source_line" href="#L109">109</a>
<a id="L110" class="source_line" href="#L110">110</a>
<a id="L111" class="source_line" href="#L111">111</a>
<a id="L112" class="source_line" href="#L112">112</a>
<a id="L113" class="source_line" href="#L113">113</a>
<a id="L114" class="source_line" href="#L114">114</a>
<a id="L115" class="source_line" href="#L115">115</a>
<a id="L116" class="source_line" href="#L116">116</a>
<a id="L117" class="source_line" href="#L117">117</a>
<a id="L118" class="source_line" href="#L118">118</a>
<a id="L119" class="source_line" href="#L119">119</a>
<a id="L120" class="source_line" href="#L120">120</a>
<a id="L121" class="source_line" href="#L121">121</a>
<a id="L122" class="source_line" href="#L122">122</a>
<a id="L123" class="source_line" href="#L123">123</a>
<a id="L124" class="source_line" href="#L124">124</a>
<a id="L125" class="source_line" href="#L125">125</a>
<a id="L126" class="source_line" href="#L126">126</a>
<a id="L127" class="source_line" href="#L127">127</a>
<a id="L128" class="source_line" href="#L128">128</a>
<a id="L129" class="source_line" href="#L129">129</a>
<a id="L130" class="source_line" href="#L130">130</a>
<a id="L131" class="source_line" href="#L131">131</a>
<a id="L132" class="source_line" href="#L132">132</a>
<a id="L133" class="source_line" href="#L133">133</a>
<a id="L134" class="source_line" href="#L134">134</a>
<a id="L135" class="source_line" href="#L135">135</a>
<a id="L136" class="source_line" href="#L136">136</a>
<a id="L137" class="source_line" href="#L137">137</a>
<a id="L138" class="source_line" href="#L138">138</a>
<a id="L139" class="source_line" href="#L139">139</a>
<a id="L140" class="source_line" href="#L140">140</a>
<a id="L141" class="source_line" href="#L141">141</a>
<a id="L142" class="source_line" href="#L142">142</a>
<a id="L143" class="source_line" href="#L143">143</a>
<a id="L144" class="source_line" href="#L144">144</a>
<a id="L145" class="source_line" href="#L145">145</a>
<a id="L146" class="source_line" href="#L146">146</a>
<a id="L147" class="source_line" href="#L147">147</a>
<a id="L148" class="source_line" href="#L148">148</a>
<a id="L149" class="source_line" href="#L149">149</a>
<a id="L150" class="source_line" href="#L150">150</a>
<a id="L151" class="source_line" href="#L151">151</a>
<a id="L152" class="source_line" href="#L152">152</a>
<a id="L153" class="source_line" href="#L153">153</a>
<a id="L154" class="source_line" href="#L154">154</a>
<a id="L155" class="source_line" href="#L155">155</a>
<a id="L156" class="source_line" href="#L156">156</a>
<a id="L157" class="source_line" href="#L157">157</a>
<a id="L158" class="source_line" href="#L158">158</a>
<a id="L159" class="source_line" href="#L159">159</a>
<a id="L160" class="source_line" href="#L160">160</a>
<a id="L161" class="source_line" href="#L161">161</a>
<a id="L162" class="source_line" href="#L162">162</a>
<a id="L163" class="source_line" href="#L163">163</a>
<a id="L164" class="source_line" href="#L164">164</a>
<a id="L165" class="source_line" href="#L165">165</a>
<a id="L166" class="source_line" href="#L166">166</a>
<a id="L167" class="source_line" href="#L167">167</a>
<a id="L168" class="source_line" href="#L168">168</a>
<a id="L169" class="source_line" href="#L169">169</a>
<a id="L170" class="source_line" href="#L170">170</a>
<a id="L171" class="source_line" href="#L171">171</a>
<a id="L172" class="source_line" href="#L172">172</a>
<a id="L173" class="source_line" href="#L173">173</a>
<a id="L174" class="source_line" href="#L174">174</a>
<a id="L175" class="source_line" href="#L175">175</a>
<a id="L176" class="source_line" href="#L176">176</a>
<a id="L177" class="source_line" href="#L177">177</a>
<a id="L178" class="source_line" href="#L178">178</a>
<a id="L179" class="source_line" href="#L179">179</a>
<a id="L180" class="source_line" href="#L180">180</a>
<a id="L181" class="source_line" href="#L181">181</a>
<a id="L182" class="source_line" href="#L182">182</a>
<a id="L183" class="source_line" href="#L183">183</a>
<a id="L184" class="source_line" href="#L184">184</a>
<a id="L185" class="source_line" href="#L185">185</a>
<a id="L186" class="source_line" href="#L186">186</a>
<a id="L187" class="source_line" href="#L187">187</a>
<a id="L188" class="source_line" href="#L188">188</a>
<a id="L189" class="source_line" href="#L189">189</a>
<a id="L190" class="source_line" href="#L190">190</a>
<a id="L191" class="source_line" href="#L191">191</a>
<a id="L192" class="source_line" href="#L192">192</a>
<a id="L193" class="source_line" href="#L193">193</a>
<a id="L194" class="source_line" href="#L194">194</a>
<a id="L195" class="source_line" href="#L195">195</a>
<a id="L196" class="source_line" href="#L196">196</a>
<a id="L197" class="source_line" href="#L197">197</a>
<a id="L198" class="source_line" href="#L198">198</a>
<a id="L199" class="source_line" href="#L199">199</a>
<a id="L200" class="source_line" href="#L200">200</a>
<a id="L201" class="source_line" href="#L201">201</a>
<a id="L202" class="source_line" href="#L202">202</a>
<a id="L203" class="source_line" href="#L203">203</a>
<a id="L204" class="source_line" href="#L204">204</a>
<a id="L205" class="source_line" href="#L205">205</a>
<a id="L206" class="source_line" href="#L206">206</a>
<a id="L207" class="source_line" href="#L207">207</a>
<a id="L208" class="source_line" href="#L208">208</a>
<a id="L209" class="source_line" href="#L209">209</a>
<a id="L210" class="source_line" href="#L210">210</a>
<a id="L211" class="source_line" href="#L211">211</a>
<a id="L212" class="source_line" href="#L212">212</a>
<a id="L213" class="source_line" href="#L213">213</a>
<a id="L214" class="source_line" href="#L214">214</a>
<a id="L215" class="source_line" href="#L215">215</a>
<a id="L216" class="source_line" href="#L216">216</a>
<a id="L217" class="source_line" href="#L217">217</a>
<a id="L218" class="source_line" href="#L218">218</a>
<a id="L219" class="source_line" href="#L219">219</a>
<a id="L220" class="source_line" href="#L220">220</a>
<a id="L221" class="source_line" href="#L221">221</a>
<a id="L222" class="source_line" href="#L222">222</a>
<a id="L223" class="source_line" href="#L223">223</a>
<a id="L224" class="source_line" href="#L224">224</a>
<a id="L225" class="source_line" href="#L225">225</a>
<a id="L226" class="source_line" href="#L226">226</a>
<a id="L227" class="source_line" href="#L227">227</a>
<a id="L228" class="source_line" href="#L228">228</a>
<a id="L229" class="source_line" href="#L229">229</a>
<a id="L230" class="source_line" href="#L230">230</a>
<a id="L231" class="source_line" href="#L231">231</a>
<a id="L232" class="source_line" href="#L232">232</a>
<a id="L233" class="source_line" href="#L233">233</a>
<a id="L234" class="source_line" href="#L234">234</a>
<a id="L235" class="source_line" href="#L235">235</a>
<a id="L236" class="source_line" href="#L236">236</a>
<a id="L237" class="source_line" href="#L237">237</a>
<a id="L238" class="source_line" href="#L238">238</a>
<a id="L239" class="source_line" href="#L239">239</a>
<a id="L240" class="source_line" href="#L240">240</a>
<a id="L241" class="source_line" href="#L241">241</a>
<a id="L242" class="source_line" href="#L242">242</a>
<a id="L243" class="source_line" href="#L243">243</a>
<a id="L244" class="source_line" href="#L244">244</a>
<a id="L245" class="source_line" href="#L245">245</a>
<a id="L246" class="source_line" href="#L246">246</a>
<a id="L247" class="source_line" href="#L247">247</a>
<a id="L248" class="source_line" href="#L248">248</a>
<a id="L249" class="source_line" href="#L249">249</a>
<a id="L250" class="source_line" href="#L250">250</a>
<a id="L251" class="source_line" href="#L251">251</a>
<a id="L252" class="source_line" href="#L252">252</a>
<a id="L253" class="source_line" href="#L253">253</a>
<a id="L254" class="source_line" href="#L254">254</a>
<a id="L255" class="source_line" href="#L255">255</a>
<a id="L256" class="source_line" href="#L256">256</a>
<a id="L257" class="source_line" href="#L257">257</a>
<a id="L258" class="source_line" href="#L258">258</a>
<a id="L259" class="source_line" href="#L259">259</a>
<a id="L260" class="source_line" href="#L260">260</a>
<a id="L261" class="source_line" href="#L261">261</a>
<a id="L262" class="source_line" href="#L262">262</a>
<a id="L263" class="source_line" href="#L263">263</a>
<a id="L264" class="source_line" href="#L264">264</a>
<a id="L265" class="source_line" href="#L265">265</a>
<a id="L266" class="source_line" href="#L266">266</a>
<a id="L267" class="source_line" href="#L267">267</a>
<a id="L268" class="source_line" href="#L268">268</a>
<a id="L269" class="source_line" href="#L269">269</a>
<a id="L270" class="source_line" href="#L270">270</a>
<a id="L271" class="source_line" href="#L271">271</a>
<a id="L272" class="source_line" href="#L272">272</a>
<a id="L273" class="source_line" href="#L273">273</a>
<a id="L274" class="source_line" href="#L274">274</a>
<a id="L275" class="source_line" href="#L275">275</a>
<a id="L276" class="source_line" href="#L276">276</a>
<a id="L277" class="source_line" href="#L277">277</a>
<a id="L278" class="source_line" href="#L278">278</a>
<a id="L279" class="source_line" href="#L279">279</a>
<a id="L280" class="source_line" href="#L280">280</a>
<a id="L281" class="source_line" href="#L281">281</a>
<a id="L282" class="source_line" href="#L282">282</a>
<a id="L283" class="source_line" href="#L283">283</a>
<a id="L284" class="source_line" href="#L284">284</a>
<a id="L285" class="source_line" href="#L285">285</a>
<a id="L286" class="source_line" href="#L286">286</a>
<a id="L287" class="source_line" href="#L287">287</a>
<a id="L288" class="source_line" href="#L288">288</a>
<a id="L289" class="source_line" href="#L289">289</a>
<a id="L290" class="source_line" href="#L290">290</a>
<a id="L291" class="source_line" href="#L291">291</a>
<a id="L292" class="source_line" href="#L292">292</a>
<a id="L293" class="source_line" href="#L293">293</a>
<a id="L294" class="source_line" href="#L294">294</a>
<a id="L295" class="source_line" href="#L295">295</a>
<a id="L296" class="source_line" href="#L296">296</a>
<a id="L297" class="source_line" href="#L297">297</a>
<a id="L298" class="source_line" href="#L298">298</a>
<a id="L299" class="source_line" href="#L299">299</a>
<a id="L300" class="source_line" href="#L300">300</a>
<a id="L301" class="source_line" href="#L301">301</a>
<a id="L302" class="source_line" href="#L302">302</a>
<a id="L303" class="source_line" href="#L303">303</a>
<a id="L304" class="source_line" href="#L304">304</a>
<a id="L305" class="source_line" href="#L305">305</a>
<a id="L306" class="source_line" href="#L306">306</a>
<a id="L307" class="source_line" href="#L307">307</a>
<a id="L308" class="source_line" href="#L308">308</a>
<a id="L309" class="source_line" href="#L309">309</a>
<a id="L310" class="source_line" href="#L310">310</a>
<a id="L311" class="source_line" href="#L311">311</a>
<a id="L312" class="source_line" href="#L312">312</a>
<a id="L313" class="source_line" href="#L313">313</a>
<a id="L314" class="source_line" href="#L314">314</a>
<a id="L315" class="source_line" href="#L315">315</a>
<a id="L316" class="source_line" href="#L316">316</a>
<a id="L317" class="source_line" href="#L317">317</a>
<a id="L318" class="source_line" href="#L318">318</a>
<a id="L319" class="source_line" href="#L319">319</a>
<a id="L320" class="source_line" href="#L320">320</a>
<a id="L321" class="source_line" href="#L321">321</a>
<a id="L322" class="source_line" href="#L322">322</a>
<a id="L323" class="source_line" href="#L323">323</a>
<a id="L324" class="source_line" href="#L324">324</a>
<a id="L325" class="source_line" href="#L325">325</a>
<a id="L326" class="source_line" href="#L326">326</a>
<a id="L327" class="source_line" href="#L327">327</a>
<a id="L328" class="source_line" href="#L328">328</a>
<a id="L329" class="source_line" href="#L329">329</a>
<a id="L330" class="source_line" href="#L330">330</a>
<a id="L331" class="source_line" href="#L331">331</a>
<a id="L332" class="source_line" href="#L332">332</a>
<a id="L333" class="source_line" href="#L333">333</a>
<a id="L334" class="source_line" href="#L334">334</a>
<a id="L335" class="source_line" href="#L335">335</a>
<a id="L336" class="source_line" href="#L336">336</a>
<a id="L337" class="source_line" href="#L337">337</a>
<a id="L338" class="source_line" href="#L338">338</a>
<a id="L339" class="source_line" href="#L339">339</a>
<a id="L340" class="source_line" href="#L340">340</a>
<a id="L341" class="source_line" href="#L341">341</a>
<a id="L342" class="source_line" href="#L342">342</a>
<a id="L343" class="source_line" href="#L343">343</a>
<a id="L344" class="source_line" href="#L344">344</a>
<a id="L345" class="source_line" href="#L345">345</a>
<a id="L346" class="source_line" href="#L346">346</a>
<a id="L347" class="source_line" href="#L347">347</a>
<a id="L348" class="source_line" href="#L348">348</a>
<a id="L349" class="source_line" href="#L349">349</a>
<a id="L350" class="source_line" href="#L350">350</a>
<a id="L351" class="source_line" href="#L351">351</a>
<a id="L352" class="source_line" href="#L352">352</a>
<a id="L353" class="source_line" href="#L353">353</a>
<a id="L354" class="source_line" href="#L354">354</a>
<a id="L355" class="source_line" href="#L355">355</a>
<a id="L356" class="source_line" href="#L356">356</a>
<a id="L357" class="source_line" href="#L357">357</a>
<a id="L358" class="source_line" href="#L358">358</a>
<a id="L359" class="source_line" href="#L359">359</a>
<a id="L360" class="source_line" href="#L360">360</a>
<a id="L361" class="source_line" href="#L361">361</a>
<a id="L362" class="source_line" href="#L362">362</a>
<a id="L363" class="source_line" href="#L363">363</a>
<a id="L364" class="source_line" href="#L364">364</a>
<a id="L365" class="source_line" href="#L365">365</a>
<a id="L366" class="source_line" href="#L366">366</a>
<a id="L367" class="source_line" href="#L367">367</a>
<a id="L368" class="source_line" href="#L368">368</a>
<a id="L369" class="source_line" href="#L369">369</a>
<a id="L370" class="source_line" href="#L370">370</a>
<a id="L371" class="source_line" href="#L371">371</a>
<a id="L372" class="source_line" href="#L372">372</a>
<a id="L373" class="source_line" href="#L373">373</a>
<a id="L374" class="source_line" href="#L374">374</a>
<a id="L375" class="source_line" href="#L375">375</a>
<a id="L376" class="source_line" href="#L376">376</a>
<a id="L377" class="source_line" href="#L377">377</a>
<a id="L378" class="source_line" href="#L378">378</a>
<a id="L379" class="source_line" href="#L379">379</a>
<a id="L380" class="source_line" href="#L380">380</a>
<a id="L381" class="source_line" href="#L381">381</a>
<a id="L382" class="source_line" href="#L382">382</a>
<a id="L383" class="source_line" href="#L383">383</a>
<a id="L384" class="source_line" href="#L384">384</a>
<a id="L385" class="source_line" href="#L385">385</a>
<a id="L386" class="source_line" href="#L386">386</a>
<a id="L387" class="source_line" href="#L387">387</a>
<a id="L388" class="source_line" href="#L388">388</a>
<a id="L389" class="source_line" href="#L389">389</a>
<a id="L390" class="source_line" href="#L390">390</a>
<a id="L391" class="source_line" href="#L391">391</a>
<a id="L392" class="source_line" href="#L392">392</a>
<a id="L393" class="source_line" href="#L393">393</a>
<a id="L394" class="source_line" href="#L394">394</a>
<a id="L395" class="source_line" href="#L395">395</a>
<a id="L396" class="source_line" href="#L396">396</a>
<a id="L397" class="source_line" href="#L397">397</a>
<a id="L398" class="source_line" href="#L398">398</a>
<a id="L399" class="source_line" href="#L399">399</a>
<a id="L400" class="source_line" href="#L400">400</a>
<a id="L401" class="source_line" href="#L401">401</a>
<a id="L402" class="source_line" href="#L402">402</a>
<a id="L403" class="source_line" href="#L403">403</a>
<a id="L404" class="source_line" href="#L404">404</a>
<a id="L405" class="source_line" href="#L405">405</a>
<a id="L406" class="source_line" href="#L406">406</a>
<a id="L407" class="source_line" href="#L407">407</a>
<a id="L408" class="source_line" href="#L408">408</a>
<a id="L409" class="source_line" href="#L409">409</a>
<a id="L410" class="source_line" href="#L410">410</a>
<a id="L411" class="source_line" href="#L411">411</a>
<a id="L412" class="source_line" href="#L412">412</a>
<a id="L413" class="source_line" href="#L413">413</a>
<a id="L414" class="source_line" href="#L414">414</a>
<a id="L415" class="source_line" href="#L415">415</a>
<a id="L416" class="source_line" href="#L416">416</a>
<a id="L417" class="source_line" href="#L417">417</a>
<a id="L418" class="source_line" href="#L418">418</a>
<a id="L419" class="source_line" href="#L419">419</a>
<a id="L420" class="source_line" href="#L420">420</a>
<a id="L421" class="source_line" href="#L421">421</a>
<a id="L422" class="source_line" href="#L422">422</a>
<a id="L423" class="source_line" href="#L423">423</a>
<a id="L424" class="source_line" href="#L424">424</a>
<a id="L425" class="source_line" href="#L425">425</a>
<a id="L426" class="source_line" href="#L426">426</a>
<a id="L427" class="source_line" href="#L427">427</a>
<a id="L428" class="source_line" href="#L428">428</a>
<a id="L429" class="source_line" href="#L429">429</a>
<a id="L430" class="source_line" href="#L430">430</a>
<a id="L431" class="source_line" href="#L431">431</a>
<a id="L432" class="source_line" href="#L432">432</a>
<a id="L433" class="source_line" href="#L433">433</a>
<a id="L434" class="source_line" href="#L434">434</a>
<a id="L435" class="source_line" href="#L435">435</a>
<a id="L436" class="source_line" href="#L436">436</a>
<a id="L437" class="source_line" href="#L437">437</a>
<a id="L438" class="source_line" href="#L438">438</a>
<a id="L439" class="source_line" href="#L439">439</a>
<a id="L440" class="source_line" href="#L440">440</a>
<a id="L441" class="source_line" href="#L441">441</a>
<a id="L442" class="source_line" href="#L442">442</a>
<a id="L443" class="source_line" href="#L443">443</a>
<a id="L444" class="source_line" href="#L444">444</a>
<a id="L445" class="source_line" href="#L445">445</a>
<a id="L446" class="source_line" href="#L446">446</a>
<a id="L447" class="source_line" href="#L447">447</a>
<a id="L448" class="source_line" href="#L448">448</a>
<a id="L449" class="source_line" href="#L449">449</a>
<a id="L450" class="source_line" href="#L450">450</a>
<a id="L451" class="source_line" href="#L451">451</a>
<a id="L452" class="source_line" href="#L452">452</a>
<a id="L453" class="source_line" href="#L453">453</a>
<a id="L454" class="source_line" href="#L454">454</a>
<a id="L455" class="source_line" href="#L455">455</a>
<a id="L456" class="source_line" href="#L456">456</a>
<a id="L457" class="source_line" href="#L457">457</a>
<a id="L458" class="source_line" href="#L458">458</a>
<a id="L459" class="source_line" href="#L459">459</a>
<a id="L460" class="source_line" href="#L460">460</a>
<a id="L461" class="source_line" href="#L461">461</a>
<a id="L462" class="source_line" href="#L462">462</a>
<a id="L463" class="source_line" href="#L463">463</a>
<a id="L464" class="source_line" href="#L464">464</a>
<a id="L465" class="source_line" href="#L465">465</a>
<a id="L466" class="source_line" href="#L466">466</a>
<a id="L467" class="source_line" href="#L467">467</a>
<a id="L468" class="source_line" href="#L468">468</a>
<a id="L469" class="source_line" href="#L469">469</a>
<a id="L470" class="source_line" href="#L470">470</a>
<a id="L471" class="source_line" href="#L471">471</a>
<a id="L472" class="source_line" href="#L472">472</a>
<a id="L473" class="source_line" href="#L473">473</a>
<a id="L474" class="source_line" href="#L474">474</a>
<a id="L475" class="source_line" href="#L475">475</a>
<a id="L476" class="source_line" href="#L476">476</a>
<a id="L477" class="source_line" href="#L477">477</a>
<a id="L478" class="source_line" href="#L478">478</a>
<a id="L479" class="source_line" href="#L479">479</a>
<a id="L480" class="source_line" href="#L480">480</a>
<a id="L481" class="source_line" href="#L481">481</a>
<a id="L482" class="source_line" href="#L482">482</a>
<a id="L483" class="source_line" href="#L483">483</a>
<a id="L484" class="source_line" href="#L484">484</a>
<a id="L485" class="source_line" href="#L485">485</a>
<a id="L486" class="source_line" href="#L486">486</a>
<a id="L487" class="source_line" href="#L487">487</a>
<a id="L488" class="source_line" href="#L488">488</a>
<a id="L489" class="source_line" href="#L489">489</a>
<a id="L490" class="source_line" href="#L490">490</a>
<a id="L491" class="source_line" href="#L491">491</a>
<a id="L492" class="source_line" href="#L492">492</a>
<a id="L493" class="source_line" href="#L493">493</a>
<a id="L494" class="source_line" href="#L494">494</a>
<a id="L495" class="source_line" href="#L495">495</a>
<a id="L496" class="source_line" href="#L496">496</a>
<a id="L497" class="source_line" href="#L497">497</a>
<a id="L498" class="source_line" href="#L498">498</a>
<a id="L499" class="source_line" href="#L499">499</a>
<a id="L500" class="source_line" href="#L500">500</a>
<a id="L501" class="source_line" href="#L501">501</a>
<a id="L502" class="source_line" href="#L502">502</a>
<a id="L503" class="source_line" href="#L503">503</a>
<a id="L504" class="source_line" href="#L504">504</a>
<a id="L505" class="source_line" href="#L505">505</a>
<a id="L506" class="source_line" href="#L506">506</a>
<a id="L507" class="source_line" href="#L507">507</a>
<a id="L508" class="source_line" href="#L508">508</a>
<a id="L509" class="source_line" href="#L509">509</a>
<a id="L510" class="source_line" href="#L510">510</a>
<a id="L511" class="source_line" href="#L511">511</a>
<a id="L512" class="source_line" href="#L512">512</a>
<a id="L513" class="source_line" href="#L513">513</a>
<a id="L514" class="source_line" href="#L514">514</a>
<a id="L515" class="source_line" href="#L515">515</a>
<a id="L516" class="source_line" href="#L516">516</a>
<a id="L517" class="source_line" href="#L517">517</a>
<a id="L518" class="source_line" href="#L518">518</a>
<a id="L519" class="source_line" href="#L519">519</a>
<a id="L520" class="source_line" href="#L520">520</a>
<a id="L521" class="source_line" href="#L521">521</a>
<a id="L522" class="source_line" href="#L522">522</a>
<a id="L523" class="source_line" href="#L523">523</a>
<a id="L524" class="source_line" href="#L524">524</a>
<a id="L525" class="source_line" href="#L525">525</a>
<a id="L526" class="source_line" href="#L526">526</a>
<a id="L527" class="source_line" href="#L527">527</a>
<a id="L528" class="source_line" href="#L528">528</a>
<a id="L529" class="source_line" href="#L529">529</a>
<a id="L530" class="source_line" href="#L530">530</a>
<a id="L531" class="source_line" href="#L531">531</a>
<a id="L532" class="source_line" href="#L532">532</a>
<a id="L533" class="source_line" href="#L533">533</a>
<a id="L534" class="source_line" href="#L534">534</a>
<a id="L535" class="source_line" href="#L535">535</a>
<a id="L536" class="source_line" href="#L536">536</a>
<a id="L537" class="source_line" href="#L537">537</a>
<a id="L538" class="source_line" href="#L538">538</a>
<a id="L539" class="source_line" href="#L539">539</a>
<a id="L540" class="source_line" href="#L540">540</a>
<a id="L541" class="source_line" href="#L541">541</a>
<a id="L542" class="source_line" href="#L542">542</a>
<a id="L543" class="source_line" href="#L543">543</a>
<a id="L544" class="source_line" href="#L544">544</a>
<a id="L545" class="source_line" href="#L545">545</a>
<a id="L546" class="source_line" href="#L546">546</a>
<a id="L547" class="source_line" href="#L547">547</a>
<a id="L548" class="source_line" href="#L548">548</a>
<a id="L549" class="source_line" href="#L549">549</a>
<a id="L550" class="source_line" href="#L550">550</a>
<a id="L551" class="source_line" href="#L551">551</a>
<a id="L552" class="source_line" href="#L552">552</a>
<a id="L553" class="source_line" href="#L553">553</a>
<a id="L554" class="source_line" href="#L554">554</a>
<a id="L555" class="source_line" href="#L555">555</a>
<a id="L556" class="source_line" href="#L556">556</a>
<a id="L557" class="source_line" href="#L557">557</a>
<a id="L558" class="source_line" href="#L558">558</a>
<a id="L559" class="source_line" href="#L559">559</a>
<a id="L560" class="source_line" href="#L560">560</a>
<a id="L561" class="source_line" href="#L561">561</a>
<a id="L562" class="source_line" href="#L562">562</a>
<a id="L563" class="source_line" href="#L563">563</a>
<a id="L564" class="source_line" href="#L564">564</a>
<a id="L565" class="source_line" href="#L565">565</a>
<a id="L566" class="source_line" href="#L566">566</a>
<a id="L567" class="source_line" href="#L567">567</a>
<a id="L568" class="source_line" href="#L568">568</a>
<a id="L569" class="source_line" href="#L569">569</a>
<a id="L570" class="source_line" href="#L570">570</a>
<a id="L571" class="source_line" href="#L571">571</a>
</code><code class="source_code"><span><span id="module-ManLink"><span class="MODULE">module</span> <span class="UIDENT">ManLink</span> <span class="EQUAL">=</span> <a href="link.ml.html"><span class="UIDENT">Link</span></a></span><span class="EOL">
</span><span class="OPEN">open</span> <a href="../odoc.document/odoc_document.ml.html"><span class="UIDENT">Odoc_document</span></a><span class="EOL">
</span><span class="OPEN">open</span> <a href="../odoc.document/types.ml.html"><span class="UIDENT">Types</span></a><span class="EOL">
</span><span class="OPEN">open</span> <a href="../odoc.document/doctree.ml.html"><span class="UIDENT">Doctree</span></a><span class="EOL">
</span><span id="module-Link"><span class="MODULE">module</span> <span class="UIDENT">Link</span> <span class="EQUAL">=</span> <span class="UIDENT">ManLink</span></span><span class="EOL">
</span><span class="EOL">
</span><span class="COMMENT">(*
Manpages relies on the (g|t|n)roff document language.
This language has a fairly long history
(see https://en.wikipedia.org/wiki/Groff_(software)).

Unfortunately, this language is very old and quite clunky.
Most manpages relies on a set of high-level macros
(http://man7.org/linux/man-pages/man7/groff_man.7.html)
that attempts to represent the semantic of common constructs in man pages. These
macros are too constraining for the rich ocamldoc markup and
their semantics are quite brittle, making them hard to use in a machine-output
context.

For these reason, we hit the low level commands directly:
- http://man7.org/linux/man-pages/man7/groff.7.html
- http://mandoc.bsd.lv/man/roff.7.html

The downside of these commands is their poor translation to HTML, which we
don't care about.

In the roff language:
1) newlines are not distinguished from other whitespace
2) Successive whitespaces are ignored, except to trigger
   &quot;end of sentence detection&quot; for 2 or more successive whitespaces.
3) Commands must start at the beginning of a line.
4) Whitespaces separated by a macro are not treated as a single whitespace.

For all these reasons, We use a concatenative API that will gobble up adjacent
extra whitespaces and never output successive whitespaces at all.
This makes the output much more consistent.
*)</span><span class="EOL">
</span><span id="module-Roff"><span class="MODULE">module</span> <span class="UIDENT">Roff</span> <span class="EQUAL">=</span> <span class="STRUCT">struct</span><span class="EOL">
</span>  <span id="module-Roff.type-t"><span class="TYPE">type</span> <span class="LIDENT">t</span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span id="module-Roff.type-t.constructor-Concat"><span class="BAR">|</span> <span class="UIDENT">Concat</span> <span class="OF">of</span> <span class="LIDENT">t</span> <span class="LIDENT">list</span></span><span class="EOL">
</span>    <span id="module-Roff.type-t.constructor-Font"><span class="BAR">|</span> <span class="UIDENT">Font</span> <span class="OF">of</span> <span class="LIDENT">string</span> <span class="STAR">*</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>    <span id="module-Roff.type-t.constructor-Macro"><span class="BAR">|</span> <span class="UIDENT">Macro</span> <span class="OF">of</span> <span class="LIDENT">string</span> <span class="STAR">*</span> <span class="LIDENT">string</span></span><span class="EOL">
</span>    <span id="module-Roff.type-t.constructor-Space"><span class="BAR">|</span> <span class="UIDENT">Space</span></span><span class="EOL">
</span>    <span id="module-Roff.type-t.constructor-Break"><span class="BAR">|</span> <span class="UIDENT">Break</span></span><span class="EOL">
</span>    <span id="module-Roff.type-t.constructor-String"><span class="BAR">|</span> <span class="UIDENT">String</span> <span class="OF">of</span> <span class="LIDENT">string</span></span><span class="EOL">
</span>    <span id="module-Roff.type-t.constructor-Vspace"><span class="BAR">|</span> <span class="UIDENT">Vspace</span></span><span class="EOL">
</span>    <span id="module-Roff.type-t.constructor-Indent"><span class="BAR">|</span> <span class="UIDENT">Indent</span> <span class="OF">of</span> <span class="LIDENT">int</span> <span class="STAR">*</span> <span class="LIDENT">t</span></span><span class="EOL">
</span>    <span id="module-Roff.type-t.constructor-Align_line"><span class="BAR">|</span> <span class="UIDENT">Align_line</span> <span class="OF">of</span> <span class="LIDENT">string</span></span><span class="EOL">
</span>    <span id="module-Roff.type-t.constructor-Table_cell"><span class="BAR">|</span> <span class="UIDENT">Table_cell</span> <span class="OF">of</span> <span class="LIDENT">t</span></span></span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-noop"><span class="LIDENT">noop</span></span> <span class="EQUAL">=</span> <span class="UIDENT">Concat</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-sp"><span class="LIDENT">sp</span></span> <span class="EQUAL">=</span> <span class="UIDENT">Space</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-break"><span class="LIDENT">break</span></span> <span class="EQUAL">=</span> <span class="UIDENT">Break</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-vspace"><span class="LIDENT">vspace</span></span> <span class="EQUAL">=</span> <span class="UIDENT">Vspace</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-append"><span class="LIDENT">append</span></span> <span id="local_t1_1"><span class="LIDENT">t1</span></span> <span id="local_t2_2"><span class="LIDENT">t2</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="MATCH">match</span> <span class="LPAREN">(</span><a href="#local_t1_1"><span class="LIDENT">t1</span></a><span class="COMMA">,</span> <a href="#local_t2_2"><span class="LIDENT">t2</span></a><span class="RPAREN">)</span> <span class="WITH">with</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UIDENT">Concat</span> <span id="local_l1_3"><span class="LIDENT">l1</span></span><span class="COMMA">,</span> <span class="UIDENT">Concat</span> <span id="local_l2_4"><span class="LIDENT">l2</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Concat</span> <span class="LPAREN">(</span><a href="#local_l1_3"><span class="LIDENT">l1</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(@)"><span class="INFIXOP1">@</span></a> <a href="#local_l2_4"><span class="LIDENT">l2</span></a><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UIDENT">Concat</span> <span id="local_l1_5"><span class="LIDENT">l1</span></span><span class="COMMA">,</span> <span id="local_e2_6"><span class="LIDENT">e2</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Concat</span> <span class="LPAREN">(</span><a href="#local_l1_5"><span class="LIDENT">l1</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(@)"><span class="INFIXOP1">@</span></a> <span class="LBRACKET">[</span> <a href="#local_e2_6"><span class="LIDENT">e2</span></a> <span class="RBRACKET">]</span><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="BAR">|</span> <span id="local_e1_7"><span class="LIDENT">e1</span></span><span class="COMMA">,</span> <span class="UIDENT">Concat</span> <span id="local_l2_8"><span class="LIDENT">l2</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Concat</span> <span class="LPAREN">(</span><a href="#local_e1_7"><span class="LIDENT">e1</span></a> <span class="COLONCOLON">::</span> <a href="#local_l2_8"><span class="LIDENT">l2</span></a><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="BAR">|</span> <span id="local_e1_9"><span class="LIDENT">e1</span></span><span class="COMMA">,</span> <span id="local_e2_10"><span class="LIDENT">e2</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Concat</span> <span class="LBRACKET">[</span> <a href="#local_e1_9"><span class="LIDENT">e1</span></a><span class="SEMI">;</span> <a href="#local_e2_10"><span class="LIDENT">e2</span></a> <span class="RBRACKET">]</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-(++)"><span class="LPAREN">(</span> <span class="INFIXOP2">++</span> <span class="RPAREN">)</span></span> <span class="EQUAL">=</span> <span class="LIDENT">append</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-concat"><span class="LIDENT">concat</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/list.ml.html#val-fold_left"><span class="UIDENT">List</span><span class="DOT">.</span><span class="LIDENT">fold_left</span></a> <span class="LPAREN">(</span> <span class="INFIXOP2">++</span> <span class="RPAREN">)</span> <span class="LPAREN">(</span><span class="UIDENT">Concat</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span class="REC">rec</span> <span id="module-Roff.val-intersperse"><span class="LIDENT">intersperse</span></span> <span class="TILDE">~</span><span id="local_sep_11"><span class="LIDENT">sep</span></span> <span class="EQUAL">=</span> <span class="FUNCTION">function</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="LBRACKET">[</span> <span id="local_h_12"><span class="LIDENT">h</span></span> <span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LBRACKET">[</span> <a href="#local_h_12"><span class="LIDENT">h</span></a> <span class="RBRACKET">]</span><span class="EOL">
</span>    <span class="BAR">|</span> <span id="local_h1_13"><span class="LIDENT">h1</span></span> <span class="COLONCOLON">::</span> <span class="LPAREN">(</span><span class="UNDERSCORE">_</span> <span class="COLONCOLON">::</span> <span class="UNDERSCORE">_</span> <span class="AS">as</span> <span id="local_t_14"><span class="LIDENT">t</span></span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_h1_13"><span class="LIDENT">h1</span></a> <span class="COLONCOLON">::</span> <a href="#local_sep_11"><span class="LIDENT">sep</span></a> <span class="COLONCOLON">::</span> <span class="LIDENT">intersperse</span> <span class="TILDE">~</span><a href="#local_sep_11"><span class="LIDENT">sep</span></a> <a href="#local_t_14"><span class="LIDENT">t</span></a><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-list"><span class="LIDENT">list</span></span> <span class="QUESTION">?</span><span class="LPAREN">(</span><span id="local_sep_15"><span class="LIDENT">sep</span></span> <span class="EQUAL">=</span> <span class="UIDENT">Concat</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span><span class="RPAREN">)</span> <span id="local_l_16"><span class="LIDENT">l</span></span> <span class="EQUAL">=</span> <span class="LIDENT">concat</span> <span class="INFIXOP1">@@</span> <span class="LIDENT">intersperse</span> <span class="TILDE">~</span><a href="#local_sep_15"><span class="LIDENT">sep</span></a> <a href="#local_l_16"><span class="LIDENT">l</span></a><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-indent"><span class="LIDENT">indent</span></span> <span id="local_i_17"><span class="LIDENT">i</span></span> <span id="local_content_18"><span class="LIDENT">content</span></span> <span class="EQUAL">=</span> <span class="UIDENT">Indent</span> <span class="LPAREN">(</span><a href="#local_i_17"><span class="LIDENT">i</span></a><span class="COMMA">,</span> <a href="#local_content_18"><span class="LIDENT">content</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-macro"><span class="LIDENT">macro</span></span> <span id="local_id_19"><span class="LIDENT">id</span></span> <span id="local_fmt_20"><span class="LIDENT">fmt</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#val-ksprintf"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">ksprintf</span></a> <span class="LPAREN">(</span><span class="FUN">fun</span> <span id="local_s_21"><span class="LIDENT">s</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Macro</span> <span class="LPAREN">(</span><a href="#local_id_19"><span class="LIDENT">id</span></a><span class="COMMA">,</span> <a href="#local_s_21"><span class="LIDENT">s</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span> <a href="#local_fmt_20"><span class="LIDENT">fmt</span></a><span class="EOL">
</span><span class="EOL">
</span>  <span class="COMMENT">(* copied from cmdliner *)</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-escape"><span class="LIDENT">escape</span></span> <span id="local_s_22"><span class="LIDENT">s</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="COMMENT">(* escapes [s] from doc language. *)</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_markup_text_need_esc_23"><span class="LIDENT">markup_text_need_esc</span></span> <span class="EQUAL">=</span> <span class="FUNCTION">function</span> <span class="CHAR">'.'</span> <span class="BAR">|</span> <span class="CHAR">'\\'</span> <span class="MINUSGREATER">-&gt;</span> <span class="TRUE">true</span> <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="FALSE">false</span> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_max_i_24"><span class="LIDENT">max_i</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/string.ml.html#val-length"><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">length</span></a> <a href="#local_s_22"><span class="LIDENT">s</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(-)"><span class="MINUS">-</span></a> <span class="INT">1</span> <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="REC">rec</span> <span id="local_escaped_len_25"><span class="LIDENT">escaped_len</span></span> <span id="local_i_26"><span class="LIDENT">i</span></span> <span id="local_l_27"><span class="LIDENT">l</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="IF">if</span> <a href="#local_i_26"><span class="LIDENT">i</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(&gt;)"><span class="GREATER">&gt;</span></a> <a href="#local_max_i_24"><span class="LIDENT">max_i</span></a> <span class="THEN">then</span> <a href="#local_l_27"><span class="LIDENT">l</span></a><span class="EOL">
</span>      <span class="ELSE">else</span> <span class="IF">if</span> <a href="#local_markup_text_need_esc_23"><span class="LIDENT">markup_text_need_esc</span></a> <a href="#local_s_22"><span class="LIDENT">s</span></a><span class="DOT">.</span><span class="LBRACKET">[</span><a href="#local_i_26"><span class="LIDENT">i</span></a><span class="RBRACKET">]</span> <span class="THEN">then</span> <a href="#local_escaped_len_25"><span class="LIDENT">escaped_len</span></a> <span class="LPAREN">(</span><a href="#local_i_26"><span class="LIDENT">i</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(+)"><span class="PLUS">+</span></a> <span class="INT">1</span><span class="RPAREN">)</span> <span class="LPAREN">(</span><a href="#local_l_27"><span class="LIDENT">l</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(+)"><span class="PLUS">+</span></a> <span class="INT">2</span><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="ELSE">else</span> <a href="#local_escaped_len_25"><span class="LIDENT">escaped_len</span></a> <span class="LPAREN">(</span><a href="#local_i_26"><span class="LIDENT">i</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(+)"><span class="PLUS">+</span></a> <span class="INT">1</span><span class="RPAREN">)</span> <span class="LPAREN">(</span><a href="#local_l_27"><span class="LIDENT">l</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(+)"><span class="PLUS">+</span></a> <span class="INT">1</span><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_escaped_len_28"><span class="LIDENT">escaped_len</span></span> <span class="EQUAL">=</span> <a href="#local_escaped_len_25"><span class="LIDENT">escaped_len</span></a> <span class="INT">0</span> <span class="INT">0</span> <span class="IN">in</span><span class="EOL">
</span>    <span class="IF">if</span> <a href="#local_escaped_len_28"><span class="LIDENT">escaped_len</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(=)"><span class="EQUAL">=</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/string.ml.html#val-length"><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">length</span></a> <a href="#local_s_22"><span class="LIDENT">s</span></a> <span class="THEN">then</span> <a href="#local_s_22"><span class="LIDENT">s</span></a><span class="EOL">
</span>    <span class="ELSE">else</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_b_29"><span class="LIDENT">b</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/bytes.ml.html#val-create"><span class="UIDENT">Bytes</span><span class="DOT">.</span><span class="LIDENT">create</span></a> <a href="#local_escaped_len_28"><span class="LIDENT">escaped_len</span></a> <span class="IN">in</span><span class="EOL">
</span>      <span class="LET">let</span> <span class="REC">rec</span> <span id="local_loop_30"><span class="LIDENT">loop</span></span> <span id="local_i_31"><span class="LIDENT">i</span></span> <span id="local_k_32"><span class="LIDENT">k</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>        <span class="IF">if</span> <a href="#local_i_31"><span class="LIDENT">i</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(&gt;)"><span class="GREATER">&gt;</span></a> <a href="#local_max_i_24"><span class="LIDENT">max_i</span></a> <span class="THEN">then</span> <a href="../../../ocaml-base-compiler/src/stdlib/bytes.ml.html#val-unsafe_to_string"><span class="UIDENT">Bytes</span><span class="DOT">.</span><span class="LIDENT">unsafe_to_string</span></a> <a href="#local_b_29"><span class="LIDENT">b</span></a><span class="EOL">
</span>        <span class="ELSE">else</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_c_33"><span class="LIDENT">c</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/string.ml.html#val-unsafe_get"><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">unsafe_get</span></a> <a href="#local_s_22"><span class="LIDENT">s</span></a> <a href="#local_i_31"><span class="LIDENT">i</span></a> <span class="IN">in</span><span class="EOL">
</span>          <span class="IF">if</span> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-not"><span class="LIDENT">not</span></a> <span class="LPAREN">(</span><a href="#local_markup_text_need_esc_23"><span class="LIDENT">markup_text_need_esc</span></a> <a href="#local_c_33"><span class="LIDENT">c</span></a><span class="RPAREN">)</span> <span class="THEN">then</span> <span class="LPAREN">(</span><span class="EOL">
</span>            <a href="../../../ocaml-base-compiler/src/stdlib/bytes.ml.html#val-unsafe_set"><span class="UIDENT">Bytes</span><span class="DOT">.</span><span class="LIDENT">unsafe_set</span></a> <a href="#local_b_29"><span class="LIDENT">b</span></a> <a href="#local_k_32"><span class="LIDENT">k</span></a> <a href="#local_c_33"><span class="LIDENT">c</span></a><span class="SEMI">;</span><span class="EOL">
</span>            <a href="#local_loop_30"><span class="LIDENT">loop</span></a> <span class="LPAREN">(</span><a href="#local_i_31"><span class="LIDENT">i</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(+)"><span class="PLUS">+</span></a> <span class="INT">1</span><span class="RPAREN">)</span> <span class="LPAREN">(</span><a href="#local_k_32"><span class="LIDENT">k</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(+)"><span class="PLUS">+</span></a> <span class="INT">1</span><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="ELSE">else</span> <span class="LPAREN">(</span><span class="EOL">
</span>            <a href="../../../ocaml-base-compiler/src/stdlib/bytes.ml.html#val-unsafe_set"><span class="UIDENT">Bytes</span><span class="DOT">.</span><span class="LIDENT">unsafe_set</span></a> <a href="#local_b_29"><span class="LIDENT">b</span></a> <a href="#local_k_32"><span class="LIDENT">k</span></a> <span class="CHAR">'\\'</span><span class="SEMI">;</span><span class="EOL">
</span>            <a href="../../../ocaml-base-compiler/src/stdlib/bytes.ml.html#val-unsafe_set"><span class="UIDENT">Bytes</span><span class="DOT">.</span><span class="LIDENT">unsafe_set</span></a> <a href="#local_b_29"><span class="LIDENT">b</span></a> <span class="LPAREN">(</span><a href="#local_k_32"><span class="LIDENT">k</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(+)"><span class="PLUS">+</span></a> <span class="INT">1</span><span class="RPAREN">)</span> <a href="#local_c_33"><span class="LIDENT">c</span></a><span class="SEMI">;</span><span class="EOL">
</span>            <a href="#local_loop_30"><span class="LIDENT">loop</span></a> <span class="LPAREN">(</span><a href="#local_i_31"><span class="LIDENT">i</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(+)"><span class="PLUS">+</span></a> <span class="INT">1</span><span class="RPAREN">)</span> <span class="LPAREN">(</span><a href="#local_k_32"><span class="LIDENT">k</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(+)"><span class="PLUS">+</span></a> <span class="INT">2</span><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="IN">in</span><span class="EOL">
</span>      <a href="#local_loop_30"><span class="LIDENT">loop</span></a> <span class="INT">0</span> <span class="INT">0</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-str"><span class="LIDENT">str</span></span> <span id="local_fmt_34"><span class="LIDENT">fmt</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#val-ksprintf"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">ksprintf</span></a> <span class="LPAREN">(</span><span class="FUN">fun</span> <span id="local_s_35"><span class="LIDENT">s</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">String</span> <span class="LPAREN">(</span><span class="LIDENT">escape</span> <a href="#local_s_35"><span class="LIDENT">s</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span> <a href="#local_fmt_34"><span class="LIDENT">fmt</span></a><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-escaped"><span class="LIDENT">escaped</span></span> <span id="local_fmt_36"><span class="LIDENT">fmt</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#val-ksprintf"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">ksprintf</span></a> <span class="LPAREN">(</span><span class="FUN">fun</span> <span id="local_s_37"><span class="LIDENT">s</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">String</span> <a href="#local_s_37"><span class="LIDENT">s</span></a><span class="RPAREN">)</span> <a href="#local_fmt_36"><span class="LIDENT">fmt</span></a><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-env"><span class="LIDENT">env</span></span> <span id="local_o_38"><span class="LIDENT">o</span></span> <span id="local_c_39"><span class="LIDENT">c</span></span> <span id="local_arg_40"><span class="LIDENT">arg</span></span> <span id="local_content_41"><span class="LIDENT">content</span></span> <span class="EQUAL">=</span> <span class="LIDENT">macro</span> <a href="#local_o_38"><span class="LIDENT">o</span></a> <span class="STRING">&quot;%s&quot;</span> <a href="#local_arg_40"><span class="LIDENT">arg</span></a> <span class="INFIXOP2">++</span> <a href="#local_content_41"><span class="LIDENT">content</span></a> <span class="INFIXOP2">++</span> <span class="LIDENT">macro</span> <a href="#local_c_39"><span class="LIDENT">c</span></a> <span class="STRING">&quot;&quot;</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-font"><span class="LIDENT">font</span></span> <span id="local_s_42"><span class="LIDENT">s</span></span> <span id="local_content_43"><span class="LIDENT">content</span></span> <span class="EQUAL">=</span> <span class="UIDENT">Font</span> <span class="LPAREN">(</span><a href="#local_s_42"><span class="LIDENT">s</span></a><span class="COMMA">,</span> <a href="#local_content_43"><span class="LIDENT">content</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-font_stack"><span class="LIDENT">font_stack</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/stack.ml.html#val-create"><span class="UIDENT">Stack</span><span class="DOT">.</span><span class="LIDENT">create</span></a> <span class="LPAREN">(</span><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-pp_font"><span class="LIDENT">pp_font</span></span> <span id="local_ppf_44"><span class="LIDENT">ppf</span></span> <span id="local_s_45"><span class="LIDENT">s</span></span> <span id="local_fmt_46"><span class="LIDENT">fmt</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_command_f_47"><span class="LIDENT">command_f</span></span> <span id="local_ppf_48"><span class="LIDENT">ppf</span></span> <span id="local_s_49"><span class="LIDENT">s</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="IF">if</span> <a href="../../../ocaml-base-compiler/src/stdlib/string.ml.html#val-length"><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">length</span></a> <a href="#local_s_49"><span class="LIDENT">s</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(=)"><span class="EQUAL">=</span></a> <span class="INT">1</span> <span class="THEN">then</span> <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#val-fprintf"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">fprintf</span></a> <a href="#local_ppf_48"><span class="LIDENT">ppf</span></a> <span class="STRING">{|\f%s|}</span> <a href="#local_s_49"><span class="LIDENT">s</span></a><span class="EOL">
</span>      <span class="ELSE">else</span> <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#val-fprintf"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">fprintf</span></a> <a href="#local_ppf_48"><span class="LIDENT">ppf</span></a> <span class="STRING">{|\f[%s]|}</span> <a href="#local_s_49"><span class="LIDENT">s</span></a><span class="EOL">
</span>    <span class="IN">in</span><span class="EOL">
</span>    <a href="../../../ocaml-base-compiler/src/stdlib/stack.ml.html#val-push"><span class="UIDENT">Stack</span><span class="DOT">.</span><span class="LIDENT">push</span></a> <a href="#local_s_45"><span class="LIDENT">s</span></a> <span class="LIDENT">font_stack</span><span class="SEMI">;</span><span class="EOL">
</span>    <a href="#local_command_f_47"><span class="LIDENT">command_f</span></a> <a href="#local_ppf_44"><span class="LIDENT">ppf</span></a> <a href="#local_s_45"><span class="LIDENT">s</span></a><span class="SEMI">;</span><span class="EOL">
</span>    <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#val-kfprintf"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">kfprintf</span></a><span class="EOL">
</span>      <span class="LPAREN">(</span><span class="FUN">fun</span> <span id="local_ppf_50"><span class="LIDENT">ppf</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>        <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-ignore"><span class="LIDENT">ignore</span></a> <span class="INFIXOP1">@@</span> <a href="../../../ocaml-base-compiler/src/stdlib/stack.ml.html#val-pop"><span class="UIDENT">Stack</span><span class="DOT">.</span><span class="LIDENT">pop</span></a> <span class="LIDENT">font_stack</span><span class="SEMI">;</span><span class="EOL">
</span>        <span class="LET">let</span> <span id="local_s_51"><span class="LIDENT">s</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>          <span class="IF">if</span> <a href="../../../ocaml-base-compiler/src/stdlib/stack.ml.html#val-is_empty"><span class="UIDENT">Stack</span><span class="DOT">.</span><span class="LIDENT">is_empty</span></a> <span class="LIDENT">font_stack</span> <span class="THEN">then</span> <span class="STRING">&quot;R&quot;</span> <span class="ELSE">else</span> <a href="../../../ocaml-base-compiler/src/stdlib/stack.ml.html#val-top"><span class="UIDENT">Stack</span><span class="DOT">.</span><span class="LIDENT">top</span></a> <span class="LIDENT">font_stack</span><span class="EOL">
</span>        <span class="IN">in</span><span class="EOL">
</span>        <a href="#local_command_f_47"><span class="LIDENT">command_f</span></a> <a href="#local_ppf_50"><span class="LIDENT">ppf</span></a> <a href="#local_s_51"><span class="LIDENT">s</span></a><span class="RPAREN">)</span><span class="EOL">
</span>      <a href="#local_ppf_44"><span class="LIDENT">ppf</span></a> <a href="#local_fmt_46"><span class="LIDENT">fmt</span></a><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-collapse"><span class="LIDENT">collapse</span></span> <span id="local_x_52"><span class="LIDENT">x</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_skip_spaces_53"><span class="LIDENT">skip_spaces</span></span> <span id="local_l_54"><span class="LIDENT">l</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="def_297"><span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span id="local_rest_55"><span class="LIDENT">rest</span></span></span> <span class="EQUAL">=</span><span class="EOL">
</span>        <a href="../odoc.document/doctree.ml.html#module-Take.val-until"><span class="UIDENT">Take</span><span class="DOT">.</span><span class="LIDENT">until</span></a> <a href="#local_l_54"><span class="LIDENT">l</span></a> <span class="LABEL">~classify:</span><span class="LPAREN">(</span><span class="FUNCTION">function</span> <span class="UIDENT">Space</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Skip</span> <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Stop_and_keep</span><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="IN">in</span><span class="EOL">
</span>      <a href="#local_rest_55"><span class="LIDENT">rest</span></a><span class="EOL">
</span>    <span class="AND">and</span> <span id="local_skip_spaces_and_break_56"><span class="LIDENT">skip_spaces_and_break</span></span> <span id="local_l_57"><span class="LIDENT">l</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="def_299"><span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span id="local_rest_58"><span class="LIDENT">rest</span></span></span> <span class="EQUAL">=</span><span class="EOL">
</span>        <a href="../odoc.document/doctree.ml.html#module-Take.val-until"><span class="UIDENT">Take</span><span class="DOT">.</span><span class="LIDENT">until</span></a> <a href="#local_l_57"><span class="LIDENT">l</span></a> <span class="LABEL">~classify:</span><span class="LPAREN">(</span><span class="FUNCTION">function</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UIDENT">Space</span> <span class="BAR">|</span> <span class="UIDENT">Break</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Skip</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Stop_and_keep</span><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="IN">in</span><span class="EOL">
</span>      <a href="#local_rest_58"><span class="LIDENT">rest</span></a><span class="EOL">
</span>    <span class="AND">and</span> <span id="local_skip_spaces_and_break_and_vspace_59"><span class="LIDENT">skip_spaces_and_break_and_vspace</span></span> <span id="local_l_60"><span class="LIDENT">l</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="def_304"><span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span id="local_rest_61"><span class="LIDENT">rest</span></span></span> <span class="EQUAL">=</span><span class="EOL">
</span>        <a href="../odoc.document/doctree.ml.html#module-Take.val-until"><span class="UIDENT">Take</span><span class="DOT">.</span><span class="LIDENT">until</span></a> <a href="#local_l_60"><span class="LIDENT">l</span></a> <span class="LABEL">~classify:</span><span class="LPAREN">(</span><span class="FUNCTION">function</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UIDENT">Space</span> <span class="BAR">|</span> <span class="UIDENT">Break</span> <span class="BAR">|</span> <span class="UIDENT">Vspace</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Skip</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Stop_and_keep</span><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="IN">in</span><span class="EOL">
</span>      <a href="#local_rest_61"><span class="LIDENT">rest</span></a><span class="EOL">
</span>    <span class="IN">in</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="REC">rec</span> <span id="local_loop_62"><span class="LIDENT">loop</span></span> <span id="local_acc_63"><span class="LIDENT">acc</span></span> <span id="local_l_64"><span class="LIDENT">l</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="MATCH">match</span> <a href="#local_l_64"><span class="LIDENT">l</span></a> <span class="WITH">with</span><span class="EOL">
</span>      <span class="COMMENT">(* | (Space | Break) :: (Macro _ :: _ as t) -&gt;
       *   loop acc t *)</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Vspace</span> <span class="COLONCOLON">::</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_rest_65"><span class="LIDENT">rest</span></span> <span class="EQUAL">=</span> <a href="#local_skip_spaces_and_break_and_vspace_59"><span class="LIDENT">skip_spaces_and_break_and_vspace</span></a> <a href="#local_l_64"><span class="LIDENT">l</span></a> <span class="IN">in</span><span class="EOL">
</span>          <a href="#local_loop_62"><span class="LIDENT">loop</span></a> <span class="LPAREN">(</span><span class="UIDENT">Vspace</span> <span class="COLONCOLON">::</span> <a href="#local_acc_63"><span class="LIDENT">acc</span></a><span class="RPAREN">)</span> <a href="#local_rest_65"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Break</span> <span class="COLONCOLON">::</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_rest_66"><span class="LIDENT">rest</span></span> <span class="EQUAL">=</span> <a href="#local_skip_spaces_and_break_56"><span class="LIDENT">skip_spaces_and_break</span></a> <a href="#local_l_64"><span class="LIDENT">l</span></a> <span class="IN">in</span><span class="EOL">
</span>          <a href="#local_loop_62"><span class="LIDENT">loop</span></a> <span class="LPAREN">(</span><span class="UIDENT">Break</span> <span class="COLONCOLON">::</span> <a href="#local_acc_63"><span class="LIDENT">acc</span></a><span class="RPAREN">)</span> <a href="#local_rest_66"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Space</span> <span class="COLONCOLON">::</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_rest_67"><span class="LIDENT">rest</span></span> <span class="EQUAL">=</span> <a href="#local_skip_spaces_53"><span class="LIDENT">skip_spaces</span></a> <a href="#local_l_64"><span class="LIDENT">l</span></a> <span class="IN">in</span><span class="EOL">
</span>          <a href="#local_loop_62"><span class="LIDENT">loop</span></a> <span class="LPAREN">(</span><span class="UIDENT">Space</span> <span class="COLONCOLON">::</span> <a href="#local_acc_63"><span class="LIDENT">acc</span></a><span class="RPAREN">)</span> <a href="#local_rest_67"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Concat</span> <span id="local_l_68"><span class="LIDENT">l</span></span> <span class="COLONCOLON">::</span> <span id="local_rest_69"><span class="LIDENT">rest</span></span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_loop_62"><span class="LIDENT">loop</span></a> <a href="#local_acc_63"><span class="LIDENT">acc</span></a> <span class="LPAREN">(</span><a href="#local_l_68"><span class="LIDENT">l</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(@)"><span class="INFIXOP1">@</span></a> <a href="#local_rest_69"><span class="LIDENT">rest</span></a><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="LPAREN">(</span><span class="UIDENT">Macro</span> <span class="UNDERSCORE">_</span> <span class="AS">as</span> <span id="local_h_70"><span class="LIDENT">h</span></span><span class="RPAREN">)</span> <span class="COLONCOLON">::</span> <span id="local_rest_71"><span class="LIDENT">rest</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_rest_72"><span class="LIDENT">rest</span></span> <span class="EQUAL">=</span> <a href="#local_skip_spaces_53"><span class="LIDENT">skip_spaces</span></a> <a href="#local_rest_71"><span class="LIDENT">rest</span></a> <span class="IN">in</span><span class="EOL">
</span>          <a href="#local_loop_62"><span class="LIDENT">loop</span></a> <span class="LPAREN">(</span><a href="#local_h_70"><span class="LIDENT">h</span></a> <span class="COLONCOLON">::</span> <a href="#local_acc_63"><span class="LIDENT">acc</span></a><span class="RPAREN">)</span> <a href="#local_rest_72"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_acc_63"><span class="LIDENT">acc</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span id="local_h_73"><span class="LIDENT">h</span></span> <span class="COLONCOLON">::</span> <span id="local_t_74"><span class="LIDENT">t</span></span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_loop_62"><span class="LIDENT">loop</span></a> <span class="LPAREN">(</span><a href="#local_h_73"><span class="LIDENT">h</span></a> <span class="COLONCOLON">::</span> <a href="#local_acc_63"><span class="LIDENT">acc</span></a><span class="RPAREN">)</span> <a href="#local_t_74"><span class="LIDENT">t</span></a><span class="EOL">
</span>    <span class="IN">in</span><span class="EOL">
</span>    <a href="../../../ocaml-base-compiler/src/stdlib/list.ml.html#val-rev"><span class="UIDENT">List</span><span class="DOT">.</span><span class="LIDENT">rev</span></a> <span class="INFIXOP1">@@</span> <a href="#local_loop_62"><span class="LIDENT">loop</span></a> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="LBRACKET">[</span> <a href="#local_x_52"><span class="LIDENT">x</span></a> <span class="RBRACKET">]</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span class="REC">rec</span> <span id="module-Roff.val-next_is_macro"><span class="LIDENT">next_is_macro</span></span> <span class="EQUAL">=</span> <span class="FUNCTION">function</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="LPAREN">(</span><span class="UIDENT">Vspace</span> <span class="BAR">|</span> <span class="UIDENT">Break</span> <span class="BAR">|</span> <span class="UIDENT">Macro</span> <span class="UNDERSCORE">_</span><span class="RPAREN">)</span> <span class="COLONCOLON">::</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="TRUE">true</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UIDENT">Concat</span> <span id="local_l_75"><span class="LIDENT">l</span></span> <span class="COLONCOLON">::</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">next_is_macro</span> <a href="#local_l_75"><span class="LIDENT">l</span></a><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UIDENT">Font</span> <span class="LPAREN">(</span><span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span id="local_content_76"><span class="LIDENT">content</span></span><span class="RPAREN">)</span> <span class="COLONCOLON">::</span> <span class="UNDERSCORE">_</span> <span class="BAR">|</span> <span class="UIDENT">Indent</span> <span class="LPAREN">(</span><span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span id="local_content_77"><span class="LIDENT">content</span></span><span class="RPAREN">)</span> <span class="COLONCOLON">::</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>        <span class="LIDENT">next_is_macro</span> <span class="LBRACKET">[</span> <a href="#local_content_77"><span class="LIDENT">content</span></a> <span class="RBRACKET">]</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="FALSE">false</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-pp_macro"><span class="LIDENT">pp_macro</span></span> <span id="local_ppf_78"><span class="LIDENT">ppf</span></span> <span id="local_s_79"><span class="LIDENT">s</span></span> <span id="local_fmt_80"><span class="LIDENT">fmt</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#val-fprintf"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">fprintf</span></a> <a href="#local_ppf_78"><span class="LIDENT">ppf</span></a> <span class="LPAREN">(</span><span class="STRING">&quot;@\n.%s &quot;</span> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(^^)"><span class="INFIXOP1">^^</span></a> <a href="#local_fmt_80"><span class="LIDENT">fmt</span></a><span class="RPAREN">)</span> <a href="#local_s_79"><span class="LIDENT">s</span></a><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-pp_indent"><span class="LIDENT">pp_indent</span></span> <span id="local_ppf_81"><span class="LIDENT">ppf</span></span> <span id="local_indent_82"><span class="LIDENT">indent</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="IF">if</span> <a href="#local_indent_82"><span class="LIDENT">indent</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(=)"><span class="EQUAL">=</span></a> <span class="INT">0</span> <span class="THEN">then</span> <span class="LPAREN">(</span><span class="RPAREN">)</span> <span class="ELSE">else</span> <span class="LIDENT">pp_macro</span> <a href="#local_ppf_81"><span class="LIDENT">ppf</span></a> <span class="STRING">&quot;ti&quot;</span> <span class="STRING">&quot;+%d&quot;</span> <a href="#local_indent_82"><span class="LIDENT">indent</span></a><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-newline_if"><span class="LIDENT">newline_if</span></span> <span id="local_ppf_83"><span class="LIDENT">ppf</span></span> <span id="local_b_84"><span class="LIDENT">b</span></span> <span class="EQUAL">=</span> <span class="IF">if</span> <a href="#local_b_84"><span class="LIDENT">b</span></a> <span class="THEN">then</span> <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#val-pp_force_newline"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">pp_force_newline</span></a> <a href="#local_ppf_83"><span class="LIDENT">ppf</span></a> <span class="LPAREN">(</span><span class="RPAREN">)</span> <span class="ELSE">else</span> <span class="LPAREN">(</span><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="module-Roff.val-pp"><span class="LIDENT">pp</span></span> <span id="local_ppf_85"><span class="LIDENT">ppf</span></span> <span id="local_t_86"><span class="LIDENT">t</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span class="REC">rec</span> <span id="local_many_87"><span class="LIDENT">many</span></span> <span class="TILDE">~</span><span id="local_indent_88"><span class="LIDENT">indent</span></span> <span id="local_ppf_89"><span class="LIDENT">ppf</span></span> <span id="local_l_90"><span class="LIDENT">l</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="MATCH">match</span> <a href="#local_l_90"><span class="LIDENT">l</span></a> <span class="WITH">with</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="BAR">|</span> <span id="local_h_91"><span class="LIDENT">h</span></span> <span class="COLONCOLON">::</span> <span id="local_t_92"><span class="LIDENT">t</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_is_macro_93"><span class="LIDENT">is_macro</span></span> <span class="EQUAL">=</span> <span class="LIDENT">next_is_macro</span> <a href="#local_t_92"><span class="LIDENT">t</span></a> <span class="IN">in</span><span class="EOL">
</span>          <span class="LPAREN">(</span><span class="MATCH">match</span> <a href="#local_h_91"><span class="LIDENT">h</span></a> <span class="WITH">with</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UIDENT">Concat</span> <span id="local_l_94"><span class="LIDENT">l</span></span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_many_87"><span class="LIDENT">many</span></a> <span class="TILDE">~</span><a href="#local_indent_88"><span class="LIDENT">indent</span></a> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <a href="#local_l_94"><span class="LIDENT">l</span></a><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UIDENT">String</span> <span id="local_s_95"><span class="LIDENT">s</span></span> <span class="MINUSGREATER">-&gt;</span> <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#val-pp_print_string"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">pp_print_string</span></a> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <a href="#local_s_95"><span class="LIDENT">s</span></a><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UIDENT">Font</span> <span class="LPAREN">(</span><span id="local_s_96"><span class="LIDENT">s</span></span><span class="COMMA">,</span> <span id="local_t_97"><span class="LIDENT">t</span></span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">pp_font</span> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <a href="#local_s_96"><span class="LIDENT">s</span></a> <span class="STRING">&quot;%a&quot;</span> <span class="LPAREN">(</span><a href="#local_one_105"><span class="LIDENT">one</span></a> <span class="TILDE">~</span><a href="#local_indent_88"><span class="LIDENT">indent</span></a><span class="RPAREN">)</span> <a href="#local_t_97"><span class="LIDENT">t</span></a><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UIDENT">Space</span> <span class="MINUSGREATER">-&gt;</span> <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#val-fprintf"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">fprintf</span></a> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <span class="STRING">&quot; &quot;</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UIDENT">Break</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>              <span class="LIDENT">pp_macro</span> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <span class="STRING">&quot;br&quot;</span> <span class="STRING">&quot;&quot;</span><span class="SEMI">;</span><span class="EOL">
</span>              <span class="LIDENT">pp_indent</span> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <a href="#local_indent_88"><span class="LIDENT">indent</span></a><span class="SEMI">;</span><span class="EOL">
</span>              <span class="LIDENT">newline_if</span> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-not"><span class="LIDENT">not</span></a> <a href="#local_is_macro_93"><span class="LIDENT">is_macro</span></a><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UIDENT">Vspace</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>              <span class="LIDENT">pp_macro</span> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <span class="STRING">&quot;sp&quot;</span> <span class="STRING">&quot;&quot;</span><span class="SEMI">;</span><span class="EOL">
</span>              <span class="LIDENT">pp_indent</span> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <a href="#local_indent_88"><span class="LIDENT">indent</span></a><span class="SEMI">;</span><span class="EOL">
</span>              <span class="LIDENT">newline_if</span> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-not"><span class="LIDENT">not</span></a> <a href="#local_is_macro_93"><span class="LIDENT">is_macro</span></a><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UIDENT">Macro</span> <span class="LPAREN">(</span><span id="local_s_98"><span class="LIDENT">s</span></span><span class="COMMA">,</span> <span id="local_args_99"><span class="LIDENT">args</span></span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>              <span class="LIDENT">pp_macro</span> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <a href="#local_s_98"><span class="LIDENT">s</span></a> <span class="STRING">&quot;%s&quot;</span> <a href="#local_args_99"><span class="LIDENT">args</span></a><span class="SEMI">;</span><span class="EOL">
</span>              <span class="LIDENT">newline_if</span> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-not"><span class="LIDENT">not</span></a> <a href="#local_is_macro_93"><span class="LIDENT">is_macro</span></a><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UIDENT">Align_line</span> <span id="local_s_100"><span class="LIDENT">s</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>              <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#val-pp_print_string"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">pp_print_string</span></a> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <span class="LPAREN">(</span><a href="#local_s_100"><span class="LIDENT">s</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(^)"><span class="INFIXOP1">^</span></a> <span class="STRING">&quot;.&quot;</span><span class="RPAREN">)</span><span class="SEMI">;</span><span class="EOL">
</span>              <span class="LIDENT">newline_if</span> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-not"><span class="LIDENT">not</span></a> <a href="#local_is_macro_93"><span class="LIDENT">is_macro</span></a><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UIDENT">Table_cell</span> <span id="local_c_101"><span class="LIDENT">c</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>              <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#val-pp_print_text"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">pp_print_text</span></a> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <span class="STRING">&quot;T{\n&quot;</span><span class="SEMI">;</span><span class="EOL">
</span>              <a href="#local_one_105"><span class="LIDENT">one</span></a> <span class="TILDE">~</span><a href="#local_indent_88"><span class="LIDENT">indent</span></a> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <a href="#local_c_101"><span class="LIDENT">c</span></a><span class="SEMI">;</span><span class="EOL">
</span>              <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#val-pp_print_text"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">pp_print_text</span></a> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <span class="STRING">&quot;\nT}&quot;</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UIDENT">Indent</span> <span class="LPAREN">(</span><span id="local_i_102"><span class="LIDENT">i</span></span><span class="COMMA">,</span> <span id="local_content_103"><span class="LIDENT">content</span></span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>              <span class="LET">let</span> <span id="local_indent_104"><span class="LIDENT">indent</span></span> <span class="EQUAL">=</span> <a href="#local_indent_88"><span class="LIDENT">indent</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(+)"><span class="PLUS">+</span></a> <a href="#local_i_102"><span class="LIDENT">i</span></a> <span class="IN">in</span><span class="EOL">
</span>              <a href="#local_one_105"><span class="LIDENT">one</span></a> <span class="TILDE">~</span><a href="#local_indent_104"><span class="LIDENT">indent</span></a> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <a href="#local_content_103"><span class="LIDENT">content</span></a><span class="RPAREN">)</span><span class="SEMI">;</span><span class="EOL">
</span>          <a href="#local_many_87"><span class="LIDENT">many</span></a> <span class="TILDE">~</span><a href="#local_indent_88"><span class="LIDENT">indent</span></a> <a href="#local_ppf_89"><span class="LIDENT">ppf</span></a> <a href="#local_t_92"><span class="LIDENT">t</span></a><span class="EOL">
</span>    <span class="AND">and</span> <span id="local_one_105"><span class="LIDENT">one</span></span> <span class="TILDE">~</span><span id="local_indent_106"><span class="LIDENT">indent</span></span> <span id="local_ppf_107"><span class="LIDENT">ppf</span></span> <span id="local_x_108"><span class="LIDENT">x</span></span> <span class="EQUAL">=</span> <a href="#local_many_87"><span class="LIDENT">many</span></a> <span class="TILDE">~</span><a href="#local_indent_106"><span class="LIDENT">indent</span></a> <a href="#local_ppf_107"><span class="LIDENT">ppf</span></a> <span class="INFIXOP1">@@</span> <span class="LIDENT">collapse</span> <a href="#local_x_108"><span class="LIDENT">x</span></a> <span class="IN">in</span><span class="EOL">
</span>    <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#val-pp_set_margin"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">pp_set_margin</span></a> <a href="#local_ppf_85"><span class="LIDENT">ppf</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-max_int"><span class="LIDENT">max_int</span></a><span class="SEMI">;</span><span class="EOL">
</span>    <a href="#local_one_105"><span class="LIDENT">one</span></a> <span class="LABEL">~indent:</span><span class="INT">0</span> <a href="#local_ppf_85"><span class="LIDENT">ppf</span></a> <a href="#local_t_86"><span class="LIDENT">t</span></a><span class="EOL">
</span><span class="END">end</span></span><span class="EOL">
</span><span class="EOL">
</span><span class="OPEN">open</span> <span class="UIDENT">Roff</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-style"><span class="LIDENT">style</span></span> <span class="LPAREN">(</span><span id="local_style_109"><span class="LIDENT">style</span></span> <span class="COLON">:</span> <a href="../odoc.document/types.ml.html#type-style"><span class="LIDENT">style</span></a><span class="RPAREN">)</span> <span id="local_content_110"><span class="LIDENT">content</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="MATCH">match</span> <a href="#local_style_109"><span class="LIDENT">style</span></a> <span class="WITH">with</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Bold</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">font</span> <span class="STRING">&quot;B&quot;</span> <a href="#local_content_110"><span class="LIDENT">content</span></a><span class="EOL">
</span>  <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Italic</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">font</span> <span class="STRING">&quot;I&quot;</span> <a href="#local_content_110"><span class="LIDENT">content</span></a><span class="EOL">
</span>  <span class="COMMENT">(* We ignore those *)</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Emphasis</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Superscript</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Subscript</span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_content_110"><span class="LIDENT">content</span></a><span class="EOL">
</span><span class="EOL">
</span><span class="COMMENT">(* Striped content should be rendered in one line, without styling *)</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-strip"><span class="LIDENT">strip</span></span> <span id="local_l_111"><span class="LIDENT">l</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LET">let</span> <span class="REC">rec</span> <span id="local_loop_112"><span class="LIDENT">loop</span></span> <span id="local_acc_113"><span class="LIDENT">acc</span></span> <span class="EQUAL">=</span> <span class="FUNCTION">function</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_acc_113"><span class="LIDENT">acc</span></a><span class="EOL">
</span>    <span class="BAR">|</span> <span id="local_h_114"><span class="LIDENT">h</span></span> <span class="COLONCOLON">::</span> <span id="local_t_115"><span class="LIDENT">t</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>        <span class="MATCH">match</span> <a href="#local_h_114"><span class="LIDENT">h</span></a><span class="DOT">.</span><span class="UIDENT">Inline</span><span class="DOT">.</span><span class="LIDENT">desc</span> <span class="WITH">with</span><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UIDENT">Text</span> <span class="UNDERSCORE">_</span> <span class="BAR">|</span> <span class="UIDENT">Entity</span> <span class="UNDERSCORE">_</span> <span class="BAR">|</span> <span class="UIDENT">Raw_markup</span> <span class="UNDERSCORE">_</span> <span class="BAR">|</span> <span class="UIDENT">Math</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_loop_112"><span class="LIDENT">loop</span></a> <span class="LPAREN">(</span><a href="#local_h_114"><span class="LIDENT">h</span></a> <span class="COLONCOLON">::</span> <a href="#local_acc_113"><span class="LIDENT">acc</span></a><span class="RPAREN">)</span> <a href="#local_t_115"><span class="LIDENT">t</span></a><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UIDENT">Linebreak</span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_loop_112"><span class="LIDENT">loop</span></a> <a href="#local_acc_113"><span class="LIDENT">acc</span></a> <a href="#local_t_115"><span class="LIDENT">t</span></a><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UIDENT">Styled</span> <span class="LPAREN">(</span><span id="local_sty_116"><span class="LIDENT">sty</span></span><span class="COMMA">,</span> <span id="local_content_117"><span class="LIDENT">content</span></span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="LET">let</span> <span id="local_h_118"><span class="LIDENT">h</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>              <span class="LBRACE">{</span> <a href="#local_h_114"><span class="LIDENT">h</span></a> <span class="WITH">with</span> <span class="LIDENT">desc</span> <span class="EQUAL">=</span> <span class="UIDENT">Styled</span> <span class="LPAREN">(</span><a href="#local_sty_116"><span class="LIDENT">sty</span></a><span class="COMMA">,</span> <a href="../../../ocaml-base-compiler/src/stdlib/list.ml.html#val-rev"><span class="UIDENT">List</span><span class="DOT">.</span><span class="LIDENT">rev</span></a> <span class="INFIXOP1">@@</span> <a href="#local_loop_112"><span class="LIDENT">loop</span></a> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <a href="#local_content_117"><span class="LIDENT">content</span></a><span class="RPAREN">)</span> <span class="RBRACE">}</span><span class="EOL">
</span>            <span class="IN">in</span><span class="EOL">
</span>            <a href="#local_loop_112"><span class="LIDENT">loop</span></a> <span class="LPAREN">(</span><a href="#local_h_118"><span class="LIDENT">h</span></a> <span class="COLONCOLON">::</span> <a href="#local_acc_113"><span class="LIDENT">acc</span></a><span class="RPAREN">)</span> <a href="#local_t_115"><span class="LIDENT">t</span></a><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UIDENT">Link</span> <span class="LBRACE">{</span> <span id="local_content_119"><span class="LIDENT">content</span></span><span class="SEMI">;</span> <span class="UNDERSCORE">_</span> <span class="RBRACE">}</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="LET">let</span> <span id="local_acc_120"><span class="LIDENT">acc</span></span> <span class="EQUAL">=</span> <a href="#local_loop_112"><span class="LIDENT">loop</span></a> <a href="#local_acc_113"><span class="LIDENT">acc</span></a> <a href="#local_content_119"><span class="LIDENT">content</span></a> <span class="IN">in</span><span class="EOL">
</span>            <a href="#local_loop_112"><span class="LIDENT">loop</span></a> <a href="#local_acc_120"><span class="LIDENT">acc</span></a> <a href="#local_t_115"><span class="LIDENT">t</span></a><span class="EOL">
</span>        <span class="BAR">|</span> <span class="UIDENT">Source</span> <span id="local_code_121"><span class="LIDENT">code</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>            <span class="LET">let</span> <span id="local_acc_122"><span class="LIDENT">acc</span></span> <span class="EQUAL">=</span> <a href="#local_loop_source_123"><span class="LIDENT">loop_source</span></a> <a href="#local_acc_113"><span class="LIDENT">acc</span></a> <a href="#local_code_121"><span class="LIDENT">code</span></a> <span class="IN">in</span><span class="EOL">
</span>            <a href="#local_loop_112"><span class="LIDENT">loop</span></a> <a href="#local_acc_122"><span class="LIDENT">acc</span></a> <a href="#local_t_115"><span class="LIDENT">t</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="AND">and</span> <span id="local_loop_source_123"><span class="LIDENT">loop_source</span></span> <span id="local_acc_124"><span class="LIDENT">acc</span></span> <span class="EQUAL">=</span> <span class="FUNCTION">function</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_acc_124"><span class="LIDENT">acc</span></a><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UIDENT">Source</span><span class="DOT">.</span><span class="UIDENT">Elt</span> <span id="local_content_125"><span class="LIDENT">content</span></span> <span class="COLONCOLON">::</span> <span id="local_t_126"><span class="LIDENT">t</span></span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_loop_source_123"><span class="LIDENT">loop_source</span></a> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/list.ml.html#val-rev_append"><span class="UIDENT">List</span><span class="DOT">.</span><span class="LIDENT">rev_append</span></a> <a href="#local_content_125"><span class="LIDENT">content</span></a> <a href="#local_acc_124"><span class="LIDENT">acc</span></a><span class="RPAREN">)</span> <a href="#local_t_126"><span class="LIDENT">t</span></a><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UIDENT">Source</span><span class="DOT">.</span><span class="UIDENT">Tag</span> <span class="LPAREN">(</span><span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span id="local_content_127"><span class="LIDENT">content</span></span><span class="RPAREN">)</span> <span class="COLONCOLON">::</span> <span id="local_t_128"><span class="LIDENT">t</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>        <span class="LET">let</span> <span id="local_acc_129"><span class="LIDENT">acc</span></span> <span class="EQUAL">=</span> <a href="#local_loop_source_123"><span class="LIDENT">loop_source</span></a> <a href="#local_acc_124"><span class="LIDENT">acc</span></a> <a href="#local_content_127"><span class="LIDENT">content</span></a> <span class="IN">in</span><span class="EOL">
</span>        <a href="#local_loop_source_123"><span class="LIDENT">loop_source</span></a> <a href="#local_acc_129"><span class="LIDENT">acc</span></a> <a href="#local_t_128"><span class="LIDENT">t</span></a><span class="EOL">
</span>  <span class="IN">in</span><span class="EOL">
</span>  <a href="../../../ocaml-base-compiler/src/stdlib/list.ml.html#val-rev"><span class="UIDENT">List</span><span class="DOT">.</span><span class="LIDENT">rev</span></a> <span class="INFIXOP1">@@</span> <a href="#local_loop_112"><span class="LIDENT">loop</span></a> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <a href="#local_l_111"><span class="LIDENT">l</span></a><span class="EOL">
</span><span class="EOL">
</span><span class="COMMENT">(* Partial support for now *)</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-entity"><span class="LIDENT">entity</span></span> <span id="local_e_130"><span class="LIDENT">e</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="MATCH">match</span> <a href="#local_e_130"><span class="LIDENT">e</span></a> <span class="WITH">with</span> <span class="STRING">&quot;#45&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">escaped</span> <span class="STRING">&quot;\\-&quot;</span> <span class="BAR">|</span> <span class="STRING">&quot;gt&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">str</span> <span class="STRING">&quot;&gt;&quot;</span> <span class="BAR">|</span> <span id="local_s_131"><span class="LIDENT">s</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">str</span> <span class="STRING">&quot;&amp;%s;&quot;</span> <a href="#local_s_131"><span class="LIDENT">s</span></a><span class="EOL">
</span><span class="EOL">
</span><span class="COMMENT">(* Should hopefully make people notice and report *)</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-raw_markup"><span class="LIDENT">raw_markup</span></span> <span class="LPAREN">(</span><span id="local_t_132"><span class="LIDENT">t</span></span> <span class="COLON">:</span> <span class="UIDENT">Raw_markup</span><span class="DOT">.</span><span class="LIDENT">t</span><span class="RPAREN">)</span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="def_295"><span id="local_target_133"><span class="LIDENT">target</span></span><span class="COMMA">,</span> <span id="local_content_134"><span class="LIDENT">content</span></span></span> <span class="EQUAL">=</span> <a href="#local_t_132"><span class="LIDENT">t</span></a> <span class="IN">in</span><span class="EOL">
</span>  <span class="MATCH">match</span> <span class="UIDENT">Astring</span><span class="DOT">.</span><span class="UIDENT">String</span><span class="DOT">.</span><span class="UIDENT">Ascii</span><span class="DOT">.</span><span class="LIDENT">lowercase</span> <a href="#local_target_133"><span class="LIDENT">target</span></a> <span class="WITH">with</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="STRING">&quot;manpage&quot;</span> <span class="BAR">|</span> <span class="STRING">&quot;troff&quot;</span> <span class="BAR">|</span> <span class="STRING">&quot;roff&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">String</span> <a href="#local_content_134"><span class="LIDENT">content</span></a><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">noop</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-math"><span class="LIDENT">math</span></span> <span class="LPAREN">(</span><span id="local_s_135"><span class="LIDENT">s</span></span> <span class="COLON">:</span> <span class="UIDENT">Types</span><span class="DOT">.</span><span class="UIDENT">Math</span><span class="DOT">.</span><span class="LIDENT">t</span><span class="RPAREN">)</span> <span class="EQUAL">=</span> <span class="UIDENT">String</span> <a href="#local_s_135"><span class="LIDENT">s</span></a><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span class="REC">rec</span> <span id="val-source_code"><span class="LIDENT">source_code</span></span> <span class="LPAREN">(</span><span id="local_s_136"><span class="LIDENT">s</span></span> <span class="COLON">:</span> <span class="UIDENT">Source</span><span class="DOT">.</span><span class="LIDENT">t</span><span class="RPAREN">)</span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="MATCH">match</span> <a href="#local_s_136"><span class="LIDENT">s</span></a> <span class="WITH">with</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">noop</span><span class="EOL">
</span>  <span class="BAR">|</span> <span id="local_h_137"><span class="LIDENT">h</span></span> <span class="COLONCOLON">::</span> <span id="local_t_138"><span class="LIDENT">t</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>      <span class="MATCH">match</span> <a href="#local_h_137"><span class="LIDENT">h</span></a> <span class="WITH">with</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Source</span><span class="DOT">.</span><span class="UIDENT">Elt</span> <span id="local_i_139"><span class="LIDENT">i</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">inline</span> <span class="LPAREN">(</span><span class="LIDENT">strip</span> <a href="#local_i_139"><span class="LIDENT">i</span></a><span class="RPAREN">)</span> <span class="INFIXOP2">++</span> <span class="LIDENT">source_code</span> <a href="#local_t_138"><span class="LIDENT">t</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Tag</span> <span class="LPAREN">(</span><span class="UIDENT">None</span><span class="COMMA">,</span> <span id="local_s_140"><span class="LIDENT">s</span></span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">source_code</span> <a href="#local_s_140"><span class="LIDENT">s</span></a> <span class="INFIXOP2">++</span> <span class="LIDENT">source_code</span> <a href="#local_t_138"><span class="LIDENT">t</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Tag</span> <span class="LPAREN">(</span><span class="UIDENT">Some</span> <span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span id="local_s_141"><span class="LIDENT">s</span></span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">font</span> <span class="STRING">&quot;CB&quot;</span> <span class="LPAREN">(</span><span class="LIDENT">source_code</span> <a href="#local_s_141"><span class="LIDENT">s</span></a><span class="RPAREN">)</span> <span class="INFIXOP2">++</span> <span class="LIDENT">source_code</span> <a href="#local_t_138"><span class="LIDENT">t</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span><span class="AND">and</span> <span id="val-inline"><span class="LIDENT">inline</span></span> <span class="LPAREN">(</span><span id="local_l_142"><span class="LIDENT">l</span></span> <span class="COLON">:</span> <span class="UIDENT">Inline</span><span class="DOT">.</span><span class="LIDENT">t</span><span class="RPAREN">)</span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="MATCH">match</span> <a href="#local_l_142"><span class="LIDENT">l</span></a> <span class="WITH">with</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">noop</span><span class="EOL">
</span>  <span class="BAR">|</span> <span id="local_i_143"><span class="LIDENT">i</span></span> <span class="COLONCOLON">::</span> <span id="local_rest_144"><span class="LIDENT">rest</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>      <span class="MATCH">match</span> <a href="#local_i_143"><span class="LIDENT">i</span></a><span class="DOT">.</span><span class="LIDENT">desc</span> <span class="WITH">with</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Text</span> <span class="STRING">&quot;&quot;</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">inline</span> <a href="#local_rest_144"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Text</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="def_305"><span id="local_l_145"><span class="LIDENT">l</span></span><span class="COMMA">,</span> <span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span id="local_rest_146"><span class="LIDENT">rest</span></span></span> <span class="EQUAL">=</span><span class="EOL">
</span>            <a href="../odoc.document/doctree.ml.html#module-Take.val-until"><span class="UIDENT">Doctree</span><span class="DOT">.</span><span class="UIDENT">Take</span><span class="DOT">.</span><span class="LIDENT">until</span></a> <a href="#local_l_142"><span class="LIDENT">l</span></a> <span class="LABEL">~classify:</span><span class="LPAREN">(</span><span class="FUNCTION">function</span><span class="EOL">
</span>              <span class="BAR">|</span> <span class="LBRACE">{</span> <span class="UIDENT">Inline</span><span class="DOT">.</span><span class="LIDENT">desc</span> <span class="EQUAL">=</span> <span class="UIDENT">Text</span> <span id="local_s_147"><span class="LIDENT">s</span></span><span class="SEMI">;</span> <span class="UNDERSCORE">_</span> <span class="RBRACE">}</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Accum</span> <span class="LBRACKET">[</span> <a href="#local_s_147"><span class="LIDENT">s</span></a> <span class="RBRACKET">]</span><span class="EOL">
</span>              <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Stop_and_keep</span><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="IN">in</span><span class="EOL">
</span>          <span class="LIDENT">str</span> <span class="STRING">{|%s|}</span> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/string.ml.html#val-concat"><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">concat</span></a> <span class="STRING">&quot;&quot;</span> <a href="#local_l_145"><span class="LIDENT">l</span></a><span class="RPAREN">)</span> <span class="INFIXOP2">++</span> <span class="LIDENT">inline</span> <a href="#local_rest_146"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Entity</span> <span id="local_e_148"><span class="LIDENT">e</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_x_149"><span class="LIDENT">x</span></span> <span class="EQUAL">=</span> <span class="LIDENT">entity</span> <a href="#local_e_148"><span class="LIDENT">e</span></a> <span class="IN">in</span><span class="EOL">
</span>          <a href="#local_x_149"><span class="LIDENT">x</span></a> <span class="INFIXOP2">++</span> <span class="LIDENT">inline</span> <a href="#local_rest_144"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Linebreak</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">break</span> <span class="INFIXOP2">++</span> <span class="LIDENT">inline</span> <a href="#local_rest_144"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Styled</span> <span class="LPAREN">(</span><span id="local_sty_150"><span class="LIDENT">sty</span></span><span class="COMMA">,</span> <span id="local_content_151"><span class="LIDENT">content</span></span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">style</span> <a href="#local_sty_150"><span class="LIDENT">sty</span></a> <span class="LPAREN">(</span><span class="LIDENT">inline</span> <a href="#local_content_151"><span class="LIDENT">content</span></a><span class="RPAREN">)</span> <span class="INFIXOP2">++</span> <span class="LIDENT">inline</span> <a href="#local_rest_144"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Link</span> <span class="LBRACE">{</span> <span class="LIDENT">target</span> <span class="EQUAL">=</span> <span class="UIDENT">External</span> <span id="local_href_152"><span class="LIDENT">href</span></span><span class="SEMI">;</span> <span id="local_content_153"><span class="LIDENT">content</span></span><span class="SEMI">;</span> <span class="UNDERSCORE">_</span> <span class="RBRACE">}</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LIDENT">env</span> <span class="STRING">&quot;UR&quot;</span> <span class="STRING">&quot;UE&quot;</span> <a href="#local_href_152"><span class="LIDENT">href</span></a> <span class="LPAREN">(</span><span class="LIDENT">inline</span> <span class="INFIXOP1">@@</span> <span class="LIDENT">strip</span> <a href="#local_content_153"><span class="LIDENT">content</span></a><span class="RPAREN">)</span> <span class="INFIXOP2">++</span> <span class="LIDENT">inline</span> <a href="#local_rest_144"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Link</span> <span class="LBRACE">{</span> <span id="local_content_154"><span class="LIDENT">content</span></span><span class="SEMI">;</span> <span class="UNDERSCORE">_</span> <span class="RBRACE">}</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LIDENT">font</span> <span class="STRING">&quot;CI&quot;</span> <span class="LPAREN">(</span><span class="LIDENT">inline</span> <span class="INFIXOP1">@@</span> <span class="LIDENT">strip</span> <a href="#local_content_154"><span class="LIDENT">content</span></a><span class="RPAREN">)</span> <span class="INFIXOP2">++</span> <span class="LIDENT">inline</span> <a href="#local_rest_144"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Source</span> <span id="local_content_155"><span class="LIDENT">content</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">source_code</span> <a href="#local_content_155"><span class="LIDENT">content</span></a> <span class="INFIXOP2">++</span> <span class="LIDENT">inline</span> <a href="#local_rest_144"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Math</span> <span id="local_s_156"><span class="LIDENT">s</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">math</span> <a href="#local_s_156"><span class="LIDENT">s</span></a> <span class="INFIXOP2">++</span> <span class="LIDENT">inline</span> <a href="#local_rest_144"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Raw_markup</span> <span id="local_t_157"><span class="LIDENT">t</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">raw_markup</span> <a href="#local_t_157"><span class="LIDENT">t</span></a> <span class="INFIXOP2">++</span> <span class="LIDENT">inline</span> <a href="#local_rest_144"><span class="LIDENT">rest</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-table"><span class="LIDENT">table</span></span> <span id="local_pp_158"><span class="LIDENT">pp</span></span> <span class="LBRACE">{</span> <span id="local_data_159"><span class="UIDENT">Table</span><span class="DOT">.</span><span class="LIDENT">data</span></span><span class="SEMI">;</span> <span id="local_align_160"><span class="LIDENT">align</span></span> <span class="RBRACE">}</span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_sep_161"><span class="LIDENT">sep</span></span> <span class="EQUAL">=</span> <span class="CHAR">'\t'</span> <span class="IN">in</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_alignment_162"><span class="LIDENT">alignment</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_alignment_163"><span class="LIDENT">alignment</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>      <span class="MATCH">match</span> <a href="#local_align_160"><span class="LIDENT">align</span></a> <span class="WITH">with</span><span class="EOL">
</span>      <span class="BAR">|</span> <span id="local_align_164"><span class="LIDENT">align</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <a href="../../../ocaml-base-compiler/src/stdlib/list.ml.html#val-map"><span class="UIDENT">List</span><span class="DOT">.</span><span class="LIDENT">map</span></a><span class="EOL">
</span>            <span class="LPAREN">(</span><span class="FUNCTION">function</span><span class="EOL">
</span>              <span class="COMMENT">(* Since we are enclosing cells in text blocks, the alignment has
                 no effect on the content of a sufficiently big cell, for some
                 reason... (see the markup test in generators)

                 One solution would be to use the [m] column specifier to apply
                 a macro to the text blocks of the columns. Those macros would
                 be [lj], [ce] or [rj], which define alignment. However, this
                 breaks both the alignment for small table cells, and the
                 largeness of columns. For the records, it woulb be:

                 {[
                   | Some `Left -&gt; &quot;lmlj&quot;
                   | Some `Center -&gt; &quot;cmce&quot;
                   | Some `Right -&gt; &quot;rmrj&quot;
                   | None -&gt; &quot;l&quot;
                  ]} *)</span><span class="EOL">
</span>              <span class="BAR">|</span> <span class="UIDENT">Table</span><span class="DOT">.</span><span class="UIDENT">Left</span> <span class="MINUSGREATER">-&gt;</span> <span class="STRING">&quot;l&quot;</span><span class="EOL">
</span>              <span class="BAR">|</span> <span class="UIDENT">Center</span> <span class="MINUSGREATER">-&gt;</span> <span class="STRING">&quot;c&quot;</span><span class="EOL">
</span>              <span class="BAR">|</span> <span class="UIDENT">Right</span> <span class="MINUSGREATER">-&gt;</span> <span class="STRING">&quot;r&quot;</span><span class="EOL">
</span>              <span class="BAR">|</span> <span class="UIDENT">Default</span> <span class="MINUSGREATER">-&gt;</span> <span class="STRING">&quot;l&quot;</span><span class="RPAREN">)</span><span class="EOL">
</span>            <a href="#local_align_164"><span class="LIDENT">align</span></a><span class="EOL">
</span>    <span class="IN">in</span><span class="EOL">
</span>    <span class="UIDENT">Align_line</span> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/string.ml.html#val-concat"><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">concat</span></a> <span class="STRING">&quot;&quot;</span> <a href="#local_alignment_163"><span class="LIDENT">alignment</span></a><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="IN">in</span><span class="EOL">
</span>  <span class="LIDENT">env</span> <span class="STRING">&quot;TS&quot;</span> <span class="STRING">&quot;TE&quot;</span> <span class="STRING">&quot;&quot;</span><span class="EOL">
</span>    <span class="LPAREN">(</span><span class="LIDENT">str</span> <span class="STRING">&quot;allbox;&quot;</span> <span class="INFIXOP2">++</span> <a href="#local_alignment_162"><span class="LIDENT">alignment</span></a><span class="EOL">
</span>    <span class="INFIXOP2">++</span> <a href="../../../ocaml-base-compiler/src/stdlib/list.ml.html#val-fold_left"><span class="UIDENT">List</span><span class="DOT">.</span><span class="LIDENT">fold_left</span></a><span class="EOL">
</span>         <span class="LPAREN">(</span><span class="FUN">fun</span> <span id="local_acc_165"><span class="LIDENT">acc</span></span> <span id="local_row_166"><span class="LIDENT">row</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>           <a href="#local_acc_165"><span class="LIDENT">acc</span></a> <span class="INFIXOP2">++</span> <span class="LIDENT">vspace</span><span class="EOL">
</span>           <span class="INFIXOP2">++</span><span class="EOL">
</span>           <span class="MATCH">match</span> <a href="#local_row_166"><span class="LIDENT">row</span></a> <span class="WITH">with</span><span class="EOL">
</span>           <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">noop</span><span class="EOL">
</span>           <span class="BAR">|</span> <span class="LPAREN">(</span><span id="local_h_167"><span class="LIDENT">h</span></span><span class="COMMA">,</span> <span class="UNDERSCORE">_</span><span class="RPAREN">)</span> <span class="COLONCOLON">::</span> <span id="local_t_168"><span class="LIDENT">t</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>               <a href="../../../ocaml-base-compiler/src/stdlib/list.ml.html#val-fold_left"><span class="UIDENT">List</span><span class="DOT">.</span><span class="LIDENT">fold_left</span></a><span class="EOL">
</span>                 <span class="LPAREN">(</span><span class="FUN">fun</span> <span id="local_acc_169"><span class="LIDENT">acc</span></span> <span class="LPAREN">(</span><span id="local_x_170"><span class="LIDENT">x</span></span><span class="COMMA">,</span> <span class="UNDERSCORE">_</span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_acc_169"><span class="LIDENT">acc</span></a> <span class="INFIXOP2">++</span> <span class="LIDENT">str</span> <span class="STRING">&quot;%c&quot;</span> <a href="#local_sep_161"><span class="LIDENT">sep</span></a> <span class="INFIXOP2">++</span> <span class="UIDENT">Table_cell</span> <span class="LPAREN">(</span><a href="#local_pp_158"><span class="LIDENT">pp</span></a> <a href="#local_x_170"><span class="LIDENT">x</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>                 <span class="LPAREN">(</span><span class="UIDENT">Table_cell</span> <span class="LPAREN">(</span><a href="#local_pp_158"><span class="LIDENT">pp</span></a> <a href="#local_h_167"><span class="LIDENT">h</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>                 <a href="#local_t_168"><span class="LIDENT">t</span></a><span class="RPAREN">)</span><span class="EOL">
</span>         <span class="LIDENT">noop</span> <a href="#local_data_159"><span class="LIDENT">data</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span class="REC">rec</span> <span id="val-block"><span class="LIDENT">block</span></span> <span class="LPAREN">(</span><span id="local_l_171"><span class="LIDENT">l</span></span> <span class="COLON">:</span> <span class="UIDENT">Block</span><span class="DOT">.</span><span class="LIDENT">t</span><span class="RPAREN">)</span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="MATCH">match</span> <a href="#local_l_171"><span class="LIDENT">l</span></a> <span class="WITH">with</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">noop</span><span class="EOL">
</span>  <span class="BAR">|</span> <span id="local_b_172"><span class="LIDENT">b</span></span> <span class="COLONCOLON">::</span> <span id="local_rest_173"><span class="LIDENT">rest</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_continue_174"><span class="LIDENT">continue</span></span> <span id="local_r_175"><span class="LIDENT">r</span></span> <span class="EQUAL">=</span> <span class="IF">if</span> <a href="#local_r_175"><span class="LIDENT">r</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(=)"><span class="EQUAL">=</span></a> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="THEN">then</span> <span class="LIDENT">noop</span> <span class="ELSE">else</span> <span class="LIDENT">vspace</span> <span class="INFIXOP2">++</span> <span class="LIDENT">block</span> <a href="#local_r_175"><span class="LIDENT">r</span></a> <span class="IN">in</span><span class="EOL">
</span>      <span class="MATCH">match</span> <a href="#local_b_172"><span class="LIDENT">b</span></a><span class="DOT">.</span><span class="LIDENT">desc</span> <span class="WITH">with</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Inline</span> <span id="local_i_176"><span class="LIDENT">i</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">inline</span> <a href="#local_i_176"><span class="LIDENT">i</span></a> <span class="INFIXOP2">++</span> <a href="#local_continue_174"><span class="LIDENT">continue</span></a> <a href="#local_rest_173"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Video</span> <span class="LPAREN">(</span><span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span id="local_content_177"><span class="LIDENT">content</span></span><span class="RPAREN">)</span> <span class="BAR">|</span> <span class="UIDENT">Audio</span> <span class="LPAREN">(</span><span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span id="local_content_178"><span class="LIDENT">content</span></span><span class="RPAREN">)</span> <span class="BAR">|</span> <span class="UIDENT">Image</span> <span class="LPAREN">(</span><span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span id="local_content_179"><span class="LIDENT">content</span></span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LIDENT">str</span> <span class="STRING">&quot;%s&quot;</span> <a href="#local_content_179"><span class="LIDENT">content</span></a> <span class="INFIXOP2">++</span> <a href="#local_continue_174"><span class="LIDENT">continue</span></a> <a href="#local_rest_173"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Paragraph</span> <span id="local_i_180"><span class="LIDENT">i</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">inline</span> <a href="#local_i_180"><span class="LIDENT">i</span></a> <span class="INFIXOP2">++</span> <a href="#local_continue_174"><span class="LIDENT">continue</span></a> <a href="#local_rest_173"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">List</span> <span class="LPAREN">(</span><span id="local_list_typ_181"><span class="LIDENT">list_typ</span></span><span class="COMMA">,</span> <span id="local_l_182"><span class="LIDENT">l</span></span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_f_183"><span class="LIDENT">f</span></span> <span id="local_n_184"><span class="LIDENT">n</span></span> <span id="local_b_185"><span class="LIDENT">b</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>            <span class="LET">let</span> <span id="local_bullet_186"><span class="LIDENT">bullet</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>              <span class="MATCH">match</span> <a href="#local_list_typ_181"><span class="LIDENT">list_typ</span></a> <span class="WITH">with</span><span class="EOL">
</span>              <span class="BAR">|</span> <span class="UIDENT">Unordered</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">escaped</span> <span class="STRING">{|\(bu|}</span><span class="EOL">
</span>              <span class="BAR">|</span> <span class="UIDENT">Ordered</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">str</span> <span class="STRING">&quot;%d)&quot;</span> <span class="LPAREN">(</span><a href="#local_n_184"><span class="LIDENT">n</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(+)"><span class="PLUS">+</span></a> <span class="INT">1</span><span class="RPAREN">)</span><span class="EOL">
</span>            <span class="IN">in</span><span class="EOL">
</span>            <span class="LIDENT">indent</span> <span class="INT">2</span> <span class="LPAREN">(</span><a href="#local_bullet_186"><span class="LIDENT">bullet</span></a> <span class="INFIXOP2">++</span> <span class="LIDENT">sp</span> <span class="INFIXOP2">++</span> <span class="LIDENT">block</span> <a href="#local_b_185"><span class="LIDENT">b</span></a><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="IN">in</span><span class="EOL">
</span>          <span class="LIDENT">list</span> <span class="LABEL">~sep:</span><span class="LIDENT">break</span> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/list.ml.html#val-mapi"><span class="UIDENT">List</span><span class="DOT">.</span><span class="LIDENT">mapi</span></a> <a href="#local_f_183"><span class="LIDENT">f</span></a> <a href="#local_l_182"><span class="LIDENT">l</span></a><span class="RPAREN">)</span> <span class="INFIXOP2">++</span> <a href="#local_continue_174"><span class="LIDENT">continue</span></a> <a href="#local_rest_173"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Table</span> <span id="local_t_187"><span class="LIDENT">t</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">table</span> <span class="LIDENT">block</span> <a href="#local_t_187"><span class="LIDENT">t</span></a> <span class="INFIXOP2">++</span> <a href="#local_continue_174"><span class="LIDENT">continue</span></a> <a href="#local_rest_173"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Description</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="def_301"><span id="local_descrs_188"><span class="LIDENT">descrs</span></span><span class="COMMA">,</span> <span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span id="local_rest_189"><span class="LIDENT">rest</span></span></span> <span class="EQUAL">=</span><span class="EOL">
</span>            <a href="../odoc.document/doctree.ml.html#module-Take.val-until"><span class="UIDENT">Take</span><span class="DOT">.</span><span class="LIDENT">until</span></a> <a href="#local_l_171"><span class="LIDENT">l</span></a> <span class="LABEL">~classify:</span><span class="LPAREN">(</span><span class="FUNCTION">function</span><span class="EOL">
</span>              <span class="BAR">|</span> <span class="LBRACE">{</span> <span class="UIDENT">Block</span><span class="DOT">.</span><span class="LIDENT">desc</span> <span class="EQUAL">=</span> <span class="UIDENT">Description</span> <span id="local_l_190"><span class="LIDENT">l</span></span><span class="SEMI">;</span> <span class="UNDERSCORE">_</span> <span class="RBRACE">}</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Accum</span> <a href="#local_l_190"><span class="LIDENT">l</span></a><span class="EOL">
</span>              <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Stop_and_keep</span><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="IN">in</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_f_191"><span class="LIDENT">f</span></span> <span id="local_i_192"><span class="LIDENT">i</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>            <span class="LET">let</span> <span id="local_key_193"><span class="LIDENT">key</span></span> <span class="EQUAL">=</span> <span class="LIDENT">inline</span> <a href="#local_i_192"><span class="LIDENT">i</span></a><span class="DOT">.</span><span class="UIDENT">Description</span><span class="DOT">.</span><span class="LIDENT">key</span> <span class="IN">in</span><span class="EOL">
</span>            <span class="LET">let</span> <span id="local_def_194"><span class="LIDENT">def</span></span> <span class="EQUAL">=</span> <span class="LIDENT">block</span> <a href="#local_i_192"><span class="LIDENT">i</span></a><span class="DOT">.</span><span class="UIDENT">Description</span><span class="DOT">.</span><span class="LIDENT">definition</span> <span class="IN">in</span><span class="EOL">
</span>            <span class="LIDENT">indent</span> <span class="INT">2</span> <span class="LPAREN">(</span><span class="LIDENT">str</span> <span class="STRING">&quot;@&quot;</span> <span class="INFIXOP2">++</span> <a href="#local_key_193"><span class="LIDENT">key</span></a> <span class="INFIXOP2">++</span> <span class="LIDENT">str</span> <span class="STRING">&quot;:&quot;</span> <span class="INFIXOP2">++</span> <span class="LIDENT">sp</span> <span class="INFIXOP2">++</span> <a href="#local_def_194"><span class="LIDENT">def</span></a><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="IN">in</span><span class="EOL">
</span>          <span class="LIDENT">list</span> <span class="LABEL">~sep:</span><span class="LIDENT">break</span> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/list.ml.html#val-map"><span class="UIDENT">List</span><span class="DOT">.</span><span class="LIDENT">map</span></a> <a href="#local_f_191"><span class="LIDENT">f</span></a> <a href="#local_descrs_188"><span class="LIDENT">descrs</span></a><span class="RPAREN">)</span> <span class="INFIXOP2">++</span> <a href="#local_continue_174"><span class="LIDENT">continue</span></a> <a href="#local_rest_189"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Source</span> <span class="LPAREN">(</span><span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span id="local_content_195"><span class="LIDENT">content</span></span><span class="RPAREN">)</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LIDENT">env</span> <span class="STRING">&quot;EX&quot;</span> <span class="STRING">&quot;EE&quot;</span> <span class="STRING">&quot;&quot;</span> <span class="LPAREN">(</span><span class="LIDENT">source_code</span> <a href="#local_content_195"><span class="LIDENT">content</span></a><span class="RPAREN">)</span> <span class="INFIXOP2">++</span> <a href="#local_continue_174"><span class="LIDENT">continue</span></a> <a href="#local_rest_173"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Math</span> <span id="local_s_196"><span class="LIDENT">s</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">math</span> <a href="#local_s_196"><span class="LIDENT">s</span></a> <span class="INFIXOP2">++</span> <a href="#local_continue_174"><span class="LIDENT">continue</span></a> <a href="#local_rest_173"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Verbatim</span> <span id="local_content_197"><span class="LIDENT">content</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">env</span> <span class="STRING">&quot;EX&quot;</span> <span class="STRING">&quot;EE&quot;</span> <span class="STRING">&quot;&quot;</span> <span class="LPAREN">(</span><span class="LIDENT">str</span> <span class="STRING">&quot;%s&quot;</span> <a href="#local_content_197"><span class="LIDENT">content</span></a><span class="RPAREN">)</span> <span class="INFIXOP2">++</span> <a href="#local_continue_174"><span class="LIDENT">continue</span></a> <a href="#local_rest_173"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Raw_markup</span> <span id="local_t_198"><span class="LIDENT">t</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">raw_markup</span> <a href="#local_t_198"><span class="LIDENT">t</span></a> <span class="INFIXOP2">++</span> <a href="#local_continue_174"><span class="LIDENT">continue</span></a> <a href="#local_rest_173"><span class="LIDENT">rest</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="def_303"><span id="val-next_heading"><span class="LIDENT">next_heading</span></span><span class="COMMA">,</span> <span id="val-reset_heading"><span class="LIDENT">reset_heading</span></span></span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_heading_stack_199"><span class="LIDENT">heading_stack</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-ref"><span class="LIDENT">ref</span></a> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="IN">in</span><span class="EOL">
</span>  <span class="LET">let</span> <span class="REC">rec</span> <span id="local_succ_heading_200"><span class="LIDENT">succ_heading</span></span> <span id="local_i_201"><span class="LIDENT">i</span></span> <span id="local_l_202"><span class="LIDENT">l</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="MATCH">match</span> <span class="LPAREN">(</span><a href="#local_i_201"><span class="LIDENT">i</span></a><span class="COMMA">,</span> <a href="#local_l_202"><span class="LIDENT">l</span></a><span class="RPAREN">)</span> <span class="WITH">with</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="INT">1</span><span class="COMMA">,</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LBRACKET">[</span> <span class="INT">1</span> <span class="RBRACKET">]</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="INT">1</span> <span class="COLONCOLON">::</span> <a href="#local_succ_heading_200"><span class="LIDENT">succ_heading</span></a> <span class="LPAREN">(</span><a href="#local_i_201"><span class="LIDENT">i</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(-)"><span class="MINUS">-</span></a> <span class="INT">1</span><span class="RPAREN">)</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span><span class="EOL">
</span>    <span class="BAR">|</span> <span class="INT">1</span><span class="COMMA">,</span> <span id="local_n_203"><span class="LIDENT">n</span></span> <span class="COLONCOLON">::</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="LBRACKET">[</span> <a href="#local_n_203"><span class="LIDENT">n</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(+)"><span class="PLUS">+</span></a> <span class="INT">1</span> <span class="RBRACKET">]</span><span class="EOL">
</span>    <span class="BAR">|</span> <span id="local_i_204"><span class="LIDENT">i</span></span><span class="COMMA">,</span> <span id="local_n_205"><span class="LIDENT">n</span></span> <span class="COLONCOLON">::</span> <span id="local_t_206"><span class="LIDENT">t</span></span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_n_205"><span class="LIDENT">n</span></a> <span class="COLONCOLON">::</span> <a href="#local_succ_heading_200"><span class="LIDENT">succ_heading</span></a> <span class="LPAREN">(</span><a href="#local_i_204"><span class="LIDENT">i</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(-)"><span class="MINUS">-</span></a> <span class="INT">1</span><span class="RPAREN">)</span> <a href="#local_t_206"><span class="LIDENT">t</span></a><span class="EOL">
</span>  <span class="IN">in</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_print_heading_207"><span class="LIDENT">print_heading</span></span> <span id="local_l_208"><span class="LIDENT">l</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/string.ml.html#val-concat"><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">concat</span></a> <span class="STRING">&quot;.&quot;</span> <span class="INFIXOP1">@@</span> <a href="../../../ocaml-base-compiler/src/stdlib/list.ml.html#val-map"><span class="UIDENT">List</span><span class="DOT">.</span><span class="LIDENT">map</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-string_of_int"><span class="LIDENT">string_of_int</span></a> <a href="#local_l_208"><span class="LIDENT">l</span></a> <span class="IN">in</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_next_209"><span class="LIDENT">next</span></span> <span id="local_level_210"><span class="LIDENT">level</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="LET">let</span> <span id="local_new_heading_211"><span class="LIDENT">new_heading</span></span> <span class="EQUAL">=</span> <a href="#local_succ_heading_200"><span class="LIDENT">succ_heading</span></a> <a href="#local_level_210"><span class="LIDENT">level</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(!)"><span class="BANG">!</span></a><a href="#local_heading_stack_199"><span class="LIDENT">heading_stack</span></a> <span class="IN">in</span><span class="EOL">
</span>    <a href="#local_heading_stack_199"><span class="LIDENT">heading_stack</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(:=)"><span class="COLONEQUAL">:=</span></a> <a href="#local_new_heading_211"><span class="LIDENT">new_heading</span></a><span class="SEMI">;</span><span class="EOL">
</span>    <a href="#local_print_heading_207"><span class="LIDENT">print_heading</span></a> <a href="#local_new_heading_211"><span class="LIDENT">new_heading</span></a><span class="EOL">
</span>  <span class="AND">and</span> <span id="local_reset_212"><span class="LIDENT">reset</span></span> <span class="LPAREN">(</span><span class="RPAREN">)</span> <span class="EQUAL">=</span> <a href="#local_heading_stack_199"><span class="LIDENT">heading_stack</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(:=)"><span class="COLONEQUAL">:=</span></a> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="IN">in</span><span class="EOL">
</span>  <span class="LPAREN">(</span><a href="#local_next_209"><span class="LIDENT">next</span></a><span class="COMMA">,</span> <a href="#local_reset_212"><span class="LIDENT">reset</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-heading"><span class="LIDENT">heading</span></span> <span class="TILDE">~</span><span id="local_nested_213"><span class="LIDENT">nested</span></span> <span class="LBRACE">{</span> <span class="UIDENT">Heading</span><span class="DOT">.</span><span class="LIDENT">label</span> <span class="EQUAL">=</span> <span class="UNDERSCORE">_</span><span class="SEMI">;</span> <span id="local_level_214"><span class="LIDENT">level</span></span><span class="SEMI">;</span> <span id="local_title_215"><span class="LIDENT">title</span></span><span class="SEMI">;</span> <span class="LIDENT">source_anchor</span> <span class="EQUAL">=</span> <span class="UNDERSCORE">_</span> <span class="RBRACE">}</span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_prefix_216"><span class="LIDENT">prefix</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="IF">if</span> <a href="#local_level_214"><span class="LIDENT">level</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(=)"><span class="EQUAL">=</span></a> <span class="INT">0</span> <span class="THEN">then</span> <span class="LIDENT">noop</span><span class="EOL">
</span>    <span class="ELSE">else</span> <span class="IF">if</span> <a href="#local_level_214"><span class="LIDENT">level</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(&lt;=)"><span class="INFIXOP0">&lt;=</span></a> <span class="INT">3</span> <span class="THEN">then</span> <span class="LIDENT">str</span> <span class="STRING">&quot;%s &quot;</span> <span class="LPAREN">(</span><span class="LIDENT">next_heading</span> <a href="#local_level_214"><span class="LIDENT">level</span></a><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="ELSE">else</span> <span class="LIDENT">noop</span><span class="EOL">
</span>  <span class="IN">in</span><span class="EOL">
</span>  <span class="IF">if</span> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-not"><span class="LIDENT">not</span></a> <a href="#local_nested_213"><span class="LIDENT">nested</span></a> <span class="THEN">then</span><span class="EOL">
</span>    <span class="LIDENT">macro</span> <span class="STRING">&quot;in&quot;</span> <span class="STRING">&quot;%d&quot;</span> <span class="LPAREN">(</span><a href="#local_level_214"><span class="LIDENT">level</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(+)"><span class="PLUS">+</span></a> <span class="INT">2</span><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="INFIXOP2">++</span> <span class="LIDENT">font</span> <span class="STRING">&quot;B&quot;</span> <span class="LPAREN">(</span><a href="#local_prefix_216"><span class="LIDENT">prefix</span></a> <span class="INFIXOP2">++</span> <span class="LIDENT">inline</span> <span class="LPAREN">(</span><span class="LIDENT">strip</span> <a href="#local_title_215"><span class="LIDENT">title</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>    <span class="INFIXOP2">++</span> <span class="LIDENT">macro</span> <span class="STRING">&quot;in&quot;</span> <span class="STRING">&quot;&quot;</span><span class="EOL">
</span>  <span class="ELSE">else</span> <span class="LIDENT">font</span> <span class="STRING">&quot;B&quot;</span> <span class="LPAREN">(</span><a href="#local_prefix_216"><span class="LIDENT">prefix</span></a> <span class="INFIXOP2">++</span> <span class="LIDENT">inline</span> <span class="LPAREN">(</span><span class="LIDENT">strip</span> <a href="#local_title_215"><span class="LIDENT">title</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-expansion_not_inlined"><span class="LIDENT">expansion_not_inlined</span></span> <span id="local_url_217"><span class="LIDENT">url</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-not"><span class="LIDENT">not</span></a> <span class="LPAREN">(</span><span class="UIDENT">Link</span><span class="DOT">.</span><span class="LIDENT">should_inline</span> <a href="#local_url_217"><span class="LIDENT">url</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-take_code"><span class="LIDENT">take_code</span></span> <span id="local_l_218"><span class="LIDENT">l</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="def_302"><span id="local_c_219"><span class="LIDENT">c</span></span><span class="COMMA">,</span> <span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span id="local_rest_220"><span class="LIDENT">rest</span></span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <a href="../odoc.document/doctree.ml.html#module-Take.val-until"><span class="UIDENT">Take</span><span class="DOT">.</span><span class="LIDENT">until</span></a> <a href="#local_l_218"><span class="LIDENT">l</span></a> <span class="LABEL">~classify:</span><span class="LPAREN">(</span><span class="FUNCTION">function</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">DocumentedSrc</span><span class="DOT">.</span><span class="UIDENT">Code</span> <span id="local_c_221"><span class="LIDENT">c</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Accum</span> <a href="#local_c_221"><span class="LIDENT">c</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">DocumentedSrc</span><span class="DOT">.</span><span class="UIDENT">Alternative</span> <span class="LPAREN">(</span><span class="UIDENT">Expansion</span> <span id="local_e_222"><span class="LIDENT">e</span></span><span class="RPAREN">)</span> <span class="WHEN">when</span> <span class="LIDENT">expansion_not_inlined</span> <a href="#local_e_222"><span class="LIDENT">e</span></a><span class="DOT">.</span><span class="LIDENT">url</span><span class="EOL">
</span>        <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="UIDENT">Accum</span> <a href="#local_e_222"><span class="LIDENT">e</span></a><span class="DOT">.</span><span class="LIDENT">summary</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Stop_and_keep</span><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="IN">in</span><span class="EOL">
</span>  <span class="LPAREN">(</span><a href="#local_c_219"><span class="LIDENT">c</span></a><span class="COMMA">,</span> <a href="#local_rest_220"><span class="LIDENT">rest</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-inline_subpage"><span class="LIDENT">inline_subpage</span></span> <span class="EQUAL">=</span> <span class="FUNCTION">function</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Inline</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Open</span> <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Default</span> <span class="MINUSGREATER">-&gt;</span> <span class="TRUE">true</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Closed</span> <span class="MINUSGREATER">-&gt;</span> <span class="FALSE">false</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span class="REC">rec</span> <span id="val-documentedSrc"><span class="LIDENT">documentedSrc</span></span> <span class="LPAREN">(</span><span id="local_l_223"><span class="LIDENT">l</span></span> <span class="COLON">:</span> <span class="UIDENT">DocumentedSrc</span><span class="DOT">.</span><span class="LIDENT">t</span><span class="RPAREN">)</span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="MATCH">match</span> <a href="#local_l_223"><span class="LIDENT">l</span></a> <span class="WITH">with</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">noop</span><span class="EOL">
</span>  <span class="BAR">|</span> <span id="local_line_224"><span class="LIDENT">line</span></span> <span class="COLONCOLON">::</span> <span id="local_rest_225"><span class="LIDENT">rest</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_break_if_nonempty_226"><span class="LIDENT">break_if_nonempty</span></span> <span id="local_r_227"><span class="LIDENT">r</span></span> <span class="EQUAL">=</span> <span class="IF">if</span> <a href="#local_r_227"><span class="LIDENT">r</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(=)"><span class="EQUAL">=</span></a> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="THEN">then</span> <span class="LIDENT">noop</span> <span class="ELSE">else</span> <span class="LIDENT">break</span> <span class="IN">in</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_continue_228"><span class="LIDENT">continue</span></span> <span id="local_r_229"><span class="LIDENT">r</span></span> <span class="EQUAL">=</span> <span class="LIDENT">documentedSrc</span> <a href="#local_r_229"><span class="LIDENT">r</span></a> <span class="IN">in</span><span class="EOL">
</span>      <span class="MATCH">match</span> <a href="#local_line_224"><span class="LIDENT">line</span></a> <span class="WITH">with</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Code</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="def_296"><span id="local_c_230"><span class="LIDENT">c</span></span><span class="COMMA">,</span> <span id="local_rest_231"><span class="LIDENT">rest</span></span></span> <span class="EQUAL">=</span> <span class="LIDENT">take_code</span> <a href="#local_l_223"><span class="LIDENT">l</span></a> <span class="IN">in</span><span class="EOL">
</span>          <span class="LIDENT">source_code</span> <a href="#local_c_230"><span class="LIDENT">c</span></a> <span class="INFIXOP2">++</span> <a href="#local_continue_228"><span class="LIDENT">continue</span></a> <a href="#local_rest_231"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Alternative</span> <span id="local_alt_232"><span class="LIDENT">alt</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>          <span class="MATCH">match</span> <a href="#local_alt_232"><span class="LIDENT">alt</span></a> <span class="WITH">with</span><span class="EOL">
</span>          <span class="BAR">|</span> <span class="UIDENT">Expansion</span> <span class="LBRACE">{</span> <span id="local_expansion_233"><span class="LIDENT">expansion</span></span><span class="SEMI">;</span> <span id="local_url_234"><span class="LIDENT">url</span></span><span class="SEMI">;</span> <span class="UNDERSCORE">_</span> <span class="RBRACE">}</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>              <span class="IF">if</span> <span class="LIDENT">expansion_not_inlined</span> <a href="#local_url_234"><span class="LIDENT">url</span></a> <span class="THEN">then</span><span class="EOL">
</span>                <span class="LET">let</span> <span id="def_300"><span id="local_c_235"><span class="LIDENT">c</span></span><span class="COMMA">,</span> <span id="local_rest_236"><span class="LIDENT">rest</span></span></span> <span class="EQUAL">=</span> <span class="LIDENT">take_code</span> <a href="#local_l_223"><span class="LIDENT">l</span></a> <span class="IN">in</span><span class="EOL">
</span>                <span class="LIDENT">source_code</span> <a href="#local_c_235"><span class="LIDENT">c</span></a> <span class="INFIXOP2">++</span> <a href="#local_continue_228"><span class="LIDENT">continue</span></a> <a href="#local_rest_236"><span class="LIDENT">rest</span></a><span class="EOL">
</span>              <span class="ELSE">else</span> <span class="LIDENT">documentedSrc</span> <a href="#local_expansion_233"><span class="LIDENT">expansion</span></a><span class="RPAREN">)</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Subpage</span> <span id="local_p_237"><span class="LIDENT">p</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">subpage</span> <a href="#local_p_237"><span class="LIDENT">p</span></a><span class="DOT">.</span><span class="LIDENT">content</span> <span class="INFIXOP2">++</span> <a href="#local_continue_228"><span class="LIDENT">continue</span></a> <a href="#local_rest_225"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Documented</span> <span class="UNDERSCORE">_</span> <span class="BAR">|</span> <span class="UIDENT">Nested</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="def_298"><span id="local_lines_238"><span class="LIDENT">lines</span></span><span class="COMMA">,</span> <span class="UNDERSCORE">_</span><span class="COMMA">,</span> <span id="local_rest_239"><span class="LIDENT">rest</span></span></span> <span class="EQUAL">=</span><span class="EOL">
</span>            <a href="../odoc.document/doctree.ml.html#module-Take.val-until"><span class="UIDENT">Take</span><span class="DOT">.</span><span class="LIDENT">until</span></a> <a href="#local_l_223"><span class="LIDENT">l</span></a> <span class="LABEL">~classify:</span><span class="LPAREN">(</span><span class="FUNCTION">function</span><span class="EOL">
</span>              <span class="BAR">|</span> <span class="UIDENT">DocumentedSrc</span><span class="DOT">.</span><span class="UIDENT">Documented</span> <span class="LBRACE">{</span> <span id="local_code_240"><span class="LIDENT">code</span></span><span class="SEMI">;</span> <span id="local_doc_241"><span class="LIDENT">doc</span></span><span class="SEMI">;</span> <span class="UNDERSCORE">_</span> <span class="RBRACE">}</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>                  <span class="UIDENT">Accum</span> <span class="LBRACKET">[</span> <span class="LPAREN">(</span><span class="BACKQUOTE">`</span><span class="UIDENT">D</span> <a href="#local_code_240"><span class="LIDENT">code</span></a><span class="COMMA">,</span> <a href="#local_doc_241"><span class="LIDENT">doc</span></a><span class="RPAREN">)</span> <span class="RBRACKET">]</span><span class="EOL">
</span>              <span class="BAR">|</span> <span class="UIDENT">DocumentedSrc</span><span class="DOT">.</span><span class="UIDENT">Nested</span> <span class="LBRACE">{</span> <span id="local_code_242"><span class="LIDENT">code</span></span><span class="SEMI">;</span> <span id="local_doc_243"><span class="LIDENT">doc</span></span><span class="SEMI">;</span> <span class="UNDERSCORE">_</span> <span class="RBRACE">}</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>                  <span class="UIDENT">Accum</span> <span class="LBRACKET">[</span> <span class="LPAREN">(</span><span class="BACKQUOTE">`</span><span class="UIDENT">N</span> <a href="#local_code_242"><span class="LIDENT">code</span></a><span class="COMMA">,</span> <a href="#local_doc_243"><span class="LIDENT">doc</span></a><span class="RPAREN">)</span> <span class="RBRACKET">]</span><span class="EOL">
</span>              <span class="BAR">|</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="UIDENT">Stop_and_keep</span><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="IN">in</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_f_244"><span class="LIDENT">f</span></span> <span class="LPAREN">(</span><span id="local_content_245"><span class="LIDENT">content</span></span><span class="COMMA">,</span> <span id="local_doc_246"><span class="LIDENT">doc</span></span><span class="RPAREN">)</span> <span class="EQUAL">=</span><span class="EOL">
</span>            <span class="LET">let</span> <span id="local_doc_247"><span class="LIDENT">doc</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>              <span class="MATCH">match</span> <a href="#local_doc_246"><span class="LIDENT">doc</span></a> <span class="WITH">with</span><span class="EOL">
</span>              <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">noop</span><span class="EOL">
</span>              <span class="BAR">|</span> <span id="local_doc_248"><span class="LIDENT">doc</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>                  <span class="LIDENT">indent</span> <span class="INT">2</span><span class="EOL">
</span>                    <span class="LPAREN">(</span><span class="LIDENT">break</span> <span class="INFIXOP2">++</span> <span class="LIDENT">str</span> <span class="STRING">&quot;(*&quot;</span> <span class="INFIXOP2">++</span> <span class="LIDENT">sp</span> <span class="INFIXOP2">++</span> <span class="LIDENT">block</span> <a href="#local_doc_248"><span class="LIDENT">doc</span></a> <span class="INFIXOP2">++</span> <span class="LIDENT">sp</span> <span class="INFIXOP2">++</span> <span class="LIDENT">str</span> <span class="STRING">&quot;*)&quot;</span><span class="RPAREN">)</span><span class="EOL">
</span>            <span class="IN">in</span><span class="EOL">
</span>            <span class="LET">let</span> <span id="local_content_249"><span class="LIDENT">content</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>              <span class="MATCH">match</span> <a href="#local_content_245"><span class="LIDENT">content</span></a> <span class="WITH">with</span><span class="EOL">
</span>              <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">D</span> <span id="local_code_250"><span class="LIDENT">code</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">inline</span> <a href="#local_code_250"><span class="LIDENT">code</span></a><span class="EOL">
</span>              <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">N</span> <span id="local_l_251"><span class="LIDENT">l</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">indent</span> <span class="INT">2</span> <span class="LPAREN">(</span><span class="LIDENT">documentedSrc</span> <a href="#local_l_251"><span class="LIDENT">l</span></a><span class="RPAREN">)</span><span class="EOL">
</span>            <span class="IN">in</span><span class="EOL">
</span>            <a href="#local_content_249"><span class="LIDENT">content</span></a> <span class="INFIXOP2">++</span> <a href="#local_doc_247"><span class="LIDENT">doc</span></a><span class="EOL">
</span>          <span class="IN">in</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_l_252"><span class="LIDENT">l</span></span> <span class="EQUAL">=</span> <span class="LIDENT">list</span> <span class="LABEL">~sep:</span><span class="LIDENT">break</span> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/list.ml.html#val-map"><span class="UIDENT">List</span><span class="DOT">.</span><span class="LIDENT">map</span></a> <a href="#local_f_244"><span class="LIDENT">f</span></a> <a href="#local_lines_238"><span class="LIDENT">lines</span></a><span class="RPAREN">)</span> <span class="IN">in</span><span class="EOL">
</span>          <span class="LIDENT">indent</span> <span class="INT">2</span> <span class="LPAREN">(</span><span class="LIDENT">break</span> <span class="INFIXOP2">++</span> <a href="#local_l_252"><span class="LIDENT">l</span></a><span class="RPAREN">)</span> <span class="INFIXOP2">++</span> <a href="#local_break_if_nonempty_226"><span class="LIDENT">break_if_nonempty</span></a> <a href="#local_rest_239"><span class="LIDENT">rest</span></a> <span class="INFIXOP2">++</span> <a href="#local_continue_228"><span class="LIDENT">continue</span></a> <a href="#local_rest_239"><span class="LIDENT">rest</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span><span class="AND">and</span> <span id="val-{subpage}1/shadowed/(odoc-src-odoc.manpage-generator.ml)"><span class="LIDENT">subpage</span></span> <span class="LBRACE">{</span> <span class="LIDENT">preamble</span> <span class="EQUAL">=</span> <span class="UNDERSCORE">_</span><span class="SEMI">;</span> <span id="local_items_253"><span class="LIDENT">items</span></span><span class="SEMI">;</span> <span class="LIDENT">url</span> <span class="EQUAL">=</span> <span class="UNDERSCORE">_</span><span class="SEMI">;</span> <span class="UNDERSCORE">_</span> <span class="RBRACE">}</span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_content_254"><span class="LIDENT">content</span></span> <span class="EQUAL">=</span> <a href="#local_items_253"><span class="LIDENT">items</span></a> <span class="IN">in</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_surround_255"><span class="LIDENT">surround</span></span> <span id="local_body_256"><span class="LIDENT">body</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <span class="IF">if</span> <a href="#local_content_254"><span class="LIDENT">content</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(=)"><span class="EQUAL">=</span></a> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="THEN">then</span> <span class="LIDENT">sp</span> <span class="ELSE">else</span> <span class="LIDENT">indent</span> <span class="INT">2</span> <span class="LPAREN">(</span><span class="LIDENT">break</span> <span class="INFIXOP2">++</span> <a href="#local_body_256"><span class="LIDENT">body</span></a><span class="RPAREN">)</span> <span class="INFIXOP2">++</span> <span class="LIDENT">break</span><span class="EOL">
</span>  <span class="IN">in</span><span class="EOL">
</span>  <a href="#local_surround_255"><span class="LIDENT">surround</span></a> <span class="INFIXOP1">@@</span> <span class="LIDENT">item</span> <span class="LABEL">~nested:</span><span class="TRUE">true</span> <a href="#local_content_254"><span class="LIDENT">content</span></a><span class="EOL">
</span><span class="EOL">
</span><span class="AND">and</span> <span id="val-item"><span class="LIDENT">item</span></span> <span class="TILDE">~</span><span id="local_nested_257"><span class="LIDENT">nested</span></span> <span class="LPAREN">(</span><span id="local_l_258"><span class="LIDENT">l</span></span> <span class="COLON">:</span> <span class="UIDENT">Item</span><span class="DOT">.</span><span class="LIDENT">t</span> <span class="LIDENT">list</span><span class="RPAREN">)</span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="MATCH">match</span> <a href="#local_l_258"><span class="LIDENT">l</span></a> <span class="WITH">with</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">noop</span><span class="EOL">
</span>  <span class="BAR">|</span> <span id="local_i_259"><span class="LIDENT">i</span></span> <span class="COLONCOLON">::</span> <span id="local_rest_260"><span class="LIDENT">rest</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LPAREN">(</span><span class="EOL">
</span>      <span class="LET">let</span> <span id="local_continue_261"><span class="LIDENT">continue</span></span> <span id="local_r_262"><span class="LIDENT">r</span></span> <span class="EQUAL">=</span> <span class="IF">if</span> <a href="#local_r_262"><span class="LIDENT">r</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(=)"><span class="EQUAL">=</span></a> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="THEN">then</span> <span class="LIDENT">noop</span> <span class="ELSE">else</span> <span class="LIDENT">vspace</span> <span class="INFIXOP2">++</span> <span class="LIDENT">item</span> <span class="TILDE">~</span><a href="#local_nested_257"><span class="LIDENT">nested</span></a> <a href="#local_r_262"><span class="LIDENT">r</span></a> <span class="IN">in</span><span class="EOL">
</span>      <span class="MATCH">match</span> <a href="#local_i_259"><span class="LIDENT">i</span></a> <span class="WITH">with</span><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Text</span> <span id="local_b_263"><span class="LIDENT">b</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_d_264"><span class="LIDENT">d</span></span> <span class="EQUAL">=</span> <span class="LIDENT">env</span> <span class="STRING">&quot;fi&quot;</span> <span class="STRING">&quot;nf&quot;</span> <span class="STRING">&quot;&quot;</span> <span class="LPAREN">(</span><span class="LIDENT">block</span> <a href="#local_b_263"><span class="LIDENT">b</span></a><span class="RPAREN">)</span> <span class="IN">in</span><span class="EOL">
</span>          <a href="#local_d_264"><span class="LIDENT">d</span></a> <span class="INFIXOP2">++</span> <a href="#local_continue_261"><span class="LIDENT">continue</span></a> <a href="#local_rest_260"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Heading</span> <span id="local_h_265"><span class="LIDENT">h</span></span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_h_266"><span class="LIDENT">h</span></span> <span class="EQUAL">=</span> <span class="LIDENT">heading</span> <span class="TILDE">~</span><a href="#local_nested_257"><span class="LIDENT">nested</span></a> <a href="#local_h_265"><span class="LIDENT">h</span></a> <span class="IN">in</span><span class="EOL">
</span>          <span class="LIDENT">vspace</span> <span class="INFIXOP2">++</span> <a href="#local_h_266"><span class="LIDENT">h</span></a> <span class="INFIXOP2">++</span> <span class="LIDENT">vspace</span> <span class="INFIXOP2">++</span> <span class="LIDENT">item</span> <span class="TILDE">~</span><a href="#local_nested_257"><span class="LIDENT">nested</span></a> <a href="#local_rest_260"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Declaration</span> <span class="LBRACE">{</span> <span class="LIDENT">attr</span> <span class="EQUAL">=</span> <span class="UNDERSCORE">_</span><span class="SEMI">;</span> <span class="LIDENT">anchor</span> <span class="EQUAL">=</span> <span class="UNDERSCORE">_</span><span class="SEMI">;</span> <span class="LIDENT">source_anchor</span> <span class="EQUAL">=</span> <span class="UNDERSCORE">_</span><span class="SEMI">;</span> <span id="local_content_267"><span class="LIDENT">content</span></span><span class="SEMI">;</span> <span id="local_doc_268"><span class="LIDENT">doc</span></span> <span class="RBRACE">}</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_decl_269"><span class="LIDENT">decl</span></span> <span class="EQUAL">=</span> <span class="LIDENT">documentedSrc</span> <a href="#local_content_267"><span class="LIDENT">content</span></a> <span class="IN">in</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_doc_270"><span class="LIDENT">doc</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>            <span class="MATCH">match</span> <a href="#local_doc_268"><span class="LIDENT">doc</span></a> <span class="WITH">with</span><span class="EOL">
</span>            <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">noop</span><span class="EOL">
</span>            <span class="BAR">|</span> <span id="local_doc_271"><span class="LIDENT">doc</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LIDENT">env</span> <span class="STRING">&quot;fi&quot;</span> <span class="STRING">&quot;nf&quot;</span> <span class="STRING">&quot;&quot;</span> <span class="LPAREN">(</span><span class="LIDENT">indent</span> <span class="INT">2</span> <span class="LPAREN">(</span><span class="LIDENT">break</span> <span class="INFIXOP2">++</span> <span class="LIDENT">block</span> <a href="#local_doc_271"><span class="LIDENT">doc</span></a><span class="RPAREN">)</span><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="IN">in</span><span class="EOL">
</span>          <a href="#local_decl_269"><span class="LIDENT">decl</span></a> <span class="INFIXOP2">++</span> <a href="#local_doc_270"><span class="LIDENT">doc</span></a> <span class="INFIXOP2">++</span> <a href="#local_continue_261"><span class="LIDENT">continue</span></a> <a href="#local_rest_260"><span class="LIDENT">rest</span></a><span class="EOL">
</span>      <span class="BAR">|</span> <span class="UIDENT">Include</span><span class="EOL">
</span>          <span class="LBRACE">{</span><span class="EOL">
</span>            <span class="LIDENT">attr</span> <span class="EQUAL">=</span> <span class="UNDERSCORE">_</span><span class="SEMI">;</span><span class="EOL">
</span>            <span class="LIDENT">anchor</span> <span class="EQUAL">=</span> <span class="UNDERSCORE">_</span><span class="SEMI">;</span><span class="EOL">
</span>            <span class="LIDENT">source_anchor</span> <span class="EQUAL">=</span> <span class="UNDERSCORE">_</span><span class="SEMI">;</span><span class="EOL">
</span>            <span class="LIDENT">content</span> <span class="EQUAL">=</span> <span class="LBRACE">{</span> <span id="local_summary_274"><span class="LIDENT">summary</span></span><span class="SEMI">;</span> <span id="local_status_272"><span class="LIDENT">status</span></span><span class="SEMI">;</span> <span id="local_content_273"><span class="LIDENT">content</span></span> <span class="RBRACE">}</span><span class="SEMI">;</span><span class="EOL">
</span>            <span id="local_doc_275"><span class="LIDENT">doc</span></span><span class="SEMI">;</span><span class="EOL">
</span>          <span class="RBRACE">}</span> <span class="MINUSGREATER">-&gt;</span><span class="EOL">
</span>          <span class="LET">let</span> <span id="local_d_276"><span class="LIDENT">d</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>            <span class="IF">if</span> <span class="LIDENT">inline_subpage</span> <a href="#local_status_272"><span class="LIDENT">status</span></a> <span class="THEN">then</span> <span class="LIDENT">item</span> <span class="TILDE">~</span><a href="#local_nested_257"><span class="LIDENT">nested</span></a> <a href="#local_content_273"><span class="LIDENT">content</span></a><span class="EOL">
</span>            <span class="ELSE">else</span><span class="EOL">
</span>              <span class="LET">let</span> <span id="local_s_277"><span class="LIDENT">s</span></span> <span class="EQUAL">=</span> <span class="LIDENT">source_code</span> <a href="#local_summary_274"><span class="LIDENT">summary</span></a> <span class="IN">in</span><span class="EOL">
</span>              <span class="MATCH">match</span> <a href="#local_doc_275"><span class="LIDENT">doc</span></a> <span class="WITH">with</span><span class="EOL">
</span>              <span class="BAR">|</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_s_277"><span class="LIDENT">s</span></a><span class="EOL">
</span>              <span class="BAR">|</span> <span id="local_doc_278"><span class="LIDENT">doc</span></span> <span class="MINUSGREATER">-&gt;</span> <a href="#local_s_277"><span class="LIDENT">s</span></a> <span class="INFIXOP2">++</span> <span class="LIDENT">indent</span> <span class="INT">2</span> <span class="LPAREN">(</span><span class="LIDENT">break</span> <span class="INFIXOP2">++</span> <span class="LIDENT">block</span> <a href="#local_doc_278"><span class="LIDENT">doc</span></a><span class="RPAREN">)</span><span class="EOL">
</span>          <span class="IN">in</span><span class="EOL">
</span>          <a href="#local_d_276"><span class="LIDENT">d</span></a> <span class="INFIXOP2">++</span> <a href="#local_continue_261"><span class="LIDENT">continue</span></a> <a href="#local_rest_260"><span class="LIDENT">rest</span></a><span class="RPAREN">)</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-on_sub"><span class="LIDENT">on_sub</span></span> <span id="local_subp_279"><span class="LIDENT">subp</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="MATCH">match</span> <a href="#local_subp_279"><span class="LIDENT">subp</span></a> <span class="WITH">with</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Page</span> <span id="local_p_280"><span class="LIDENT">p</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="IF">if</span> <span class="UIDENT">Link</span><span class="DOT">.</span><span class="LIDENT">should_inline</span> <a href="#local_p_280"><span class="LIDENT">p</span></a><span class="DOT">.</span><span class="UIDENT">Subpage</span><span class="DOT">.</span><span class="LIDENT">content</span><span class="DOT">.</span><span class="LIDENT">url</span> <span class="THEN">then</span> <span class="UIDENT">Some</span> <span class="INT">1</span> <span class="ELSE">else</span> <span class="UIDENT">None</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="BACKQUOTE">`</span><span class="UIDENT">Include</span> <span id="local_incl_281"><span class="LIDENT">incl</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="IF">if</span> <span class="LIDENT">inline_subpage</span> <a href="#local_incl_281"><span class="LIDENT">incl</span></a><span class="DOT">.</span><span class="UIDENT">Include</span><span class="DOT">.</span><span class="LIDENT">status</span> <span class="THEN">then</span> <span class="UIDENT">Some</span> <span class="INT">0</span> <span class="ELSE">else</span> <span class="UIDENT">None</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-page"><span class="LIDENT">page</span></span> <span id="local_p_282"><span class="LIDENT">p</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LIDENT">reset_heading</span> <span class="LPAREN">(</span><span class="RPAREN">)</span><span class="SEMI">;</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_header_283"><span class="LIDENT">header</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>    <a href="../odoc.document/doctree.ml.html#module-PageTitle.val-render_title"><span class="UIDENT">Doctree</span><span class="DOT">.</span><span class="UIDENT">PageTitle</span><span class="DOT">.</span><span class="LIDENT">render_title</span></a> <a href="#local_p_282"><span class="LIDENT">p</span></a> <a href="../../../ocaml-base-compiler/src/stdlib/stdlib.ml.html#val-(@)"><span class="INFIXOP1">@</span></a> <a href="../odoc.document/doctree.ml.html#module-Shift.val-compute"><span class="UIDENT">Shift</span><span class="DOT">.</span><span class="LIDENT">compute</span></a> <span class="TILDE">~</span><span class="LIDENT">on_sub</span> <a href="#local_p_282"><span class="LIDENT">p</span></a><span class="DOT">.</span><span class="LIDENT">preamble</span><span class="EOL">
</span>  <span class="IN">in</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_i_284"><span class="LIDENT">i</span></span> <span class="EQUAL">=</span> <a href="../odoc.document/doctree.ml.html#module-Shift.val-compute"><span class="UIDENT">Shift</span><span class="DOT">.</span><span class="LIDENT">compute</span></a> <span class="TILDE">~</span><span class="LIDENT">on_sub</span> <a href="#local_p_282"><span class="LIDENT">p</span></a><span class="DOT">.</span><span class="LIDENT">items</span> <span class="IN">in</span><span class="EOL">
</span>  <span class="LIDENT">macro</span> <span class="STRING">&quot;TH&quot;</span> <span class="STRING">{|%s 3 &quot;&quot; &quot;Odoc&quot; &quot;OCaml Library&quot;|}</span> <a href="#local_p_282"><span class="LIDENT">p</span></a><span class="DOT">.</span><span class="LIDENT">url</span><span class="DOT">.</span><span class="LIDENT">name</span><span class="EOL">
</span>  <span class="INFIXOP2">++</span> <span class="LIDENT">macro</span> <span class="STRING">&quot;SH&quot;</span> <span class="STRING">&quot;Name&quot;</span><span class="EOL">
</span>  <span class="INFIXOP2">++</span> <span class="LIDENT">str</span> <span class="STRING">&quot;%s&quot;</span> <span class="LPAREN">(</span><a href="../../../ocaml-base-compiler/src/stdlib/string.ml.html#val-concat"><span class="UIDENT">String</span><span class="DOT">.</span><span class="LIDENT">concat</span></a> <span class="STRING">&quot;.&quot;</span> <span class="INFIXOP1">@@</span> <span class="UIDENT">Link</span><span class="DOT">.</span><span class="LIDENT">for_printing</span> <a href="#local_p_282"><span class="LIDENT">p</span></a><span class="DOT">.</span><span class="LIDENT">url</span><span class="RPAREN">)</span><span class="EOL">
</span>  <span class="INFIXOP2">++</span> <span class="LIDENT">macro</span> <span class="STRING">&quot;SH&quot;</span> <span class="STRING">&quot;Synopsis&quot;</span> <span class="INFIXOP2">++</span> <span class="LIDENT">vspace</span> <span class="INFIXOP2">++</span> <span class="LIDENT">item</span> <span class="LABEL">~nested:</span><span class="FALSE">false</span> <a href="#local_header_283"><span class="LIDENT">header</span></a><span class="EOL">
</span>  <span class="INFIXOP2">++</span> <span class="LIDENT">macro</span> <span class="STRING">&quot;SH&quot;</span> <span class="STRING">&quot;Documentation&quot;</span> <span class="INFIXOP2">++</span> <span class="LIDENT">vspace</span> <span class="INFIXOP2">++</span> <span class="LIDENT">macro</span> <span class="STRING">&quot;nf&quot;</span> <span class="STRING">&quot;&quot;</span><span class="EOL">
</span>  <span class="INFIXOP2">++</span> <span class="LIDENT">item</span> <span class="LABEL">~nested:</span><span class="FALSE">false</span> <a href="#local_i_284"><span class="LIDENT">i</span></a><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span class="REC">rec</span> <span id="val-subpage"><span class="LIDENT">subpage</span></span> <span id="local_subp_285"><span class="LIDENT">subp</span></span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_p_286"><span class="LIDENT">p</span></span> <span class="EQUAL">=</span> <a href="#local_subp_285"><span class="LIDENT">subp</span></a><span class="DOT">.</span><span class="UIDENT">Subpage</span><span class="DOT">.</span><span class="LIDENT">content</span> <span class="IN">in</span><span class="EOL">
</span>  <span class="IF">if</span> <span class="UIDENT">Link</span><span class="DOT">.</span><span class="LIDENT">should_inline</span> <a href="#local_p_286"><span class="LIDENT">p</span></a><span class="DOT">.</span><span class="LIDENT">url</span> <span class="THEN">then</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span> <span class="ELSE">else</span> <span class="LBRACKET">[</span> <span class="LIDENT">render_page</span> <a href="#local_p_286"><span class="LIDENT">p</span></a> <span class="RBRACKET">]</span><span class="EOL">
</span><span class="EOL">
</span><span class="AND">and</span> <span id="val-render_page"><span class="LIDENT">render_page</span></span> <span class="LPAREN">(</span><span id="local_p_287"><span class="LIDENT">p</span></span> <span class="COLON">:</span> <span class="UIDENT">Page</span><span class="DOT">.</span><span class="LIDENT">t</span><span class="RPAREN">)</span> <span class="EQUAL">=</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_p_288"><span class="LIDENT">p</span></span> <span class="EQUAL">=</span> <a href="../odoc.document/doctree.ml.html#module-Labels.val-disambiguate_page"><span class="UIDENT">Doctree</span><span class="DOT">.</span><span class="UIDENT">Labels</span><span class="DOT">.</span><span class="LIDENT">disambiguate_page</span></a> <span class="LABEL">~enter_subpages:</span><span class="TRUE">true</span> <a href="#local_p_287"><span class="LIDENT">p</span></a><span class="EOL">
</span>  <span class="AND">and</span> <span id="local_children_289"><span class="LIDENT">children</span></span> <span class="EQUAL">=</span> <a href="../odoc.document/utils.ml.html#val-flatmap"><span class="UIDENT">Utils</span><span class="DOT">.</span><span class="LIDENT">flatmap</span></a> <span class="LABEL">~f:</span><span class="LIDENT">subpage</span> <span class="INFIXOP1">@@</span> <a href="../odoc.document/doctree.ml.html#module-Subpages.val-compute"><span class="UIDENT">Subpages</span><span class="DOT">.</span><span class="LIDENT">compute</span></a> <a href="#local_p_287"><span class="LIDENT">p</span></a> <span class="IN">in</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_content_290"><span class="LIDENT">content</span></span> <span id="local_ppf_291"><span class="LIDENT">ppf</span></span> <span class="EQUAL">=</span> <a href="../../../ocaml-base-compiler/src/stdlib/format.ml.html#val-fprintf"><span class="UIDENT">Format</span><span class="DOT">.</span><span class="LIDENT">fprintf</span></a> <a href="#local_ppf_291"><span class="LIDENT">ppf</span></a> <span class="STRING">&quot;%a@.&quot;</span> <span class="UIDENT">Roff</span><span class="DOT">.</span><span class="LIDENT">pp</span> <span class="LPAREN">(</span><span class="LIDENT">page</span> <a href="#local_p_288"><span class="LIDENT">p</span></a><span class="RPAREN">)</span> <span class="IN">in</span><span class="EOL">
</span>  <span class="LET">let</span> <span id="local_filename_292"><span class="LIDENT">filename</span></span> <span class="EQUAL">=</span> <span class="UIDENT">Link</span><span class="DOT">.</span><span class="LIDENT">as_filename</span> <a href="#local_p_288"><span class="LIDENT">p</span></a><span class="DOT">.</span><span class="LIDENT">url</span> <span class="IN">in</span><span class="EOL">
</span>  <span class="LBRACE">{</span> <a href="#local_filename_292"><span class="UIDENT">Renderer</span><span class="DOT">.</span><span class="LIDENT">filename</span></a><span class="SEMI">;</span> <a href="#local_content_290"><span class="LIDENT">content</span></a><span class="SEMI">;</span> <a href="#local_children_289"><span class="LIDENT">children</span></a><span class="SEMI">;</span> <span class="LIDENT">path</span> <span class="EQUAL">=</span> <a href="#local_p_288"><span class="LIDENT">p</span></a><span class="DOT">.</span><span class="LIDENT">url</span> <span class="RBRACE">}</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-render"><span class="LIDENT">render</span></span> <span class="EQUAL">=</span> <span class="FUNCTION">function</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Document</span><span class="DOT">.</span><span class="UIDENT">Page</span> <span id="local_page_293"><span class="LIDENT">page</span></span> <span class="MINUSGREATER">-&gt;</span> <span class="LBRACKET">[</span> <span class="LIDENT">render_page</span> <a href="#local_page_293"><span class="LIDENT">page</span></a> <span class="RBRACKET">]</span><span class="EOL">
</span>  <span class="BAR">|</span> <span class="UIDENT">Source_page</span> <span class="UNDERSCORE">_</span> <span class="MINUSGREATER">-&gt;</span> <span class="LBRACKET">[</span><span class="RBRACKET">]</span><span class="EOL">
</span><span class="EOL">
</span><span class="LET">let</span> <span id="val-filepath"><span class="LIDENT">filepath</span></span> <span id="local_url_294"><span class="LIDENT">url</span></span> <span class="EQUAL">=</span> <span class="UIDENT">Link</span><span class="DOT">.</span><span class="LIDENT">as_filename</span> <span class="LABEL">~add_ext:</span><span class="FALSE">false</span> <a href="#local_url_294"><span class="LIDENT">url</span></a><span class="EOL">
</span></span></code></pre></body></html>
