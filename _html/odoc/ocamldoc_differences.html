<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>ocamldoc_differences (odoc.ocamldoc_differences)</title><meta charset="utf-8"/><link rel="stylesheet" href="../odoc.css"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../';
let search_urls = ['sherlodoc_db.js','../sherlodoc.js'];
</script><script src="../odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="index.html">Up</a> ‚Äì <a href="../index.html">üè†</a> &#x00BB; <a href="index.html">The odoc documentation generator</a> &#x00BB; Markup Differences From OCamldoc</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="üîé Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1 id="markup-differences-from-ocamldoc"><a href="#markup-differences-from-ocamldoc" class="anchor"></a>Markup Differences From OCamldoc</h1><p>The canonical description of the markup that <code>odoc</code> understands is in <a href="https://caml.inria.fr/pub/docs/manual-ocaml/ocamldoc.html#s%3Aocamldoc-comments">this section</a> of the OCaml reference manual. The eventual aim is to support the in-code markup in its entirety, although right now there are some gaps. There are also some extensions where <code>odoc</code> goes beyond what is officially supported.</p><p>The example interface <code>foo.mli</code> <a href="https://ocaml.org/manual/ocamldoc.html#ss:ocamldoc-placement">described in the OCaml manual</a> can be seen rendered by <code>odoc</code> <a href="odoc.examples/Odoc_examples/Markup/module-type-Foo/index.html" title="Odoc_examples.Markup.Foo">here</a>.</p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#changes">Changes</a><ul><li><a href="#omissions">Omissions</a></li><li><a href="#improvements">Improvements</a></li></ul></li><li><a href="#reference-syntax">Reference Syntax</a><ul><li><a href="#referencing-items-containing-hyphens-or-dots">Referencing Items Containing Hyphens or Dots</a></li></ul></li></ul></nav><nav class="odoc-toc odoc-global-toc"><ul><li><a href="index.html">The odoc documentation generator</a><ul><li><a href="odoc_for_authors.html"><code>odoc</code> for Authors</a></li><li><a href="cheatsheet.html">Cheatsheet</a></li><li><a href="dune.html">Dune and odoc</a></li><li><a href="features.html">Language Features</a></li><li><a href="#" class="current_unit">Markup Differences From OCamldoc</a></li><li><a href="interface.html"><code>odoc</code> Interface Guarantees</a></li><li><a href="driver.html">How to Drive <code>odoc</code></a></li><li><a href="json.html">JSON output</a></li><li><a href="deprecated/index.html">Deprecated features</a></li><li>Library <code>odoc.document</code><ul><li><a href="odoc.document/Odoc_document/index.html">Odoc_document</a></li></ul></li><li>Library <code>odoc.examples</code><ul><li><a href="odoc.examples/Odoc_examples/index.html">Odoc_examples</a></li></ul></li><li>Library <code>odoc.html</code><ul><li><a href="odoc.html/Odoc_html/index.html">Odoc_html</a></li></ul></li><li>Library <code>odoc.html_support_files</code><ul><li><a href="odoc.html_support_files/Odoc_html_support_files/index.html">Odoc_html_support_files</a></li></ul></li><li>Library <code>odoc.index</code><ul><li><a href="odoc.index/Odoc_index/index.html">Odoc_index</a></li></ul></li><li>Library <code>odoc.json_index</code><ul><li><a href="odoc.json_index/Odoc_json_index/index.html">Odoc_json_index</a></li></ul></li><li>Library <code>odoc.latex</code><ul><li><a href="odoc.latex/Odoc_latex/index.html">Odoc_latex</a></li></ul></li><li>Library <code>odoc.loader</code><ul><li><a href="odoc.loader/Odoc_loader/index.html">Odoc_loader</a></li></ul></li><li>Library <code>odoc.manpage</code><ul><li><a href="odoc.manpage/Odoc_manpage/index.html">Odoc_manpage</a></li></ul></li><li>Library <code>odoc.model</code><ul><li><a href="odoc.model/Odoc_model/index.html">Odoc_model</a></li></ul></li><li>Library <code>odoc.model_desc</code><ul><li><a href="odoc.model_desc/Odoc_model_desc/index.html">Odoc_model_desc</a></li></ul></li><li>Library <code>odoc.ocamlary</code><ul><li><a href="odoc.ocamlary/Ocamlary/index.html">Ocamlary</a></li></ul></li><li>Library <code>odoc.occurrences</code><ul><li><a href="odoc.occurrences/Odoc_occurrences/index.html">Odoc_occurrences</a></li></ul></li><li>Library <code>odoc.odoc</code><ul><li><a href="odoc.odoc/Odoc_odoc/index.html">Odoc_odoc</a></li></ul></li><li>Library <code>odoc.odoc_utils</code><ul><li><a href="odoc.odoc_utils/Odoc_utils/index.html">Odoc_utils</a></li></ul></li><li>Library <code>odoc.search</code><ul><li><a href="odoc.search/Odoc_search/index.html">Odoc_search</a></li></ul></li><li>Library <code>odoc.search_html_frontend</code><ul><li><a href="odoc.search_html_frontend/Odoc_html_frontend/index.html">Odoc_html_frontend</a></li></ul></li><li>Library <code>odoc.syntax_highlighter</code><ul><li><a href="odoc.syntax_highlighter/Syntax_highlighter/index.html">Syntax_highlighter</a></li></ul></li><li>Library <code>odoc.xref2</code><ul><li><a href="odoc.xref2/Odoc_xref2/index.html">Odoc_xref2</a></li></ul></li><li>Library <code>odoc.xref_test</code><ul><li><a href="odoc.xref_test/Odoc_xref_test/index.html">Odoc_xref_test</a></li></ul></li><li><a href="src/index.html">Sources</a></li></ul></li></ul></nav></div><div class="odoc-content"><h3 id="changes"><a href="#changes" class="anchor"></a>Changes</h3><p>The following describes the changes between what <code>odoc</code> understands and what‚Äôs in the OCaml manual.</p><ul><li>Heading levels are more restrictive. In the manual, it suggests any whole number is acceptable. In <code>odoc</code>, similarly to the HTML spec, we allow headings from 1-5. Heading level <code>0</code> is for the title of <code>.mld</code> files. <code>odoc</code> emits a warning for heading levels outside this range and caps them.</li><li>Tags are restricted in scope and do not need to be put at the end of the docstring.</li></ul><h4 id="omissions"><a href="#omissions" class="anchor"></a>Omissions</h4><ul><li>Comments describing class inheritance are not rendered (<a href="https://github.com/ocaml/odoc/issues/574">GitHub issue</a>).</li><li><code>odoc</code> handles ambiguous documentation comments as the compiler does (see <a href="https://caml.inria.fr/pub/docs/manual-ocaml/doccomments.html">here</a>) rather than treating them as the OCamldoc manual suggests.</li><li><code>odoc</code> doesn‚Äôt ignore tags that don't make sense (e.g., <code>@param</code> tags on instance variables are rendered) (<a href="https://github.com/ocaml/odoc/issues/575">GitHub issue</a>).</li><li><a href="https://caml.inria.fr/pub/docs/manual-ocaml/ocamldoc.html#ss:ocamldoc-formatting">Alignment elements</a> are not handled (<code>{C text}</code>, <code>{L text}</code>, and <code>{R text}</code>) (<a href="https://github.com/ocaml/odoc/issues/541">GitHub issue</a>).</li><li><code>odoc</code> does not recognise <a href="https://caml.inria.fr/pub/docs/manual-ocaml/ocamldoc.html#sss:ocamldoc-html-tags">HTML tags embedded in comments</a> (<a href="https://github.com/ocaml/odoc/issues/576">GitHub issue</a>).</li><li><code>{!indexlist}</code> is not supported (<a href="https://github.com/ocaml/odoc/issues/577">GitHub issue</a>).</li><li>The first paragraph is used for synopses instead of the <a href="https://caml.inria.fr/pub/docs/manual-ocaml/ocamldoc.html#sss:ocamldoc-preamble">first sentence</a>. Synopses are used when rendering declarations (of modules, classes, etc.) and <code>{!modules:...}</code> lists. Another difference is that documentation starting with a heading or something that is not a paragraph won't have a synopsis (<a href="https://github.com/ocaml/odoc/pull/643">GitHub issue</a>).</li></ul><h4 id="improvements"><a href="#improvements" class="anchor"></a>Improvements</h4><ul><li><code>odoc</code> supports writing mathematics and tables with a specific syntax.</li><li><code>odoc</code> supports the inclusion of medias such as audio, video and image.</li><li><code>odoc</code> has a better mechanism for disambiguating references in comments. See 'reference syntax' later in this document.</li><li>Built-in support for standalone <code>.mld</code> files. These are documents using the OCamldoc markup, but they‚Äôre rendered as distinct pages.</li><li>Structured output: <code>odoc</code> can produce output in a structured directory tree rather a set of files.</li><li>A few extra tags are supported:</li></ul><ol><li><code>@returns</code> is a synonym for <code>@return</code>.</li><li><code>@raises</code> is a synonym for <code>@raise</code>.</li><li><code>@open</code> and <code>@closed</code> and <code>@inline</code> are hints for how 'included' signatures should be rendered.</li><li><code>@canonical</code> allows a definition of a <code>module</code>, <code>module type</code>, or <code>type</code> to be marked as canonically elsewhere.</li></ol><h3 id="reference-syntax"><a href="#reference-syntax" class="anchor"></a>Reference Syntax</h3><p><code>odoc</code> has a far more powerful reference resolution mechanism than OCamldoc. While it supports the mechanism in OCamldoc used for disambiguating between different types of references, it offers a more powerful alternative. The new mechanism allows for disambiguation of each part in a dotted reference rather than just the final part. For example, where the reference manual suggests the syntax <code>{!type:Foo.Bar.t}</code> to designate a type, and <code>{!val:Foo.Bar.t}</code> a value of the same name, the new <code>odoc</code> syntax for these comments would be <code>{!Foo.Bar.type-t}</code> and <code>{!Foo.Bar.val-t}</code>. This allows <code>odoc</code> to disambiguate when there are other ambiguous elements within the path. For example, we can distinguish between a type or <code>value t</code> within a module or module type with the same name: <code>{!module-Foo.module-type-Bar.type-t}</code> or <code>{!module-type-Foo.module-Bar.val-t}</code>.</p><p>Additionally, we support extra annotations:</p><ul><li><code>module-type</code> is a replacement for <code>modtype</code>.</li><li><code>class-type</code> is a replacement for <code>classtype</code>.</li><li><code>exn</code> is recognised as <code>exception</code>.</li><li><code>extension</code> refers to a type extension.</li><li><code>extension-decl</code> refers to the declaration point of an extension constructor.</li><li><code>field</code> is a replacement for <code>recfield</code>.</li><li><code>instance-variable</code> refers to instance variables.</li><li><code>label</code> refers to labels introduced in anchors.</li><li><code>page</code> refers to <code>.mld</code> pages as outlined above.</li><li><code>value</code> is recognised as <code>val</code>.</li></ul><p>Moreover, <code>odoc</code> adds support for referencing polymorphic variants in type aliases such as <code>type t = [ `A ]</code>. The <code>constructor</code> annotation is extended for polymorphic variants.</p><h4 id="referencing-items-containing-hyphens-or-dots"><a href="#referencing-items-containing-hyphens-or-dots" class="anchor"></a>Referencing Items Containing Hyphens or Dots</h4><p>If it is necessary to reference a reference that contains hyphens or dots (e.g., if you have a file <code>docs-with-dashes.mld</code> or <code>docs.with.dots.mld</code>) use quotation marks in the reference. For the previous two examples, the references would be <code>{!page-&quot;docs-with-dashes&quot;}</code> and <code>{!page-&quot;docs.with.dots&quot;}</code>.</p></div></body></html>
