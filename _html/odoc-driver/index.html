<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>index (odoc-driver.index)</title><meta charset="utf-8"/><link rel="stylesheet" href="../odoc.css"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../';
let search_urls = ['sherlodoc_db.js','../sherlodoc.js'];
</script><script src="../odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> ‚Äì <a href="../index.html">üè†</a> &#x00BB; The odoc reference driver</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="üîé Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1 id="the-odoc-reference-driver"><a href="#the-odoc-reference-driver" class="anchor"></a>The odoc reference driver</h1></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#quickstart">Quickstart</a></li><li><a href="#introduction">Introduction</a><ul><li><a href="#drivers">Drivers</a></li><li><a href="#documentation-errors">Documentation errors</a></li><li><a href="#remapping-dependencies">Remapping dependencies</a></li><li><a href="#overriding-the-main-index">Overriding the main index</a></li><li><a href="#json-output">JSON output</a></li></ul></li></ul></nav><nav class="odoc-toc odoc-global-toc"><ul><li><a href="#" class="current_unit">The odoc reference driver</a><ul><li>Library <code>odoc-driver</code><ul><li><a href="odoc-driver/Odoc_driver_lib/index.html">Odoc_driver_lib</a></li></ul></li><li><a href="src/index.html">Sources</a></li></ul></li></ul></nav></div><div class="odoc-content"><h2 id="quickstart"><a href="#quickstart" class="anchor"></a>Quickstart</h2><p>To produce HTML documentation for your package <code>pkg</code> and its dependencies, first ensure that it is installed in your opam switch, then run:</p><pre class="language-sh"><code>odoc_driver &lt;pkg&gt;</code></pre><p>The output will appear in the directory `_html` by default.</p><h2 id="introduction"><a href="#introduction" class="anchor"></a>Introduction</h2><p><code>odoc_driver</code> is a tool that can be run to create and validate HTML documentation for OCaml packages. This includes the documentation comments in the interfaces and implementations of the modules, as well as <code>mld</code> files and their associated assets. In addition, the source code of the modules, if available, will be rendered with syntax highlighting and links. Also included is per-package search powered by <a href="../sherlodoc/index.html" title="index">Sherlodoc</a>, and a global sidebar allowing easy navigation around the docs. It has a small number of options to allow for modification of the layout of what's produced.</p><h3 id="drivers"><a href="#drivers" class="anchor"></a>Drivers</h3><p><code>odoc_driver</code> is actually three drivers:</p><ul><li><code>odoc_driver</code> - The standard driver.</li><li><code>odoc_driver_voodoo</code> - The driver adapted for producing the documentation used by ocaml.org.</li><li><code>odoc_driver_monorepo</code> - An experimental driver for producing documentation of a dune-managed monorepo.</li></ul><p>What follows applies mostly to the first of these.</p><h3 id="documentation-errors"><a href="#documentation-errors" class="anchor"></a>Documentation errors</h3><p><code>odoc_driver</code> will report errors that it discovers while generating documentation. In order that these errors can be fixed easily, it will ony report errors that are found within the packages that are selected on the command line, as opposed to those found in dependency packages. The errors will be reported on completion of the run. For example:</p><pre class="language-sh"><code>$ odoc_driver odoc-parser
Deciding which packages to build...      
Performing module-level dependency analysis...
Starting the compilation process...
Documentation generation complete. Results are in _html/
Output from commands:
/tmp/odoc-5f6831/odoc-parser/odoc-parser/odoc_parser.odoc
---------------------------------------------------------
File &quot;src/parser/odoc_parser.mli&quot;, line 45, characters 30-45:
Warning: Failed to resolve reference unresolvedroot(parse_coment) Couldn't find &quot;parse_coment&quot;</code></pre><p>which highlights</p><h3 id="remapping-dependencies"><a href="#remapping-dependencies" class="anchor"></a>Remapping dependencies</h3><p>When producing documentation for OCaml projects, there are often links to types, modules, values and other items defined in other packages. In order that a complete set of documentation files is produced therefore, by default the documentation of the dependencies is produced. This may not always be desirable, so an option has been added to redirect links that would otherwise have gone to dependency documentation such that they instead link to the equivalent documentation page hosted on <a href="ocaml.org">https://ocaml.org</a>. In order to enable this, pass the argument <code>--remap</code> to <code>odoc_driver</code>.</p><p>When run in this mode, the main index page will by default only list those packages whose documentation has been built.</p><h3 id="overriding-the-main-index"><a href="#overriding-the-main-index" class="anchor"></a>Overriding the main index</h3><p>The main index by default is a simple list of the packages that have been documented. This can be overridden by the `--index-mld` flag, which takes a path to an <code>mld</code> formatted file that will be used in place of the autogenerated one. All packages and all libraries are included in the scope of this page and therefore any built package can be linked to via the syntax</p><pre class="language-ocaml"><code>{!/&lt;package name&gt;/page-index}</code></pre><p>and any library can be linked to via the syntax</p><pre class="language-ocaml"><code>{!/&lt;library name&gt;/&lt;Library Module&gt;}</code></pre><h3 id="json-output"><a href="#json-output" class="anchor"></a>JSON output</h3><p>When the option <code>--json-output</code> is passed to the driver, instead of producing HTML files it will instruct odoc to produce json output where the HTML would otherwise be. See the <a href="../odoc/json.html" title="json">odoc documentation</a> for this feature.</p><p>The per-page JSON output is written into the HTML output directory alongside where the HTML pages would ordinarily be, and the per-package sidebar is written to the package directory (ie, for package <code>odoc</code>, with html output dir set to the default <code>_html</code>, the sidebar JSON file is <code>_html/odoc/sidebar.json</code>.</p></div></body></html>
