<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>json (odoc.json)</title><meta charset="utf-8"/><link rel="stylesheet" href="../odoc.css"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../';
let search_urls = ['sherlodoc_db.js','../sherlodoc.js'];
</script><script src="../odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="index.html">Up</a> ‚Äì <a href="../index.html">üè†</a> &#x00BB; <a href="index.html">The odoc documentation generator</a> &#x00BB; JSON output</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="üîé Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1 id="json-output"><a href="#json-output" class="anchor"></a>JSON output</h1><p>In order to embed the output of odoc within another website, the html generator for odoc has a mode where instead of producing HTML files, it will produce JSON files where the HTML files would have been. For example, if the HTML generator would have produced a file <code>/x/y/z/index.html</code>, then when the <code>--as-json</code> flag is passed to <code>odoc html-generate</code>, it will instead write the file <code>/x/y/z/index.html.json</code>.</p><p>In addition, there is a per-package 'global' sidebar json file.</p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#example-page-json">Example page JSON</a></li><li><a href="#example-sidebar-json">Example sidebar json</a></li></ul></nav><nav class="odoc-toc odoc-global-toc"><ul><li><a href="index.html">The odoc documentation generator</a><ul><li><a href="odoc_for_authors.html"><code>odoc</code> for Authors</a></li><li><a href="cheatsheet.html">Cheatsheet</a></li><li><a href="dune.html">Dune and odoc</a></li><li><a href="features.html">Language Features</a></li><li><a href="ocamldoc_differences.html">Markup Differences From OCamldoc</a></li><li><a href="interface.html"><code>odoc</code> Interface Guarantees</a></li><li><a href="driver.html">How to Drive <code>odoc</code></a></li><li><a href="#" class="current_unit">JSON output</a></li><li><a href="deprecated/index.html">Deprecated features</a></li><li>Library <code>odoc.document</code><ul><li><a href="odoc.document/Odoc_document/index.html">Odoc_document</a></li></ul></li><li>Library <code>odoc.examples</code><ul><li><a href="odoc.examples/Odoc_examples/index.html">Odoc_examples</a></li></ul></li><li>Library <code>odoc.html</code><ul><li><a href="odoc.html/Odoc_html/index.html">Odoc_html</a></li></ul></li><li>Library <code>odoc.html_support_files</code><ul><li><a href="odoc.html_support_files/Odoc_html_support_files/index.html">Odoc_html_support_files</a></li></ul></li><li>Library <code>odoc.index</code><ul><li><a href="odoc.index/Odoc_index/index.html">Odoc_index</a></li></ul></li><li>Library <code>odoc.json_index</code><ul><li><a href="odoc.json_index/Odoc_json_index/index.html">Odoc_json_index</a></li></ul></li><li>Library <code>odoc.latex</code><ul><li><a href="odoc.latex/Odoc_latex/index.html">Odoc_latex</a></li></ul></li><li>Library <code>odoc.loader</code><ul><li><a href="odoc.loader/Odoc_loader/index.html">Odoc_loader</a></li></ul></li><li>Library <code>odoc.manpage</code><ul><li><a href="odoc.manpage/Odoc_manpage/index.html">Odoc_manpage</a></li></ul></li><li>Library <code>odoc.model</code><ul><li><a href="odoc.model/Odoc_model/index.html">Odoc_model</a></li></ul></li><li>Library <code>odoc.model_desc</code><ul><li><a href="odoc.model_desc/Odoc_model_desc/index.html">Odoc_model_desc</a></li></ul></li><li>Library <code>odoc.ocamlary</code><ul><li><a href="odoc.ocamlary/Ocamlary/index.html">Ocamlary</a></li></ul></li><li>Library <code>odoc.occurrences</code><ul><li><a href="odoc.occurrences/Odoc_occurrences/index.html">Odoc_occurrences</a></li></ul></li><li>Library <code>odoc.odoc</code><ul><li><a href="odoc.odoc/Odoc_odoc/index.html">Odoc_odoc</a></li></ul></li><li>Library <code>odoc.odoc_utils</code><ul><li><a href="odoc.odoc_utils/Odoc_utils/index.html">Odoc_utils</a></li></ul></li><li>Library <code>odoc.search</code><ul><li><a href="odoc.search/Odoc_search/index.html">Odoc_search</a></li></ul></li><li>Library <code>odoc.search_html_frontend</code><ul><li><a href="odoc.search_html_frontend/Odoc_html_frontend/index.html">Odoc_html_frontend</a></li></ul></li><li>Library <code>odoc.syntax_highlighter</code><ul><li><a href="odoc.syntax_highlighter/Syntax_highlighter/index.html">Syntax_highlighter</a></li></ul></li><li>Library <code>odoc.xref2</code><ul><li><a href="odoc.xref2/Odoc_xref2/index.html">Odoc_xref2</a></li></ul></li><li>Library <code>odoc.xref_test</code><ul><li><a href="odoc.xref_test/Odoc_xref_test/index.html">Odoc_xref_test</a></li></ul></li><li><a href="src/index.html">Sources</a></li></ul></li></ul></nav></div><div class="odoc-content"><h2 id="example-page-json"><a href="#example-page-json" class="anchor"></a>Example page JSON</h2><pre class="language-json"><code>{
  &quot;type&quot;: &quot;documentation&quot;,
  &quot;uses_katex&quot;: false,
  &quot;breadcrumbs&quot;: [
    {
      &quot;name&quot;: &quot;üè†&quot;,
      &quot;href&quot;: &quot;../../../index.html&quot;,
      &quot;kind&quot;: &quot;leaf-page&quot;
    },
    {
      &quot;name&quot;: &quot;ocaml-base-compiler&quot;,
      &quot;href&quot;: &quot;../../index.html&quot;,
      &quot;kind&quot;: &quot;leaf-page&quot;
    },
    {
      &quot;name&quot;: &quot;stdlib&quot;,
      &quot;href&quot;: null,
      &quot;kind&quot;: &quot;leaf-page&quot;
    },
    {
      &quot;name&quot;: &quot;Stdlib&quot;,
      &quot;href&quot;: &quot;#&quot;,
      &quot;kind&quot;: &quot;module&quot;
    }
  ],
 &quot;toc&quot;: [
    {
      &quot;title&quot;: &quot;Exceptions&quot;,
      &quot;href&quot;: &quot;#exceptions&quot;,
      &quot;children&quot;: []
    },
    {
      &quot;title&quot;: &quot;Integer arithmetic&quot;,
      &quot;href&quot;: &quot;#integer-arithmetic&quot;,
      &quot;children&quot;: [
        {
          &quot;title&quot;: &quot;Bitwise operations&quot;,
          &quot;href&quot;: &quot;#bitwise-operations&quot;,
          &quot;children&quot;: []
        }
      ]
    },
    &quot;source_anchor&quot;: &quot;../../src/stdlib/stdlib.ml.html&quot;,
    &quot;preamble&quot;: &quot;&lt;p&gt;The OCaml Standard library.&lt;/p&gt;&lt;p&gt;This module is automatically opened at the beginning of each compilation. All components of this module can therefore be referred by their short name, without prefixing them by &lt;code&gt;Stdlib&lt;/code&gt;.&lt;/
p&gt;&lt;p&gt;In particular, it provides the basic operations over the built-in types (numbers, booleans, byte sequences, strings, exceptions, references, lists, arrays, input-output channels, ...) and the &lt;a href=\&quot;#modules\&quot; title=\&quot;modules\&quot;&gt;standard librar
y modules&lt;/a&gt;.&lt;/p&gt;&quot;,
    &quot;content&quot;: &quot;&lt;h2 id=\&quot;exceptions\&quot;&gt;&lt;a href=\&quot;#exceptions\&quot; class=\&quot;anchor\&quot;&gt;&lt;/a&gt;Exceptions&lt;/h2&gt;&lt;div class=\&quot;odoc-spec\&quot;&gt;&lt;div class=\&quot;spec value external anchored\&quot; id=\&quot;val-raise\&quot;&gt;&lt;a href=\&quot;#val-raise\&quot; class=\&quot;anchor\&quot;&gt;&lt;/a&gt;&lt;a href=\&quot;../../src/stdli
b/stdlib.ml.html#val-raise\&quot; class=\&quot;source_link\&quot;&gt;Source&lt;/a&gt;&lt;code&gt;&lt;span&gt;&lt;span class=\&quot;keyword\&quot;&gt;val&lt;/span&gt; raise : &lt;span&gt;exn &lt;span class=\&quot;arrow\&quot;&gt;&amp;#45;&amp;gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=\&quot;type-var\&quot;&gt;'a&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/div&gt;&lt;div class=\&quot;spec-doc\&quot;&gt;&lt;
p&gt;Raise the given exception value&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;odoc-spec\&quot;&gt;&lt;div class=\&quot;spec value external anchored\&quot; id=\&quot;val-raise_notrace\&quot;&gt;&lt;a href=\&quot;#val-raise_notrace\&quot; class=\&quot;anchor\&quot;&gt;&lt;/a&gt;&lt;a href=\&quot;../../src/stdlib/stdlib.ml.html#val-raise_notr
ace\&quot; ....&quot;
}</code></pre><p>The fields of the JSON are as follows:</p><ul><li><code>type</code> field is either <code>documentation</code> or <code>source</code>.</li><li><code>uses_katex</code> is <code>true</code> if the page has math entries (<code>{m ...}</code> or <code>{math ...}</code>).</li><li><code>breadcrumbs</code> is a list of breadcrumb entries with members <code>name</code>, <code>href</code> and <code>kind</code>. If <code>href</code> is null then there is no index page at that location in the hierarchy. <code>kind</code> is one of <code>page</code>, <code>module</code>, <code>leaf-page</code>, <code>module-type</code>, <code>argument-&lt;number&gt;</code>, <code>class</code>, <code>class-type</code>, <code>file</code> or <code>source</code></li><li><code>toc</code> contains the table-of-contents for the page. This consists of a list of objects containing fields <code>title</code>, <code>href</code> and <code>children</code>. <code>title</code> is a string containing HTML. <code>href</code> is the anchor in the page, and <code>children</code> is a list of more of these entries representing the sub-items in the table-of-contents.</li><li><code>source_anchor</code> is the URL of the corresponding source file, if it exists.</li><li><code>preamble</code> is a string containing HTML for the preamble of the page.</li><li><code>content</code> is a string containing HTML for the main content of the page.</li></ul><p>The data contained in these JSON files can be used to embed the HTML as rendered by odoc into a more complex site. The main requirement is that it is expected that an HTML page will exist at every location where a JSON file has been written. This is to ensure that relative links work.</p><h2 id="example-sidebar-json"><a href="#example-sidebar-json" class="anchor"></a>Example sidebar json</h2><pre class="language-json"><code>[
  {
    &quot;node&quot;: {
      &quot;url&quot;: &quot;ocaml-base-compiler/index.html&quot;,
      &quot;kind&quot;: &quot;leaf-page&quot;,
      &quot;content&quot;: &quot;ocaml-base-compiler&quot;
    },
    &quot;children&quot;: [
      {
        &quot;node&quot;: {
          &quot;url&quot;: null,
          &quot;kind&quot;: null,
          &quot;content&quot;: &quot;compiler-libs.bytecomp&quot;
        },
        &quot;children&quot;: [
          {
            &quot;node&quot;: {
              &quot;url&quot;: &quot;ocaml-base-compiler/compiler-libs.bytecomp/Bytegen/index.html&quot;,
              &quot;kind&quot;: &quot;module&quot;,
              &quot;content&quot;: &quot;Bytegen&quot;
            },
            &quot;children&quot;: []
          },
          {
            &quot;node&quot;: {
              &quot;url&quot;: &quot;ocaml-base-compiler/compiler-libs.bytecomp/Bytelibrarian/index.html&quot;,
              &quot;kind&quot;: &quot;module&quot;,
              &quot;content&quot;: &quot;Bytelibrarian&quot;
            },
            &quot;children&quot;: []
            ...</code></pre><p>The 'global' sidebar JSON file consists of a list of objects, each containing a <code>node</code> field and a <code>children</code> field. The <code>node</code> field contains an object containing a <code>url</code>, <code>kind</code> and <code>content</code>. The <code>kind</code> page is similar to that in the breadcrumbs above. The <code>content</code> field is an HTML string, and the <code>url</code> field is a string.</p></div></body></html>
